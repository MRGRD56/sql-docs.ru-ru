---
description: Преобразование объектов баз данных Sybase ASE (SybaseToSQL)
title: Преобразование объектов базы данных Sybase ASE (SybaseToSQL) | Документация Майкрософт
ms.custom: ''
ms.date: 12/01/2017
ms.prod: sql
ms.reviewer: ''
ms.technology: ssma
ms.topic: conceptual
helpviewer_keywords:
- Converting Database Objects
ms.assetid: 509cb65d-2f54-427a-83d7-37919cc4e3e3
author: nahk-ivanov
ms.author: alexiva
ms.openlocfilehash: 66384c27490bbc9d330f5f2d186bad1b4f4b97ee
ms.sourcegitcommit: 22dacedeb6e8721e7cdb6279a946d4002cfb5da3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/14/2020
ms.locfileid: "92038868"
---
# <a name="converting-sap-ase-database-objects-sybasetosql"></a>Преобразование объектов базы данных SAP ASE (SybaseToSQL)
После подключения к адаптивному серверу SAP (ASE), подключению к [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] или SQL Azure и настройке параметров проекта и сопоставления данных можно преобразовать объекты базы данных SAP адаптивного сервера Enterprise (ASE) в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] или объекты базы данных SQL Azure.  
  
## <a name="the-conversion-process"></a>Процесс преобразования  
Преобразование объектов базы данных принимает определения объектов из ASE, преобразует их в аналогичные [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] или SQL Azureные объекты, а затем загружает эти сведения в метаданные SSMA. Он не загружает сведения в экземпляр [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] или Azure SQL. Затем можно просмотреть объекты и их свойства с помощью [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] или обозревателя МЕТАДАННЫХ SQL Azure.
  
Во время преобразования SSMA выводит выходные сообщения на панель вывода и сообщения об ошибках в область **Список ошибок** . Используйте выходные данные и сведения об ошибке, чтобы определить, нужно ли изменить базы данных ASE или процесс преобразования, чтобы получить нужные результаты преобразования.  
  
## <a name="setting-conversion-options"></a>Настройка параметров преобразования  
Перед преобразованием объектов проверьте параметры преобразования проекта в диалоговом окне " **Параметры проекта** ". С помощью этого диалогового окна можно задать, как SSMA преобразует функции и глобальные переменные. Дополнительные сведения см. в разделе [Project Settings &#40;Conversion&#41; &#40;SybaseToSQL&#41;](../../ssma/sybase/project-settings-conversion-sybasetosql.md).  
  
## <a name="converting-ase-database-objects"></a>Преобразование объектов базы данных ASE  
Чтобы преобразовать объекты базы данных ASE, сначала выберите объекты, которые необходимо преобразовать, а затем SSMA выполнить преобразование. Чтобы просмотреть выходные сообщения во время преобразования, в меню **вид** выберите **выходные данные**.  
  
**Преобразование объектов ASE в синтаксис SQL Server или SQL Azure**  
  
1.  В обозревателе метаданных Sybase разверните сервер ASE, а затем узел **базы данных**.  
  
2.  Выберите объекты для преобразования:  
  
    -   Чтобы преобразовать все базы данных, установите флажок рядом с пунктом **базы данных**.  
  
    -   Чтобы преобразовать или опустить базу данных, установите или снимите флажок рядом с именем базы данных.  
  
    -   Чтобы преобразовать или опустить отдельные схемы, разверните базу данных, разверните узел **схемы**, а затем установите или снимите флажок рядом со схемой.  
  
    -   Чтобы преобразовать или опустить категорию объектов, разверните схему, а затем установите или снимите флажок рядом с категорией.  
  
    -   Чтобы преобразовать или опустить отдельные объекты, разверните папку Категория, а затем установите или снимите флажок рядом с объектом.  
  
3.  Чтобы преобразовать все выбранные объекты, щелкните правой кнопкой мыши элемент **базы данных**и выберите команду **преобразовать схему**.  
  
    Можно также преобразовать отдельные объекты или категории объектов, щелкнув правой кнопкой мыши объект или содержащую его папку, а затем выбрав команду **преобразовать схему**.  
  
> [!NOTE]  
> Некоторые системные функции SAP ASE не полностью соответствуют эквивалентным SQL Server системным функциям в поведении. Чтобы эмулировать поведение SAP ASE, SSMA создает определяемые пользователем функции в преобразованной SQL Server базе данных в схеме с именем 2SS. В зависимости от параметров проекта некоторые из SQL Server системных функций заменяются этими эмулированныхми функциями. SSMA создает следующие определяемые пользователем функции:  

:::row:::
    :::column:::
        **char_length_nvarchar**  
        **char_length_varchar**  
        **charindex_nvarchar**  
        **charindex_varchar**  
        **хекстоинт**  
        **index_colorder**  
    :::column-end:::
    :::column:::
        **инттохекс**  
        **ssma_current_time**  
        **ssma_datediff**  
        **ssma_datepart**  
        **substring_nvarchar**  
        **substring_varbinary**  
    :::column-end:::
    :::column:::
        **substring_varchar**  
        **to_unichar**  
        **ухигхсурр**  
        **уловсурр**  
    :::column-end:::
:::row-end:::

## <a name="objects-not-supported-in-azure-sql"></a>Объекты, не поддерживаемые в SQL Azure  
Следующие ключевые слова T-SQL используются SSMA для SAP ASE во время преобразования SQL Server в локальную среду, но эти ключевые слова не поддерживаются SQL Azure синтаксисом T-SQL:  

:::row:::
    :::column:::
        CHECKPOINT  
        CREATE/ALTER/DROP DEFAULT  
        CREATE/DROP RULE  
        DBCC TRACEOFF  
        DBCC TRACEON  
    :::column-end:::
    :::column:::
        GRANT/REVOKE/DENY ALL  
        KILL  
        READTEXT  
        SELECT INTO  
        SET OFFSETS  
    :::column-end:::
    :::column:::
        SETUSER  
        SHUTDOWN  
        WRITETEXT  
    :::column-end:::
:::row-end:::

## <a name="viewing-conversion-problems"></a>Просмотр проблем преобразования  
Некоторые объекты SAP ASE могут не преобразовываться. Вы можете определить ставки успешности преобразования, просмотрев отчет о преобразовании сводки.  
  
**Просмотр сводного отчета**  
  
1.  В обозревателе метаданных Sybase выберите **базы данных**.  
  
2.  На правой панели выберите вкладку **отчет** .  
  
    В этом отчете представлен сводный отчет по оценке для всех объектов базы данных, которые были оценены или преобразованы. Также можно просмотреть сводный отчет по отдельным объектам:  
  
    -   Чтобы просмотреть отчет для отдельной базы данных, выберите базу данных в обозревателе метаданных Sybase.  
  
    -   Чтобы просмотреть отчет для отдельного объекта базы данных, выберите объект в обозревателе метаданных Sybase. Объекты, имеющие проблемы преобразования, имеют красный значок ошибки.  
  
Для объектов, которые не удалось преобразовать, можно просмотреть синтаксис, который привел к сбою преобразования.  
  
**Просмотр отдельных проблем преобразования**  
  
1.  В обозревателе метаданных Sybase разверните узел **базы данных**.  
  
2.  Разверните базу данных, в которой отображается красный значок ошибки.  
  
3.  Разверните папку **схемы** , а затем раскройте схему, в которой отображается красный значок ошибки.  
  
4.  В схеме разверните папку с красным значком ошибки.  
  
5.  Выберите объект с красным значком ошибки.  
  
6.  На правой панели выберите вкладку **отчет** .  
  
7.  В верхней части вкладки **отчета** находится раскрывающийся список. Если в списке отображается **Статистика**, измените выбор на **источник**.  
  
    SSMA будет отображать исходный код и несколько кнопок непосредственно над кодом.  
  
8.  Выберите **Следующая проблема**, красный значок ошибки со стрелкой вправо.  
  
    SSMA для SAP ASE выделит первый проблемный исходный код, найденный в текущем объекте.  
  
Для каждого элемента, который не удалось преобразовать, необходимо определить, что нужно сделать с этим объектом:  
  
-   Исходный код для процедур и триггеров можно изменить на вкладке **SQL** .  
  
-   Вы можете изменить объект SAP ASE, чтобы удалить или исправить проблемный код. Чтобы загрузить обновленный код в SSMA, необходимо обновить метаданные. Дополнительные сведения см. [в разделе Подключение к SAP ASE &#40;SybaseToSQL&#41;](../../ssma/sybase/connecting-to-sybase-ase-sybasetosql.md).  
  
-   Вы можете исключить объект из миграции. В [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] обозревателе МЕТАДАННЫХ SQL Azure и в обозревателе метаданных Sybase снимите флажок рядом с элементом перед загрузкой объектов в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] или Azure SQL и переносом данных из SAP ASE.  
  
## <a name="next-steps"></a>Дальнейшие действия  
Следующий шаг процесса миграции [загружает преобразованные объекты базы данных в SQL Server или SQL Azure (SybaseToSQL)](./loading-converted-database-objects-into-sql-server-sybasetosql.md).  
  
## <a name="see-also"></a>См. также статью  
[Миграция баз данных SAP ASE в SQL Server — база данных SQL Azure &#40;SybaseToSQL&#41;](../../ssma/sybase/migrating-sybase-ase-databases-to-sql-server-azure-sql-db-sybasetosql.md)  
