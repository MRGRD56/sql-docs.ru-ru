---
title: Преобразование схем Oracle (OracleToSQL) | Документация Майкрософт
description: Узнайте, как преобразовать объекты базы данных Oracle в SQL Server объекты базы данных с помощью SSMA для Oracle после настройки параметров и подключения к Oracle и SQL Server.
ms.prod: sql
ms.custom: ''
ms.date: 01/19/2017
ms.reviewer: ''
ms.technology: ssma
ms.topic: conceptual
helpviewer_keywords:
- Conversion Results
ms.assetid: e021182d-31da-443d-b110-937f5db27272
author: nahk-ivanov
ms.author: alexiva
manager: alexiva
ms.openlocfilehash: 8e2ee101ec916a920d4b72d924456a52850e8bc7
ms.sourcegitcommit: 917df4ffd22e4a229af7dc481dcce3ebba0aa4d7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/10/2021
ms.locfileid: "100058759"
---
# <a name="converting-oracle-schemas-oracletosql"></a>Преобразование схем Oracle (OracleToSQL)
После подключения к Oracle, подключения к [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] и настройки параметров проекта и сопоставления данных можно преобразовать объекты базы данных Oracle в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] объекты базы данных.  
  
## <a name="the-conversion-process"></a>Процесс преобразования  
Преобразование объектов базы данных принимает определения объектов из Oracle, преобразует их в аналогичные [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] объекты, а затем загружает эту информацию в метаданные SSMA. Он не загружает сведения в экземпляр [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] . Затем можно просмотреть объекты и их свойства с помощью [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] обозревателя метаданных.  
  
Во время преобразования SSMA выводит выходные сообщения на панель вывода и сообщения об ошибках в область список ошибок. Используйте выходные данные и сведения об ошибках, чтобы определить, нужно ли изменить базы данных Oracle или процесс преобразования, чтобы получить нужные результаты преобразования.  
  
## <a name="setting-conversion-options"></a>Настройка параметров преобразования  
Перед преобразованием объектов проверьте параметры преобразования проекта в диалоговом окне " **Параметры проекта** ". С помощью этого диалогового окна можно задать, как SSMA преобразует функции и глобальные переменные. Дополнительные сведения см. в разделе [Project Settings &#40;Conversion&#41; &#40;OracleToSQL&#41;](../../ssma/oracle/project-settings-conversion-oracletosql.md).  
  
## <a name="conversion-results"></a>Результаты преобразования  
В следующей таблице показано, какие объекты Oracle преобразуются, а также итоговые [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] объекты.  
  
|Объекты Oracle|Результирующие SQL Server объекты|  
|-|-|  
|Функции|Если функция может быть напрямую преобразована в [!INCLUDE[tsql](../../includes/tsql-md.md)] , SSMA создает функцию.<br /><br />В некоторых случаях функция должна быть преобразована в хранимую процедуру. В этом случае SSMA создает хранимую процедуру и функцию, которая вызывает хранимую процедуру.|  
|Процедуры|Если процедуру можно преобразовать непосредственно в [!INCLUDE[tsql](../../includes/tsql-md.md)] , SSMA создает хранимую процедуру.<br /><br />В некоторых случаях хранимая процедура должна вызываться в автономной транзакции. В этом случае SSMA создает две хранимые процедуры: одну, которая реализует процедуру, и другую, которая используется для вызова хранимой процедуры.|  
|Пакеты|SSMA создает набор хранимых процедур и функций, Объединенных аналогичными именами объектов.|  
|Последовательности|SSMA создает объекты последовательности (SQL Server 2012 или SQL Server 2014) или эмулирует последовательности Oracle.|  
|Таблицы с зависимыми объектами, такими как индексы и триггеры|SSMA создает таблицы с зависимыми объектами.|  
|Представление с зависимыми объектами, такими как триггеры|SSMA создает представления с зависимыми объектами.|  
|Материализованные представления|**SSMA создает индексированные представления на сервере SQL Server с некоторыми исключениями. Преобразование завершится ошибкой, если материализованный вид содержит одну или несколько следующих конструкций:**<br /><br />Определяемая пользователем функция<br /><br />Недетерминированное поле, функция или выражение в предложениях SELECT, WHERE или GROUP BY<br /><br />Использование столбца с плавающей запятой в предложениях SELECT *, WHERE или GROUP BY (особый случай предыдущей проблемы)<br /><br />Пользовательский тип данных (включая вложенные таблицы)<br /><br />COUNT (уникальное &lt; поле &gt; )<br /><br />FETCH<br /><br />Инструкции объединения OUTER (LEFT, RIGHT или FULL)<br /><br />Вложенный запрос, другое представление<br /><br />БОЛЕЕ, РАНЖИРОВАНИЕ, ИНТЕРЕС, ЖУРНАЛ<br /><br />MIN, MAX<br /><br />UNION, МИНУС, INTERSECT<br /><br />HAVING|  
|Триггер|**SSMA создает триггеры на основе следующих правил:**<br /><br />Триггеры BEFORE преобразуются в триггеры INSTEAD OF.<br /><br />Триггеры AFTER преобразуются в триггеры AFTER.<br /><br />Триггеры INSTEAD OF преобразуются в триггеры INSTEAD OF. Несколько триггеров INSTEAD OF, определенных в одной операции, объединяются в один триггер.<br /><br />Триггеры уровня строки имитируются с помощью курсоров.<br /><br />Каскадные триггеры преобразуются в несколько отдельных триггеров.|  
|Синонимы|**Синонимы создаются для следующих типов объектов:**<br /><br />Таблицы и таблицы объектов<br /><br />Представления и представления объектов<br /><br />Хранимые процедуры<br /><br />Функции<br /><br />**Синонимы для следующих объектов разрешаются и заменяются прямыми ссылками на объекты:**<br /><br />Последовательности<br /><br />Пакеты<br /><br />Объекты схемы классов Java<br /><br />Определяемые пользователем типы объектов<br /><br />Синонимы для другого синонима не могут быть перенесены и будут отмечены как ошибки.<br /><br />Для материализованных представлений синонимы не создаются.|  
|Определяемые пользователем типы|**SSMA не обеспечивает поддержку преобразования определяемых пользователем типов. Определяемые пользователем типы, включая использование в программах PL/SQL, помечаются специальными ошибками преобразования, которые описаны в следующих правилах.**<br /><br />Столбец таблицы определяемого пользователем типа преобразуется в тип VARCHAR (8000).<br /><br />Аргумент определяемого пользователем типа для хранимой процедуры или функции преобразуется в тип VARCHAR (8000).<br /><br />Переменная определяемого пользователем типа в блоке PL/SQL преобразуется в тип VARCHAR (8000).<br /><br />Таблица объектов преобразуется в стандартную таблицу.<br /><br />Представление объекта преобразуется в стандартное представление.|  
  
## <a name="converting-oracle-database-objects"></a>Преобразование объектов Oracle Database  
Для преобразования объектов базы данных Oracle сначала необходимо выбрать объекты, которые необходимо преобразовать, а затем SSMA выполнить преобразование. Чтобы просмотреть выходные сообщения во время преобразования, в меню **вид** выберите **выходные данные**.  
  
**Преобразование объектов Oracle в синтаксис SQL Server**  
  
1.  В обозревателе метаданных Oracle разверните сервер Oracle, а затем узел **схемы**.  
  
2.  Выберите объекты для преобразования:  
  
    -   Чтобы преобразовать все схемы, установите флажок рядом с пунктом **схемы**.  
  
    -   Чтобы преобразовать или опустить базу данных, установите флажок рядом с именем схемы.  
  
    -   Чтобы преобразовать или опустить категорию объектов, разверните схему, а затем установите или снимите флажок рядом с категорией.  
  
    -   Чтобы преобразовать или опустить отдельные объекты, разверните папку Категория, а затем установите или снимите флажок рядом с объектом.  
  
3.  Чтобы преобразовать все выбранные объекты, щелкните правой кнопкой мыши **схемы** и выберите команду **преобразовать схему**.  
  
    Можно также преобразовать отдельные объекты или категории объектов, щелкнув правой кнопкой мыши объект или его родительскую папку, а затем выбрав команду **преобразовать схему**.  
  
## <a name="viewing-conversion-problems"></a>Просмотр проблем преобразования  
Некоторые объекты Oracle не могут быть преобразованы. Вы можете определить ставки успешности преобразования, просмотрев отчет о преобразовании сводки.  
  
**Просмотр сводного отчета**  
  
1.  В обозревателе метаданных Oracle выберите **схемы**.  
  
2.  На правой панели выберите вкладку **отчет** .  
  
    В этом отчете представлен сводный отчет по оценке для всех объектов базы данных, которые были оценены или преобразованы. Также можно просмотреть сводный отчет по отдельным объектам:  
  
    -   Чтобы просмотреть отчет для отдельной схемы, выберите схему в обозревателе метаданных Oracle.  
  
    -   Чтобы просмотреть отчет для отдельного объекта, выберите объект в обозревателе метаданных Oracle. Объекты, имеющие проблемы преобразования, имеют красный значок ошибки.  
  
Для объектов, которые не удалось преобразовать, можно просмотреть синтаксис, который привел к сбою преобразования.  
  
**Просмотр отдельных проблем преобразования**  
  
1.  В обозревателе метаданных Oracle разверните узел **схемы**.  
  
2.  Разверните схему, на которой отображается красный значок ошибки.  
  
3.  В схеме разверните папку с красным значком ошибки.  
  
4.  Выберите объект с красным значком ошибки.  
  
5.  На правой панели щелкните вкладку **отчет** .  
  
6.  В верхней части вкладки **отчета** находится раскрывающийся список. Если в списке отображается **Статистика**, измените выбор на **источник**.  
  
    SSMA будет отображать исходный код и несколько кнопок непосредственно над кодом.  
  
7.  Нажмите кнопку **Следующая проблема** . Это красный значок ошибки со стрелкой, указывающей вправо.  
  
    SSMA выделит первый проблемный исходный код, найденный в текущем объекте.  
  
Для каждого элемента, который не удалось преобразовать, необходимо определить, что нужно сделать с этим объектом:  
  
-   Исходный код для процедур можно изменить на вкладке **SQL** .  
  
-   Можно изменить объект в базе данных Oracle, чтобы удалить или исправить проблемный код. Чтобы загрузить обновленный код в SSMA, необходимо обновить метаданные. Дополнительные сведения см. [в разделе Подключение к Oracle Database &#40;OracleToSQL&#41;](../../ssma/oracle/connecting-to-oracle-database-oracletosql.md).  
  
-   Вы можете исключить объект из миграции. В [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] обозревателе метаданных и обозревателе метаданных Oracle снимите флажок рядом с элементом перед загрузкой объектов в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] и миграции данных из Oracle.  
  
## <a name="next-step"></a>Следующий шаг  
Следующим шагом процесса миграции является [Загрузка преобразованных объектов в SQL Server](loading-converted-database-objects-into-sql-server-oracletosql.md).  
  
## <a name="see-also"></a>См. также:  
[Перенос баз данных Oracle в SQL Server &#40;OracleToSQL&#41;](../../ssma/oracle/migrating-oracle-databases-to-sql-server-oracletosql.md)  
  
