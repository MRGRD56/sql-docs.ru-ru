---
title: Подключение к базе данных DB2 (DB2ToSQL) | Документация Майкрософт
description: Узнайте, как подключиться к целевому экземпляру базы данных DB2 для переноса баз данных DB2. SSMA получает метаданные обо всех схемах DB2.
ms.prod: sql
ms.custom: ''
ms.date: 07/14/2020
ms.reviewer: ''
ms.technology: ssma
ms.topic: conceptual
ms.assetid: 5eb5801d-f0c3-4127-97c0-0b1ef49f4844
author: nahk-ivanov
ms.author: alexiva
ms.openlocfilehash: d0ac703c8ea155f33ecb713b98a26f0c39b5a695
ms.sourcegitcommit: 82b92f73ca32fc28e1948aab70f37f0efdb54e39
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/18/2020
ms.locfileid: "94870080"
---
# <a name="connecting-to-db2-database-db2tosql"></a>Подключение к базе данных DB2 (DB2ToSQL)

Чтобы перенести базы данных DB2 в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , необходимо подключиться к базе данных DB2, которую требуется перенести. При подключении SSMA получает метаданные обо всех схемах DB2, а затем отображает их на панели обозревателя метаданных DB2. SSMA хранит сведения о сервере базы данных, но не сохраняет пароли.

Подключение к базе данных остается активным до тех пор, пока проект не будет закрыт. При повторном открытии проекта необходимо выполнить повторное подключение, если требуется активное соединение с базой данных.

Метаданные базы данных DB2 не обновляются автоматически. Вместо этого, если требуется обновить метаданные в обозревателе метаданных DB2, необходимо вручную обновить ее. Дополнительные сведения см. в подразделе «обновление метаданных DB2» далее в этом разделе.

## <a name="required-db2-permissions"></a>Необходимые разрешения DB2

Авторизация пользователя определяет список команд и объектов, доступных для пользователя. Этот список позволяет управлять действиями пользователя. В DB2 есть предварительно определенные группы привилегий для авторизации, как на уровне экземпляра, так и на уровне базы данных DB2. Это позволяет SSMA получать метаданные из схем, принадлежащих подключающимся пользователям. Чтобы получить метаданные для объектов в других схемах, а затем преобразовать объекты в этих схемах, учетная запись должна иметь следующие разрешения:

- Доступ к схеме для миграции схемы обычно предоставляется общедоступному, если только ключевое слово restrict не использовалось в CREATE
- Для доступа к данным при переносе данных требуется доступ

## <a name="establishing-a-connection-to-db2"></a>Установление соединения с DB2

При подключении к базе данных SSMA считывает метаданные базы данных, а затем добавляет эти метаданные в файл проекта. Эти метаданные используются SSMA при преобразовании объектов в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] синтаксис, а также при переносе данных в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] . Вы можете просматривать эти метаданные на панели Обозреватель метаданных DB2 и просматривать свойства отдельных объектов базы данных.  

> [!IMPORTANT]
> Перед попыткой подключения убедитесь, что сервер базы данных работает и может принимать подключения.

**Подключение к DB2**

1. В меню **файл** выберите **подключиться к DB2**.

   Если ранее вы подключились к DB2, имя команды будет **повторно подключено к DB2**.

2. В поле **поставщик** вы увидите **поставщика OLE DB** , который в настоящее время является единственным поставщиком клиентского доступа DB2.

3. В поле " **руководитель** " можно выбрать **DB2 для ЗОС**, **DB2 для LUW** или **DB2 для i**

4. В поле **режим** выберите **стандартный режим** или **режим строки подключения**.

   Используйте стандартный режим для указания имени и порта сервера. Используйте режим имени службы, чтобы указать имя службы DB2 вручную. Используйте режим строки подключения для предоставления полной строки подключения.

5. Если выбран **стандартный режим**, укажите следующие значения:

   - В поле **имя сервера** введите или выберите имя или IP-адрес сервера базы данных.
   - Если сервер базы данных не настроен для приема подключений через порт по умолчанию (1521), введите номер порта, используемый для подключений DB2, в поле **порт сервера** .
   - В поле **порт сервера** введите номер порта TCP/IP.
   - В поле **Исходный каталог** введите имя базы данных.
   - В поле **имя пользователя** введите учетную запись DB2 с необходимыми разрешениями.
   - В поле **пароль** введите пароль для указанного имени пользователя.

6. Если выбран **режим строка подключения**, укажите строку подключения в поле **строка подключения** .

   В следующем примере показана строка подключения OLE DB:

   `Provider=OraOLEDB.DB2;Data Source=MyDB2DB;User Id=myUsername;Password=myPassword;`

   В следующем примере показана строка подключения клиента DB2, использующая встроенную безопасность:
  
   `Data Source=MyDB2DB;Integrated Security=yes;`

   Дополнительные сведения см. [в статье подключение к Oracle &#40;OracleToSQL&#41;](../../ssma/oracle/connect-to-oracle-oracletosql.md).
  
## <a name="reconnecting-to-db2"></a>Повторное подключение к DB2

Подключение к серверу базы данных остается активным до тех пор, пока проект не будет закрыт. При повторном открытии проекта необходимо выполнить повторное подключение, если требуется активное соединение с базой данных. Вы можете работать в автономном режиме, пока не захотите обновить метаданные, загрузить объекты базы данных в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] и перенести данные.

## <a name="refreshing-db2-metadata"></a>Обновление метаданных DB2

Метаданные базы данных DB2 не обновляются автоматически. Метаданные в обозревателе метаданных DB2 — это моментальный снимок метаданных при первом подключении или при последнем обновлении вручную метаданных. Метаданные можно обновлять вручную для всех схем, одной схемы или отдельных объектов базы данных.

**Обновление метаданных**

1. Убедитесь, что вы подключены к базе данных.
2. В обозревателе метаданных DB2 установите флажок рядом с каждой схемой или объектом базы данных, которые необходимо обновить.
3. Щелкните правой кнопкой мыши **схемы** или отдельную схему или объект базы данных, а затем выберите пункт **Обновить из базы данных**.

   Если у вас нет активного подключения, SSMA отобразит диалоговое окно **Подключение к DB2** , чтобы можно было подключиться.
  
4. В диалоговом окне Обновление из базы данных укажите объекты для обновления.
   - Чтобы обновить объект, щелкните **активное** поле рядом с объектом, пока не появится стрелка.
   - Чтобы предотвратить обновление объекта, щелкните **активное** поле рядом с объектом, пока не появится знак **X** .
   - Чтобы обновить или отклонить категорию объектов, щелкните **активное** поле рядом с папкой категории.

     Чтобы просмотреть определения цветового кодирования, нажмите кнопку **Условные обозначения** .

5. [!INCLUDE[click OK](../../includes/clickok-md.md)]

## <a name="next-step"></a>Следующий шаг

- Следующим шагом процесса миграции является [Подключение к SQL Server](./connecting-to-sql-server-db2tosql.md).

## <a name="see-also"></a>См. также:

- [Перенос баз данных DB2 в SQL Server &#40;DB2ToSQL&#41;](../../ssma/db2/migrating-db2-databases-to-sql-server-db2tosql.md)