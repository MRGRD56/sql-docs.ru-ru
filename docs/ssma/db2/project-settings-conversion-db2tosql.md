---
description: Параметры проекта (преобразование) (DB2ToSQL)
title: Параметры проекта (преобразование) (DB2ToSQL) | Документация Майкрософт
ms.prod: sql
ms.custom: ''
ms.date: 01/19/2017
ms.reviewer: ''
ms.technology: ssma
ms.topic: conceptual
ms.assetid: 538c93cf-c5bb-43d5-b758-186d9fb00c19
author: nahk-ivanov
ms.author: alexiva
ms.openlocfilehash: 5d01a893a2284a85fd4540d532500b7915a97326
ms.sourcegitcommit: 917df4ffd22e4a229af7dc481dcce3ebba0aa4d7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/10/2021
ms.locfileid: "100072348"
---
# <a name="project-settings-conversion-db2tosql"></a>Параметры проекта (преобразование) (DB2ToSQL)
На странице преобразование диалогового окна **Параметры проекта** содержатся параметры, которые позволяют настроить SSMA преобразование синтаксиса DB2 в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] синтаксис.  
  
Панель преобразования доступна в диалоговых окнах **Параметры проекта** и **Параметры проекта по умолчанию** .  
  
-   Чтобы задать параметры для всех проектов SSMA, в меню **Сервис** выберите пункт **Параметры проекта по умолчанию**, выберите тип проекта миграции, для которого необходимо просмотреть или изменить параметры в раскрывающемся списке **версия целевого объекта миграции** , а затем щелкните **Общие** в нижней части левой панели, а затем нажмите кнопку **Преобразование**.  
  
-   Чтобы указать параметры для текущего проекта, в меню **Сервис** выберите пункт **Параметры проекта**, затем щелкните **Общие** в нижней части левой панели, а затем щелкните **Преобразование**.  
  
## <a name="conversion-messages"></a>Сообщения о преобразовании  
  
### <a name="generate-messages-about-issues-applied"></a>Создавать сообщения о проблемах, примененных  
Указывает, создает ли SSMA информационные сообщения во время преобразования, отображает их в области вывода и добавляет их в преобразованный код.  
  
При выборе режима преобразования в поле **режим** SSMA применяет следующий параметр:  
  
**По умолчанию или оптимистичный режим:** Нет  
  
**Полный режим:** Нет  
  
## <a name="miscellaneous-options"></a>Прочие параметры  
  
### <a name="cast-rownum-expressions-as-integers"></a>Приведение выражений ROWNUM в качестве целых чисел  
Когда SSMA преобразует выражения ROWNUM, оно преобразует выражение в предложение TOP, за которым следует выражение. В следующем примере показано, как ROWNUM в инструкции DELETE для DB2:  
  
`DELETE FROM Table1`  
  
`WHERE ROWNUM < expression and Field1 >= 2`  
  
В следующем примере показан итоговый результат [!INCLUDE[tsql](../../includes/tsql-md.md)] :  
  
`DELETE TOP (expression-1)`  
  
`FROM Table1`  
  
`WHERE Field1>=2`  
  
Для TOP требуется, чтобы выражение TOP Orders было равно целому числу. Если целое число отрицательное, инструкция вызовет ошибку.  
  
-   При выборе значения **Да** SSMA преобразует выражение в целое число.  
  
-   Если выбрано значение **нет**, SSMA помечает все Нецелочисленные выражения как ошибки в преобразованном коде.  
  
При выборе режима преобразования в поле **режим** SSMA применяет следующий параметр:  
  
**По умолчанию или полный режим:** Нет  
  
**Оптимистичный режим:** Да  
  
### <a name="default-schema-mapping"></a>Сопоставление схемы по умолчанию  
Этот параметр указывает, как схемы DB2 сопоставляются со схемами SQL Server. В этом параметре доступны два параметра:  
  
1.  Из **схемы в базу данных:** В этом режиме схема DB2 "sch1" по умолчанию будет сопоставлена с "dbo" SQL Server схемой в SQL Server базе данных "sch1".  
  
2.  **Схема к схеме:** В этом режиме схема DB2 "sch1" по умолчанию будет сопоставлена с "sch1" SQL Server схемой в базе данных SQL Server по умолчанию, указанной в диалоговом окне соединения.  
  
При выборе режима преобразования в поле **режим** SSMA применяет следующий параметр:  
  
**По умолчанию/оптимистичный/полный режим:** Из схемы в базу данных  
  
### <a name="conversion-ways-of-merge-statement"></a>Способы преобразования инструкции MERGE  
  
-   Если выбрать **Использование инструкций INSERT, Update, DELETE**, SSMA преобразует инструкцию слияния в инструкции INSERT, Update и DELETE.  
  
-   При выборе **с помощью инструкции MERGE** SSMA преобразует инструкцию слияния в инструкцию MERGE в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .  
  
> [!WARNING]  
> Этот параметр проекта доступен только в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 2008, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 2012, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] 2014.  
  
При выборе режима преобразования в поле **режим** SSMA применяет следующий параметр:  
  
**По умолчанию/оптимистичный/полный режим:** Использование инструкции MERGE  
  
### <a name="convert-calls-to-subprograms-that-use-default-arguments"></a>Преобразовывать вызовы в подпрограммы, использующие аргументы по умолчанию  
[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] функции не поддерживают пропуск параметров в вызове функции. Кроме того, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] функции и процедуры не поддерживают выражения в качестве значений параметров по умолчанию.  
  
-   Если выбрано **значение Да** , а в вызове функции опущены параметры, SSMA вставит ключевое слово **Default** в функцию и выполнит вызов в правильном положении. После этого вызов будет помечен предупреждением.  
  
-   Если выбрано значение **нет**, SSMA помечает вызовы функции как ошибки.  
  
При выборе режима преобразования в поле **режим** SSMA применяет следующий параметр:  
  
**По умолчанию/оптимистичный/полный режим:** Да  
  
### <a name="convert-count-function-to-count_big"></a>Преобразуйте функцию COUNT в COUNT_BIG  
Если функции подсчета, скорее всего, возвращают значения, превышающие 2 147 483 647, что равно 2<sup>31</sup>-1, необходимо преобразовать функции в COUNT_BIG.  
  
-   Если выбрать **Да**, SSMA будет преобразовывать все варианты использования счетчика в COUNT_BIG.  
  
-   Если выбрано значение **нет**, функции будут сохраняться как количество. [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Если функция возвращает значение, большее 2<sup>31</sup>-1, будет возвращена ошибка.  
  
При выборе режима преобразования в поле **режим** SSMA применяет следующий параметр:  
  
**По умолчанию или полный режим:** Да  
  
**Оптимистичный режим:** Нет  
  
### <a name="convert-forall-statement-to-while-statement"></a>Преобразование инструкции FORALL в инструкцию WHILE  
Определяет, как SSMA будет обрабатывать циклы FORALL в элементах коллекции PL/SQL.  
  
-   Если выбрано **значение Да**, SSMA создает цикл while, где элементы коллекции извлекаются по одному.  
  
-   Если выбрано значение **нет**, SSMA создает набор строк из коллекции с помощью метода nodes () и использует его в качестве одной таблицы. Это более эффективно, но делает код более удобочитаемым.  
  
При выборе режима преобразования в поле **режим** SSMA применяет следующий параметр:  
  
**По умолчанию или оптимистичный режим:** Нет  
  
**Полный режим:** Да  
  
### <a name="convert-foreign-keys-with-set-null-referential-action-on-column-that-is-not-null"></a>Преобразование внешних ключей с ссылочным действием SET NULL для столбца, не имеющего значение NULL  
DB2 позволяет создавать ограничения внешнего ключа, в которых не может быть выполнено действие SET NULL, так как в упоминаемом столбце не разрешены значения NULL. [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] не допускает такую конфигурацию внешнего ключа.  
  
-   Если выбрано **значение Да**, SSMA создаст ссылочные действия как в DB2, но необходимо внести изменения вручную перед загрузкой ограничения на [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] . Например, вместо значения NULL можно выбрать действие нет.  
  
-   Если выбрано значение **нет**, ограничение будет отмечено как ошибка.  
  
При выборе режима преобразования в поле **режим** SSMA применяет следующий параметр:  
  
**По умолчанию/оптимистичный/полный режим:** Нет  
  
### <a name="convert-function-calls-to-procedure-calls"></a>Преобразование вызовов функций в вызовы процедур  
Некоторые функции DB2 определяются как автономные транзакции или содержат инструкции, которые не являются допустимыми в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] . В этих случаях SSMA создает процедуру и функцию, которая является оболочкой для процедуры. Преобразованная функция вызывает реализацию процедуры.  
  
SSMA может преобразовывать вызовы функции-оболочки в вызовы процедуры. Это создает более удобочитаемый код и может повысить производительность. Однако контекст не всегда разрешает его; Например, нельзя заменить вызов функции в списке SELECT вызовом процедуры. SSMA имеет несколько вариантов для охвата распространенных случаев.  
  
-   Если выбрано значение **Always**, SSMA пытается преобразовать вызовы функции-оболочки в вызовы процедур. Если текущий контекст не допускает такого преобразования, выдается сообщение об ошибке. В этом случае вызовы функций не будут оставлены в созданном коде.  
  
-   Если вы выберете, **когда это возможно**, SSMA вызовет процедуру перехода к процедуре только в том случае, если функция имеет выходные параметры. Если перемещение невозможно, то выходной атрибут параметра удаляется. Во всех остальных случаях SSMA оставляет вызовы функций.  
  
-   Если выбрать значение **никогда**, SSMA оставляет все вызовы функций в виде вызовов функций. Иногда этот вариант может оказаться неприемлемым по соображениям производительности.  
  
При выборе режима преобразования в поле **режим** SSMA применяет следующий параметр:  
  
**По умолчанию/оптимистичный/полный режим:** По возможности  
  
### <a name="convert-lock-table-statements"></a>Преобразовать операторы блокировки таблицы  
SSMA может преобразовать множество инструкций блокировки таблицы в Табличные указания. SSMA не может преобразовать инструкции таблицы БЛОКИРОВОК, содержащие предложения PARTITION, Partition, @dblink и Wait, и пометит такие инструкции с сообщениями об ошибках преобразования.  
  
-   Если выбрать **Да**, SSMA будет преобразовывать ПОДДЕРЖИВАЕМЫЕ инструкции блокировки таблицы в Табличные указания.  
  
-   Если выбрано значение **нет**, SSMA помечает все инструкции таблицы Lock с сообщениями об ошибках преобразования.  
  
В следующей таблице показано, как SSMA преобразует режимы блокировки DB2.  
  
|Режим блокировки DB2|SQL Server табличное указание|  
|-|-|  
|ОБЩИЙ РЕСУРС СТРОКИ|ROWLOCK, HOLDLOCK|  
|МОНОПОЛЬНАЯ СТРОКА|ROWLOCK, XLOCK, HOLDLOCK|  
|ОБЩИЙ РЕСУРС ОБНОВЛЕНИЯ = СТРОКА|ROWLOCK, HOLDLOCK|  
|СОВМЕСТНЫЙ ДОСТУП|TABLOCK, HOLDLOCK|  
|МОНОПОЛЬНЫЙ ДОСТУП К СТРОКЕ|TABLOCK, XLOCK, HOLDLOCK|  
|ВЗАИМОИСКЛЮЧАЮЩИМ|TABLOCKX, HOLDLOCK|  
  
При выборе режима преобразования в поле **режим** SSMA применяет следующий параметр:  
  
**По умолчанию/оптимистичный/полный режим:** Да  
  
### <a name="convert-open-for-statements-for-ref-cursor-out-parameters"></a>Преобразовать операторы OPEN-FOR для параметров OUT для REF CURSOR  
В DB2 можно использовать инструкцию OPEN-FOR, чтобы возвратить результирующий набор для параметра OUT подпрограммы типа REF CURSOR. В [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] хранимые процедуры непосредственно возвращают результаты инструкций SELECT.  
  
SSMA может преобразовать многие операторы OPEN-FOR в инструкции SELECT.  
  
-   Если выбрано **значение Да**, SSMA преобразует инструкцию Open-for в инструкцию SELECT, которая возвращает результирующий набор клиенту.  
  
-   Если выбрано значение **нет**, SSMA выдаст сообщение об ошибке в преобразованном коде и в области вывода.  
  
При выборе режима преобразования в поле **режим** SSMA применяет следующий параметр:  
  
**По умолчанию/оптимистичный/полный режим:** Да  
  
### <a name="convert-record-as-a-list-of-separates-variables"></a>Преобразовать запись в список разделенных переменных  
SSMA может преобразовывать записи DB2 в отдельные переменные и в переменные XML с определенной структурой.  
  
-   Если выбрано **значение Да**, SSMA по возможности преобразует запись в список разделенных переменных.  
  
-   Если выбрано значение **нет**, SSMA преобразует запись в переменные XML с определенной структурой.  
  
При выборе режима преобразования в поле **режим** SSMA применяет следующий параметр:  
  
**По умолчанию/оптимистичный/полный режим:** Да  
  
### <a name="convert-substr-function-calls-to-substring-function-calls"></a>Преобразование вызовов функции substr в вызовы функций подстроки  
SSMA может преобразовать вызовы функции substr для DB2 в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] вызовы функций **подстроки** в зависимости от числа параметров. Если SSMA не может преобразовать вызов функции substr или число параметров не поддерживается, SSMA преобразует вызов функции substr в пользовательский вызов функции SSMA.  
  
-   Если выбрано **значение Да**, SSMA преобразует вызовы функций substr, которые используют три параметра, в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] **подстроку**. Другие функции substr будут преобразованы для вызова пользовательской функции SSMA.  
  
-   Если выбрано значение **нет**, SSMA преобразует вызов функции substr в пользовательский вызов функции SSMA.  
  
При выборе режима преобразования в поле **режим** SSMA применяет следующий параметр:  
  
**По умолчанию или оптимистичный режим:** Да  
  
**Полный режим:** Нет  
  
### <a name="convert-subtypes"></a>Преобразовать подтипы  
SSMA может преобразовать подтипы PL/SQL двумя способами:  
  
-   Если выбрать **Да**, SSMA создаст [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] определяемый пользователем тип из подтипа и будет использовать его для каждой переменной этого подтипа.  
  
-   Если выбрано значение **нет**, SSMA заменит все исходные объявления подтипа базовым типом и преобразует результат как обычно. В этом случае дополнительные типы не создаются в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]  
  
При выборе режима преобразования в поле **режим** SSMA применяет следующий параметр:  
  
**По умолчанию/оптимистичный/полный режим:** Нет  
  
### <a name="convert-synonyms"></a>Преобразовать синонимы  
Синонимы для следующих объектов DB2 можно перенести в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] :  
  
-   Таблицы и таблицы объектов  
  
-   Представления и представления объектов  
  
-   Хранимые процедуры и функции  
  
-   материализованные представления;  
  
Синонимы для следующих объектов DB2 можно заменить прямыми ссылками на объекты:  
  
-   Последовательности  
  
-   Пакеты  
  
-   Объекты схемы классов Java  
  
-   Определяемые пользователем типы объектов  
  
Другие синонимы не могут быть перенесены. SSMA создаст сообщения об ошибках для синонима и всех ссылок, использующих этот синоним.  
  
-   Если выбрано **значение Да**, SSMA создаст [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] синонимы и прямые ссылки на объекты в соответствии с предыдущими списками.  
  
-   Если выбрано значение **нет**, SSMA создаст прямые ссылки на объекты для всех синонимов, перечисленных здесь.  
  
При выборе режима преобразования в поле **режим** SSMA применяет следующий параметр:  
  
**По умолчанию/оптимистичный/полный режим:** Да  
  
### <a name="convert-to_chardate-format"></a>Convert TO_CHAR (Дата, формат)  
SSMA может преобразовать TO_CHAR DB2 (Дата, формат) в процедуры из базы данных сисдб.  
  
-   Если выбрать **с помощью функции TO_CHAR_DATE**, SSMA преобразует TO_CHAR (Дата, формат) в TO_CHAR_DATE функцию с использованием английского языка для преобразования.  
  
-   Если выбрать **Использование функции TO_CHAR_DATE_LS (поддержка NLS)**, SSMA преобразует TO_CHAR (Дата, формат) в TO_CHAR_DATE_LS функцию с помощью языка сеанса для преобразования.  
  
При выборе режима преобразования в поле **режим** SSMA применяет следующий параметр:  
  
**По умолчанию или оптимистичный режим:** Использование функции TO_CHAR_DATE  
  
**Полный режим:** Использование функции TO_CHAR_DATE_LS (поддержка NLS)  
  
### <a name="convert-transaction-processing-statements"></a>Преобразование инструкций обработки транзакций  
SSMA может преобразовывать инструкции обработки транзакций DB2:  
  
-   Если выбрано **значение Да**, SSMA преобразует инструкции обработки транзакций DB2 в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] инструкции.  
  
-   Если выбрано значение **нет**, SSMA помечает инструкции обработки транзакций как ошибки преобразования.  
  
> [!NOTE]  
> DB2 открывает транзакции неявным образом. Чтобы эмулировать это поведение в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , необходимо вручную добавить инструкции BEGIN TRANSACTION, где должны запускаться транзакции. Кроме того, можно выполнить команду SET IMPLICIT_TRANSACTIONS ON в начале сеанса. SSMA добавляет SET IMPLICIT_TRANSACTIONS автоматически при преобразовании подпрограмм с автономными транзакциями.  
  
При выборе режима преобразования в поле **режим** SSMA применяет следующий параметр:  
  
**По умолчанию/оптимистичный/полный режим:** Да  
  
### <a name="emulate-db2-null-behavior-in-order-by-clauses"></a>Эмуляция поведения DB2 NULL в предложениях ORDER BY  
Значения NULL упорядочиваются по-разному в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] и DB2:  
  
-   В [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] значения NULL являются самыми низкими значениями в упорядоченном списке. В возрастающем списке значения NULL будут отображаться первыми.  
  
-   В DB2 значения NULL являются самыми высокими значениями в упорядоченном списке. По умолчанию значения NULL отображаются последними в списке по возрастанию.  
  
-   В DB2 сначала изменяются значения NULL и последние предложения NULL, что позволяет изменить способ упорядочения значений NULL в DB2.  
  
SSMA может эмулировать порядок поведений DB2, проверяя значения NULL. Затем он сначала упорядочивает значения NULL в указанном порядке, а затем упорядочивает по другим значениям.  
  
-   Если выбрано **значение Да**, SSMA преобразует ИНСТРУКЦИю DB2 таким образом, чтобы эмулировать порядок расположения DB2 по поведению.  
  
-   Если выбрано значение **нет**, SSMA ИГНОРИРУЕТ правила DB2 и создает сообщение об ошибке при обнаружении первых значений NULL и последних значений NULL.  
  
При выборе режима преобразования в поле **режим** SSMA применяет следующий параметр:  
  
**По умолчанию или оптимистичный режим:** Нет  
  
**Полный режим:** Да  
  
### <a name="emulate-row-count-exceptions-in-select"></a>Имитация числа исключений строк в SELECT  
Если инструкция SELECT с предложением INTO не возвращает никаких строк, то DB2 вызывает исключение NO_DATA_FOUND. Если инструкция возвращает две или более строк, возникает исключение TOO_MANY_ROWS. Преобразованная инструкция в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] не вызывает исключение, если число строк отличается от значения.  
  
-   Если выбрано **значение Да**, SSMA добавляет вызов процедуры сисдб db_error_exact_one_row_check после каждой инструкции SELECT. Эта процедура эмулирует исключения NO_DATA_FOUND и TOO_MANY_ROWS. Это значение по умолчанию, которое позволяет воспроизвести поведение DB2 как можно ближе. Всегда выбирайте **Да** , если в исходном коде есть обработчики исключений, которые обрабатывают эти ошибки. Обратите внимание, что если инструкция SELECT выполняется внутри определяемой пользователем функции, этот модуль будет преобразован в хранимую процедуру, поскольку хранимые процедуры и вызов исключений несовместимы с [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] контекстом функции.  
  
-   Если выбрано значение **нет**, исключения не создаются. Это может быть полезно, когда SSMA преобразует определяемую пользователем функцию и требуется, чтобы она оставалась в функции [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]  
  
При выборе режима преобразования в поле **режим** SSMA применяет следующий параметр:  
  
**По умолчанию/оптимистичный/полный режим:** Да  
  
### <a name="generate-error-for-dbms_sqlparse"></a>Создать ошибку для DBMS_SQL. ПРОАНАЛИЗИРОВАТЬ  
  
-   При выборе **ошибки** SSMA создает ошибку при преобразовании DBMS_SQL. Проанализировать.  
  
-   При выборе **предупреждения** SSMA создает предупреждение при преобразовании DBMS_SQL. Проанализировать.  
  
При выборе режима преобразования в поле **режим** SSMA применяет следующий параметр:  
  
**По умолчанию/оптимистичный/полный режим:** План  
  
### <a name="generate-rowid-column"></a>Создать столбец ROWID  
Когда SSMA создает таблицы в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , он может создать столбец ROWID. При переносе данных каждая строка получает новое значение UNIQUEIDENTIFIER, созданное функцией NEWID ().  
  
-   Если выбрано **значение Да**, столбец ROWID создается во всех таблицах и [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] создает идентификаторы GUID при вставке значений. Всегда выбирайте **Да** , если вы планируете использовать тест-инженер SSMA.  
  
-   Если выбрано значение **нет**, столбцы ROWID не добавляются в таблицы.  
  
-   **Добавление СТОЛБЦА ROWID для таблиц с триггерами** добавить ROWID для таблиц, содержащих триггеры.  
  
> [!WARNING]  
> Значение по умолчанию в случае SQL Server 2005, SQL Server 2008 и SQL Server 2012 и 2014 — **Добавить столбец ROWID для таблиц с триггерами**.  
  
При выборе режима преобразования в поле **режим** SSMA применяет следующий параметр:  
  
**По умолчанию или оптимистичный режим:** Добавление столбца ROWID для таблиц с триггерами  
  
**Полный режим:** Да  
  
### <a name="generate-unique-index-on-rowid-column"></a>Создать уникальный индекс для столбца ROWID  
Указывает, создает ли SSMA столбец уникального индекса для столбца, сформированного ROWID. Если для параметра задано значение "YES", создается уникальный индекс и, если для него задано значение "нет", уникальный индекс для столбца ROWID не создается.  
  
При выборе режима преобразования в поле **режим** SSMA применяет следующий параметр:  
  
**По умолчанию/оптимистичный/полный режим:** Да  
  
### <a name="local-modules-conversion"></a>Преобразование локальных модулей  
Определяет тип вложенной программы DB2 (объявленной при преобразовании автономной хранимой процедуры или функции).  
  
-   Если выбрать **встроенное**, вложенные вызовы подпрограммы будут заменены текстом.  
  
-   При выборе **хранимых процедур** вложенная подпрограмма будет преобразована в SQL Server хранимая процедура, а ее вызовы будут заменены на этот вызов процедуры.  
  
При выборе режима преобразования в поле **режим** SSMA применяет следующий параметр:  
  
**По умолчанию/оптимистичный/полный режим:** Встроенные  
  
### <a name="use-isnull-in-string-concatenation"></a>Использование функции ISNULL при сцеплении строк  
DB2 и [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] возвращают различные результаты, если сцепление строк включает значения NULL. DB2 рассматривает значение NULL как пустой набор символов. [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] возвращает значение NULL.  
  
-   Если выбрано **значение Да**, SSMA заменяет символ объединения DB2 (| |) [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] символом конкатенации (+). SSMA также проверяет выражения на обеих сторонах объединения для значений NULL.  
  
-   Если выбрано значение **нет**, SSMA заменяет символы объединения, но не проверяет значения NULL.  
  
При выборе режима преобразования в поле **режим** SSMA применяет следующий параметр:  
  
### <a name="use-isnull-in-replace-function-calls"></a>Использование функции ISNULL в вызовах функций Replace  
Оператор ISNULL используется в вызовах функции Replace для эмуляции поведения DB2. Для этого параметра имеются следующие параметры:  
  
-   YES  
  
-   NO  
  
При выборе режима преобразования в поле **режим** SSMA применяет следующий параметр:  
  
**По умолчанию или оптимистичный режим:** Нет  
  
**Полный режим:** Да  
  
### <a name="use-isnull-in-concat-function-calls"></a>Использование функции ISNULL в вызовах функций CONCAT  
Оператор ISNULL используется в вызовах функций CONCAT для эмуляции поведения DB2. Для этого параметра имеются следующие параметры:  
  
-   YES  
  
-   NO  
  
При выборе режима преобразования в поле **режим** SSMA применяет следующий параметр:  
  
**По умолчанию или оптимистичный режим:** Нет  
  
**Полный режим:** Да  
  
### <a name="use-native-convert-function-when-possible"></a>По возможности используйте собственную функцию CONVERT.  
  
-   Если выбрано **значение Да**, SSMA по возможности преобразует TO_CHAR (Дата, формат) в собственную функцию CONVERT.  
  
-   Если выбрано значение **нет**, SSMA преобразует TO_CHAR (Дата, формат) в TO_CHAR_DATE или TO_CHAR_DATE_LS (он определяется параметрами "Convert TO_CHAR (Дата, формат)").  
  
При выборе режима преобразования в поле **режим** SSMA применяет следующий параметр:  
  
**По умолчанию или оптимистичный режим:** Да  
  
**Полный режим:** Нет  
  
### <a name="use-selectfor-xml-when-converting-selectinto-for-record-variable"></a>Используйте SELECT... FOR XML при преобразовании SELECT... В для переменной записи  
Указывает, следует ли создавать результирующий набор XML при выборе в переменной записи.  
  
-   При нажатии **кнопки Да** инструкция SELECT возвращает XML.  
  
-   Если выбрано значение **нет**, то инструкция SELECT возвращает результирующий набор.  
  
При выборе режима преобразования в поле **режим** SSMA применяет следующий параметр:  
  
**По умолчанию/оптимистичный/полный режим:** Нет  
  
## <a name="returning-clause-conversion"></a>Преобразование предложения возврата  
  
### <a name="convert-returning-clause-in-delete-statement-to-output"></a>Преобразование ВОЗВРАЩАЕМого предложения в инструкцию DELETE для вывода  
DB2 предоставляет предложение возврата в качестве способа немедленного получения удаленных значений. [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] предоставляет эту функциональность с помощью предложения OUTPUT.  
  
-   Если выбрать **Да**, SSMA будет ПРЕобразовывать возвращаемые предложения в инструкциях DELETE для вывода предложений. Поскольку триггеры в таблице могут изменять значения, возвращаемое значение может отличаться в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] сравнении с базой данных DB2.  
  
-   Если выбрать **нет**, SSMA создаст инструкцию SELECT перед инструкциями DELETE для получения возвращаемых значений.  
  
При выборе режима преобразования в поле **режим** SSMA применяет следующий параметр:  
  
**По умолчанию/оптимистичный/полный режим:** Да  
  
### <a name="convert-returning-clause-in-insert-statement-to-output"></a>Преобразование предложения RETURN в инструкцию INSERT для вывода  
DB2 предоставляет предложение return в качестве способа немедленного получения вставленных значений. [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] предоставляет эту функциональность с помощью предложения OUTPUT.  
  
-   Если выбрано **значение Да**, SSMA преобразует предложение return в инструкцию INSERT для вывода. Поскольку триггеры в таблице могут изменять значения, возвращаемое значение может отличаться в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] сравнении с базой данных DB2.  
  
-   Если выбрано значение **нет**, SSMA ЭМУЛИРУЕТ функциональность DB2 путем вставки и выбора значений из ссылочной таблицы.  
  
При выборе режима преобразования в поле **режим** SSMA применяет следующий параметр:  
  
**По умолчанию/оптимистичный/полный режим:** Да  
  
### <a name="convert-returning-clause-in-update-statement-to-output"></a>Преобразование предложения RETURN в инструкции UPDATE в OUTPUT  
DB2 предоставляет предложение возврата в качестве способа немедленного получения обновленных значений. [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] предоставляет эту функциональность с помощью предложения OUTPUT.  
  
-   Если выбрано **значение Да**, SSMA преобразует возвращаемые предложения в инструкциях UPDATE для вывода предложений. Поскольку триггеры в таблице могут изменять значения, возвращаемое значение может отличаться в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] сравнении с базой данных DB2.  
  
-   Если выбрано значение **нет**, SSMA СОЗДАСТ инструкции SELECT после инструкций Update для получения возвращаемых значений.  
  
При выборе режима преобразования в поле **режим** SSMA применяет следующий параметр:  
  
**По умолчанию/оптимистичный/полный режим:** Да  
  
## <a name="sequence-conversion"></a>Преобразование последовательности  
  
### <a name="convert-sequence-generator"></a>Генератор последовательности преобразований  
В DB2 для создания уникальных идентификаторов можно использовать последовательность.  
  
SSMA может преобразовывать последовательности в следующие.  
  
-   Использование генератора последовательностей SQL Server (этот параметр доступен только при преобразовании в SQL Server 2012 и SQL Server 2014).  
  
-   Использование генератора последовательностей SSMA.  
  
-   Использование удостоверения столбца.  
  
Параметр по умолчанию при преобразовании в SQL Server 2012 или SQL Server 2014 — использование генератора последовательностей SQL Server. Однако SQL Server 2012 и SQL Server 2014 не поддерживают получение текущего значения последовательности (например, метода куррвал последовательности DB2). Инструкции по миграции метода куррвал в последовательности DB2 см. на веб-сайте блогов группы SSMA.  
  
SSMA также предоставляет возможность преобразования последовательности DB2 в эмулятор SSMA Sequence. Этот параметр используется по умолчанию при преобразовании в SQL Server до 2012.  
  
Наконец, можно также преобразовать последовательность, назначенную столбцу в таблице, для SQL Server значений идентификаторов. Необходимо указать сопоставление между последовательностями и столбцом идентификаторов на вкладке **таблицы** DB2.  
  
### <a name="convert-currval-outside-triggers"></a>Преобразование КУРРВАЛ внешних триггеров  
Отображается, только если для генератора последовательностей преобразования задано **Использование удостоверения столбца**. Так как последовательности DB2 являются объектами, отделенными от таблиц, многие таблицы, использующие последовательности, используют триггер для создания и вставки нового значения последовательности. SSMA закомментируйте эти инструкции или помечает их как ошибки, когда комментарии будут формировать ошибки.  
  
-   Если выбрать **Да**, SSMA пометит все ссылки на внешние триггеры в преобразованной последовательности куррвал с предупреждением.  
  
-   Если выбрать **нет**, SSMA пометит все ссылки на внешние триггеры в преобразованной последовательности куррвал с ошибкой.  
  
## <a name="see-also"></a>См. также:  
[Справочник по пользовательскому интерфейсу &#40;DB2ToSQL&#41;](../../ssma/db2/user-interface-reference-db2tosql.md)  
  
