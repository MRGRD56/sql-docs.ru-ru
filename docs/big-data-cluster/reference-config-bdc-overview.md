---
title: Свойства конфигурации кластеров больших данных SQL Server
titleSuffix: SQL Server big data clusters
description: Справочная статья о свойствах конфигурации кластеров больших данных
author: MikeRayMSFT
ms.author: mikeray
ms.reviewer: rahul.ajmera
ms.date: 02/11/2021
ms.topic: reference
ms.prod: sql
ms.technology: big-data-cluster
ms.openlocfilehash: 735a0d666a678ddad60447b56674699eba3c5e4d
ms.sourcegitcommit: 7e5414d8005e7b07e537417582fb4132b5832ded
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/07/2021
ms.locfileid: "106556757"
---
# <a name="sql-server-big-data-clusters-configuration-properties"></a>Свойства конфигурации кластеров больших данных SQL Server

[!INCLUDE[SQL Server 2019](../includes/applies-to-version/sqlserver2019.md)]

Параметры конфигурации кластеров больших данных можно определить в следующих областях: `cluster`, `service` и `resource`. Иерархия параметров также следует этому порядку — от высшего к низшему. Компоненты Кластеров больших данных принимают значение параметра, определенное на самом низком уровне. Если параметр не определен в заданной области, он наследует значение из более высокой родительской области. Ниже приведен список доступных параметров для каждого компонента кластера больших данных в различных областях. Настраиваемые параметры кластера больших данных можно также просмотреть с помощью azdata.

## <a name="bdc-cluster-scope-settings"></a>Параметры в области кластера больших данных
В области кластера можно настроить указанные ниже параметры.

| Имя параметра                                             | Описание                                                                                                                                                                                                                                                                                                             | Type   | Значение по умолчанию          | Только во время развертывания | 
| ------------------------------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------ | ---------------------------- | --------- | 
| bdc.telemetry.customerFeedback                              | Определяет, участвует ли этот кластер в программе улучшения качества программного обеспечения (CEIP), в рамках которой данные об использовании и диагностике продуктов отправляются в корпорацию Майкрософт. | Логическое | Да                    |           | 
| bdc.resourcemanagement.enabled           | Определяет, применяются ли к этому кластеру запросы и ограничения памяти и ЦП. *Применяется только к контейнерам, связанным со Spark, в модулях pod gateway, nmnode, sparkhead, spark, storage и zookeeper.*                                                                          | bool  | false |
| bdc.resourcemanagement.cpuCoefficient    | Если управление ресурсами включено, определяет коэффициент масштабирования запрашиваемого базового объема ресурсов ЦП для модулей pod, к которым применяются запросы и ограничения памяти и ЦП. *Применяется только к контейнерам, связанным со Spark, в модулях pod gateway, nmnode, sparkhead, spark, storage и zookeeper.*        | FLOAT | 1,0 |
| bdc.resourcemanagement.memoryCoefficient | Если управление ресурсами включено, определяет коэффициент масштабирования запрашиваемого базового объема памяти для модулей pod, к которым применяются запросы и ограничения памяти и ЦП. *Применяется только к контейнерам, связанным со Spark, в модулях pod gateway, nmnode, sparkhead, spark, storage и zookeeper.*     | FLOAT | 1,0 |

## <a name="sql-service-scope-settings"></a>Параметры в области службы SQL
В области службы SQL можно настроить указанные ниже параметры.

| Имя параметра                                             | Описание                                                                                                                                                                                                                                                                                                             | Type   | Значение по умолчанию          | Только во время развертывания | 
| ------------------------------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------ | ---------------------------- | --------- | 
| mssql.language.lcid                              | Изменяет языковой стандарт SQL Server на любой поддерживаемый код языка.                                                                                                                                                                                                                                              | INT    | 1033                         |           | 

## <a name="spark-service-scope-settings"></a>Параметры в области службы Spark
Сведения обо всех поддерживаемых и неподдерживаемых параметрах см. в [статье о конфигурации Apache Spark и Apache Hadoop](reference-config-spark-hadoop.md).

## <a name="hdfs-service-scope-settings"></a>Параметры в области службы HDFS
Сведения обо всех поддерживаемых и неподдерживаемых параметрах см. в [статье о конфигурации Apache Spark и Apache Hadoop](reference-config-spark-hadoop.md).

## <a name="gateway-service-scope-settings"></a>Параметры в области службы шлюза
В области службы шлюза нет настраиваемых параметров. Настройте параметры в области ресурса шлюза.

## <a name="app-service-scope-settings"></a>Параметры в области службы приложений
Недоступно.

## <a name="master-pool-resource-scope-settings"></a>Параметры в области ресурсов главного пула
| Имя параметра                                             | Описание                                                                                                                                                                                                                                                                                                             | Type   | Значение по умолчанию          | Только во время развертывания | 
| ------------------------------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------ | ---------------------------- | --------- | 
| mssql.licensing.pid                              | Выпуск SQL Server.                                                                                                                                                                                                                                                                                                     | строка | Разработчик                    |           | 
| mssql.sqlagent.enabled                           | Включает агент SQL Server.                                                                                                                                                                                                                                                                                               | bool   | false                        |           | 
| mssql.collation                                  | Изменяет параметры сортировки SQL Server на любой из поддерживаемых вариантов.                                                                                                                                                                                                                                                    | строка | SQL_Latin1_General_CP1_CI_AS | Да      | 
| hadr.enabled                                     | Логическое значение, обозначающее поддержку групп доступности для главного пула SQL Server.                                                                                                                                                                                                                                                    | bool   | false                        | true      | 
| hadr.leaseDurationInSeconds                      | Время истечения срока действия аренды для агента с высоким уровнем доступности.                                                                                                                                                                                                                                                                                  | INT    | 30                           |           | 
| hadr.externalLeasePollingEnabled                 | Логическое значение, обозначающее включение API опроса внешней аренды.                                                                                                                                                                                                                                                                        | bool   | Да                         | true      | 
| mssql.telemetry.userRequestedLocalAuditDirectory | Включает локальный аудит SQL Server и позволяет указать каталог, в котором создаются журналы локального аудита. Этот каталог должен располагаться в /var/opt/mssql/audit.                                                                                                                                                            | строка |                              |           |
| mssql.network.tlscert                            | Абсолютный путь к файлу сертификата, используемому SQL Server для TLS. Чтобы можно было использовать самозаверяющий сертификат, этот файл необходимо поместить в контейнер перед изменением пути. [Инструкции см. в записной книжке по кластерам больших данных SQL Server](https://github.com/microsoft/tigertoolbox/blob/master/Big-Data-Clusters/CU9/public/content/cert-management/cer100-create-root-ca-install-certs.ipynb).                                                                                                                                                                                                                                                   | строка | /var/run/secrets/certificates/sql/sql-certificate.pem                                                                                                                                                                   |           |
| mssql.network.tlskey                             | Абсолютный путь к файлу закрытого ключа, используемому SQL Server для TLS. Чтобы можно было использовать самозаверяющий сертификат, этот файл необходимо поместить в контейнер перед изменением пути. [Инструкции см. в записной книжке по кластерам больших данных SQL Server](https://github.com/microsoft/tigertoolbox/blob/master/Big-Data-Clusters/CU9/public/content/cert-management/cer100-create-root-ca-install-certs.ipynb).                                                                                                                                                                                                                                                       | строка | /var/run/secrets/certificates/sql/sql-privatekey.pem                                                                                                                                                                    |           |
| mssql.network.forceencryption                    | Если задано значение 1, SQL Server требует, чтобы все подключения были зашифрованными. По умолчанию этот параметр имеет значение 0.                                                                                                                                                                                                                                                                                                                    | INT    | 0                                                                                                                                                                                                                       |           |
| mssql.network.tlsprotocols                       | Разделенный запятыми список протоколов TLS, которые SQL Server разрешает использовать. SQL Server всегда пытается использовать самый надежный из допустимых протоколов. Если клиент не поддерживает ни один из допустимых протоколов, SQL Server отклоняет попытку подключения. В целях совместимости по умолчанию разрешены все поддерживаемые протоколы (1.2, 1.1, 1.0). Если клиенты поддерживают протокол TLS 1.2, корпорация Майкрософт рекомендует разрешать использовать только эту версию. | строка | 1.2                                                                                                                                                                                                                     |           |
| mssql.network.tlsciphers                         | Определяет шифры, разрешенные к использованию для TLS в SQL Server. Строка должна соответствовать формату списка шифров OpenSSL. Как правило, изменять этот параметр не требуется.                                                                                                                                                                                                                              | строка | ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES128-SHA256:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES128-SHA256:ECDHE-RSA-AES256-SHA384 |           |

## <a name="storage-pool-resource-scope-settings"></a>Параметры в области ресурсов пула носителей
Пул носителей состоит из компонентов SQL, Spark и HDFS.

### <a name="available-sql-configurations"></a>Доступные конфигурации SQL
| Имя параметра                                             | Описание                                                                                                                                                                                                                                                                                                             | Type   | Значение по умолчанию          | Только во время развертывания | 
| ------------------------------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------ | ---------------------------- | --------- | 
| mssql.degreeOfParallelism                        | Число процессоров, которые задействуются для выполнения одной инструкции для каждого выполнения параллельных планов на каждом экземпляре SQL.                                                                                                                                                                                                        | INT    | 0                            |           | 
| mssql.maxServerMemory                            | Максимальный объем памяти (в мегабайтах) для процесса SQL Server, используемого экземпляром SQL Server.                                                                                                                                                                                                                 | INT    | 2147483647                   |           | 
| mssql.minServerMemory                            | Минимальный объем памяти (в мегабайтах) для процесса SQL Server, используемого экземпляром SQL Server.                                                                                                                                                                                                                 | INT    | 0                            |           | 
| mssql.processAffinityCpuRange                    | Распределяет рабочие потоки SQL Server на каждый ЦП в заданном диапазоне. Для процессоров вне заданного диапазона не назначены потоки. Значение AUTO используется по умолчанию и указывает, что ни одному потоку процессор не назначен и они могут свободно перемещаться между процессорами. Пример: значение "1, 3-5, 6" назначает потоки процессорам 1, 3, 4, 5 и 6.                                                                                           | строка | AUTO                                                                                                                                                                                                                    |           | 
| mssql.storagePoolCacheSize                       | Размер кэша (в мегабайтах) для каждого экземпляра SQL в пуле носителей.                                                                                                                                                                                                                                             | INT    | 8                            |           | 
| mssql.storagePoolMaxCacheSize                    | Максимальный размер кэша (в мегабайтах) для каждого экземпляра SQL в пуле носителей.                                                                                                                                                                                                                                     | INT    | 16384                        |           | 
| mssql.storagePoolCacheAutogrowth                 | Коэффициент автоматического увеличения (в МБ) для кэша пула носителей.                                                                                                                                                                                                                                                                  | INT    | 256                          |           | 
| mssql.tempdb.autogrowthPerDataFile               | Автоматическое увеличение (в МБ) для каждого файла данных TempDB.                                                                                                                                                                                                                                                                          | INT    | 64                           |           | 
| mssql.tempdb.autogrowthPerLogFile                | Автоматическое увеличение (в МБ) для каждого файла журналов TempDB.                                                                                                                                                                                                                                                                           | INT    | 64                           |           | 
| mssql.tempdb.dataFileSize                        | Размер файла (в МБ) для каждого файла данных TempDB.                                                                                                                                                                                                                                                                           | INT    | 8                            |           | 
| mssql.tempdb.dataFileMaxSize                     | Максимальный размер файла (в МБ) для каждого файла данных TempDB.                                                                                                                                                                                                                                                                   | INT    | 16777215                     |           | 
| mssql.tempdb.logFileSize                         | Размер файла (в МБ) для каждого файла журналов TempDB.                                                                                                                                                                                                                                                                            | INT    | 8                            |           | 
| mssql.tempdb.logFileMaxSize                      | Максимальный размер файла (в МБ) для каждого файла журналов TempDB.                                                                                                                                                                                                                                                                    | INT    | 2097151                      |           | 
| mssql.tempdb.numberOfDataFiles                   | Число файлов данных для TempDB.                                                                                                                                                                                                                                                                                        | INT    | 8                            |           | 
| mssql.traceflags                                 | Включает или отключает флаги трассировки при запуске службы SQL Server. Укажите применяемый список флагов трассировки, разделенных пробелами.                                                                                                                                                                                        | строка | 3614                         |           | 


### <a name="available-apache-spark-and-hadoop-configurations"></a>Доступные конфигурации Apache Spark и Hadoop
Сведения обо всех поддерживаемых и неподдерживаемых параметрах см. в [статье о конфигурации Apache Spark и Apache Hadoop](reference-config-spark-hadoop.md).

## <a name="data-pool-resource-scope-settings"></a>Параметры в области ресурсов пула данных
| Имя параметра                                             | Описание                                                                                                                                                                                                                                                                                                             | Type   | Значение по умолчанию          | Только во время развертывания | 
| ------------------------------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------ | ---------------------------- | --------- | 
| mssql.degreeOfParallelism                        | Число процессоров, которые задействуются для выполнения одной инструкции для каждого выполнения параллельных планов на каждом экземпляре SQL.                                                                                                                                                                                                        | INT    | 0                            |           | 
| mssql.maxServerMemory                            | Максимальный объем памяти (в мегабайтах) для процесса SQL Server, используемого экземпляром SQL Server.                                                                                                                                                                                                                 | INT    | 2147483647                   |           | 
| mssql.minServerMemory                            | Минимальный объем памяти (в мегабайтах) для процесса SQL Server, используемого экземпляром SQL Server.                                                                                                                                                                                                                 | INT    | 0                            |           | 
| mssql.processAffinityCpuRange                    | Распределяет рабочие потоки SQL Server на каждый ЦП в заданном диапазоне. Для процессоров вне заданного диапазона не назначены потоки. Значение AUTO используется по умолчанию и указывает, что ни одному потоку процессор не назначен и они могут свободно перемещаться между процессорами. Пример: значение "1, 3-5, 6" назначает потоки процессорам 1, 3, 4, 5 и 6.                                                                                           | строка | AUTO                                                                                                                                                                                                                    |           |
| mssql.tempdb.autogrowthPerDataFile               | Автоматическое увеличение (в МБ) для каждого файла данных TempDB.                                                                                                                                                                                                                                                                          | INT    | 64                           |           | 
| mssql.tempdb.autogrowthPerLogFile                | Автоматическое увеличение (в МБ) для каждого файла журналов TempDB.                                                                                                                                                                                                                                                                           | INT    | 64                           |           | 
| mssql.tempdb.dataFileSize                        | Размер файла (в МБ) для каждого файла данных TempDB.                                                                                                                                                                                                                                                                           | INT    | 8                            |           | 
| mssql.tempdb.dataFileMaxSize                     | Максимальный размер файла (в МБ) для каждого файла данных TempDB.                                                                                                                                                                                                                                                                   | INT    | 16777215                     |           | 
| mssql.tempdb.logFileSize                         | Размер файла (в МБ) для каждого файла журналов TempDB.                                                                                                                                                                                                                                                                            | INT    | 8                            |           | 
| mssql.tempdb.logFileMaxSize                      | Максимальный размер файла (в МБ) для каждого файла журналов TempDB.                                                                                                                                                                                                                                                                    | INT    | 2097151                      |           | 
| mssql.tempdb.numberOfDataFiles                   | Число файлов данных для TempDB.                                                                                                                                                                                                                                                                                        | INT    | 8                            |           | 
| mssql.traceflags                                 | Включает или отключает флаги трассировки при запуске службы SQL Server. Укажите применяемый список флагов трассировки, разделенных пробелами.                                                                                                                                                                                        | строка | 3614                         |           | 

## <a name="compute-pool-resource-scope-settings"></a>Параметры в области ресурсов вычислительного пула
| Имя параметра                                             | Описание                                                                                                                                                                                                                                                                                                             | Type   | Значение по умолчанию          | Только во время развертывания | 
| ------------------------------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------ | ---------------------------- | --------- | 
| mssql.degreeOfParallelism                        | Число процессоров, которые задействуются для выполнения одной инструкции для каждого выполнения параллельных планов на каждом экземпляре SQL.                                                                                                                                                                                                        | INT    | 0                            |           | 
| mssql.maxServerMemory                            | Максимальный объем памяти (в мегабайтах) для процесса SQL Server, используемого экземпляром SQL Server.                                                                                                                                                                                                                 | INT    | 2147483647                   |           | 
| mssql.minServerMemory                            | Минимальный объем памяти (в мегабайтах) для процесса SQL Server, используемого экземпляром SQL Server.                                                                                                                                                                                                                 | INT    | 0                            |           | 
| mssql.processAffinityCpuRange                    | Распределяет рабочие потоки SQL Server на каждый ЦП в заданном диапазоне. Для процессоров вне заданного диапазона не назначены потоки. Значение AUTO используется по умолчанию и указывает, что ни одному потоку процессор не назначен и они могут свободно перемещаться между процессорами. Пример: значение "1, 3-5, 6" назначает потоки процессорам 1, 3, 4, 5 и 6.                                                                                           | строка | AUTO                                                                                                                                                                                                                    |           |
| mssql.tempdb.autogrowthPerDataFile               | Автоматическое увеличение (в МБ) для каждого файла данных TempDB.                                                                                                                                                                                                                                                                          | INT    | 64                           |           | 
| mssql.tempdb.autogrowthPerLogFile                | Автоматическое увеличение (в МБ) для каждого файла журналов TempDB.                                                                                                                                                                                                                                                                           | INT    | 64                           |           | 
| mssql.tempdb.dataFileSize                        | Размер файла (в МБ) для каждого файла данных TempDB.                                                                                                                                                                                                                                                                           | INT    | 8                            |           | 
| mssql.tempdb.dataFileMaxSize                     | Максимальный размер файла (в МБ) для каждого файла данных TempDB.                                                                                                                                                                                                                                                                   | INT    | 16777215                     |           | 
| mssql.tempdb.logFileSize                         | Размер файла (в МБ) для каждого файла журналов TempDB.                                                                                                                                                                                                                                                                            | INT    | 8                            |           | 
| mssql.tempdb.logFileMaxSize                      | Максимальный размер файла (в МБ) для каждого файла журналов TempDB.                                                                                                                                                                                                                                                                    | INT    | 2097151                      |           | 
| mssql.tempdb.numberOfDataFiles                   | Число файлов данных для TempDB.                                                                                                                                                                                                                                                                                        | INT    | 8                            |           | 
| mssql.traceflags                                 | Включает или отключает флаги трассировки при запуске службы SQL Server. Укажите применяемый список флагов трассировки, разделенных пробелами.                                                                                                                                                                                        | строка | 3614                         |           | 

## <a name="spark-pool-resource-scope-settings"></a>Параметры в области ресурсов пула Spark
Сведения обо всех поддерживаемых и неподдерживаемых параметрах см. в [статье о конфигурации Apache Spark и Apache Hadoop](reference-config-spark-hadoop.md).

## <a name="gateway-resource-scope-settings"></a>Параметры в области ресурса шлюза
Сведения обо всех поддерживаемых и неподдерживаемых параметрах см. в [статье о конфигурации Apache Spark и Apache Hadoop](reference-config-spark-hadoop.md).

## <a name="sparkhead-resource-scope-settings"></a>Параметры в области ресурса `Sparkhead`
Сведения обо всех поддерживаемых и неподдерживаемых параметрах см. в [статье о конфигурации Apache Spark и Apache Hadoop](reference-config-spark-hadoop.md).

## <a name="zookeeper-resource-scope-settings"></a>Параметры в области ресурса Zookeeper
Сведения обо всех поддерживаемых и неподдерживаемых параметрах см. в [статье о конфигурации Apache Spark и Apache Hadoop](reference-config-spark-hadoop.md).

## <a name="namenode-resource-scope-settings"></a>Параметры в области ресурса Namenode
Сведения обо всех поддерживаемых и неподдерживаемых параметрах см. в [статье о конфигурации Apache Spark и Apache Hadoop](reference-config-spark-hadoop.md).

## <a name="app-proxy-resource-scope-settings"></a>Параметры в области ресурса прокси приложения
Недоступно.

## <a name="next-steps"></a>Дальнейшие действия

[Настройка кластеров больших данных SQL Server](configure-bdc-overview.md)
