---
title: Конфигурация учетной записи панели запуска
description: Изменение учетной записи службы панели запуска SQL Server, используемой для выполнения внешнего скрипта в SQL Server.
ms.prod: sql
ms.technology: machine-learning-services
ms.date: 10/17/2018
ms.topic: how-to
author: dphansen
ms.author: davidph
ms.custom: seo-lt-2019
monikerRange: '>=sql-server-2016||>=sql-server-linux-ver15||=sqlallproducts-allversions'
ms.openlocfilehash: 38b00fd3a5f300a4038c6c302c1311a2f135d97b
ms.sourcegitcommit: 9b41725d6db9957dd7928a3620fe4db41eb51c6e
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/13/2020
ms.locfileid: "88180411"
---
# <a name="sql-server-launchpad-service-configuration"></a>Конфигурация службы панели запуска SQL Server
[!INCLUDE [SQL Server 2016 and later](../../includes/applies-to-version/sqlserver2016.md)]

[!INCLUDE[rsql_launchpad_md](../../includes/rsql-launchpad-md.md)] — это новая служба, которая управляет и запускает внешние скрипы, аналогично тому, как служба полнотекстового индексирования и обработки запросов запускается на отдельном узле для обработки полнотекстовых запросов.

Дополнительные сведения см. в разделах, посвященных панели запуска, в руководствах [Архитектура расширяемости в Службах машинного обучения SQL Server](../../machine-learning/concepts/extensibility-framework.md#launchpad) и [Общие сведения о безопасности для платформы расширяемости в Службах машинного обучения SQL Server](../../machine-learning/concepts/security.md#launchpad).

## <a name="account-permissions"></a>Разрешения учетной записи

По умолчанию панель запуска SQL Server настроена для работы под учетной записью **NT Service\MSSQLLaunchpad**, имеющей все необходимые разрешения на выполнение внешних скриптов. Удаление разрешений этой учетной записи может привести к тому, что панель запуска не сможет запуститься или получить доступ к экземпляру SQL Server, где должны выполняться внешние скрипты.

При изменении этой учетной записи службы обязательно используйте [консоль локальной политики безопасности](https://docs.microsoft.com/windows/security/threat-protection/security-policy-settings/how-to-configure-security-policy-settings).

Разрешения, необходимые для этой учетной записи, перечислены в следующей таблице.

| Параметр групповой политики | Имя константы |
|----------------------|---------------|
| [Назначение квот памяти процессам](https://docs.microsoft.com/windows/security/threat-protection/security-policy-settings/adjust-memory-quotas-for-a-process) | SeIncreaseQuotaPrivilege | 
| [Обход проходной проверки](https://docs.microsoft.com/windows/security/threat-protection/security-policy-settings/bypass-traverse-checking) | SeChangeNotifyPrivilege | 
| [Вход в систему в качестве службы](https://docs.microsoft.com/windows/security/threat-protection/security-policy-settings/log-on-as-a-service) | SeServiceLogonRight | 
| [Замена токена уровня процесса](https://docs.microsoft.com/windows/security/threat-protection/security-policy-settings/replace-a-process-level-token) | SeAssignPrimaryTokenPrivilege | 

Дополнительные сведения о разрешениях, необходимых для запуска служб SQL Server, см. в разделе [Права доступа и права Windows](../../database-engine/configure-windows/configure-windows-service-accounts-and-permissions.md).

<a name="bkmk_ChangingConfig"></a> 

## <a name="configuration-properties"></a>Свойства конфигурации

Как правило, изменять конфигурацию службы не требуется. Свойства, которые можно изменить: учетная запись службы, число внешних процессов (по умолчанию 20) и политика сброса паролей для учетных записей рабочих ролей.

1. Откройте [Диспетчер конфигурации SQL Server](../../relational-databases/sql-server-configuration-manager.md).

2. В разделе "Службы SQL Server" щелкните правой кнопкой мыши "Панель запуска SQL Server" и выберите пункт **Свойства**.
  + Чтобы изменить учетную запись службы, перейдите на вкладку **Вход в систему**.
  + Чтобы увеличить количество пользователей, перейдите на вкладку **Дополнительно** и измените значение параметра **Число контекстов безопасности**.

> [!Note]
> В ранних версиях служб R SQL Server 2016 можно было изменять некоторые свойства этой службы путем изменения файла конфигурации [!INCLUDE[rsql_productname](../../includes/rsql-productname-md.md)]. Этот файл больше не используется для изменения конфигураций. Изменять конфигурацию службы, например изменять учетную запись службы или количество пользователей, необходимо в диспетчере конфигурации SQL Server.

## <a name="debug-settings"></a>Параметры отладки

С помощью файла конфигурации панели запуска можно изменять только несколько свойств, что может быть полезно лишь в некоторых случаях, например при отладке. Файл конфигурации создается во время установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] и по умолчанию сохраняется как обычный текстовый файл по пути `<instance path>\binn\rlauncher.config`.

Для изменения этого файла необходимо иметь права администратора на компьютере, на котором выполняется [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] . При изменением файла конфигурации рекомендуется сделать его резервную копию.

В следующей таблице перечислены дополнительные параметры для [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], а также их допустимые значения.

|**Имя параметра**|**Тип**|**Описание**|
|----|----|----|
|JOB\_CLEANUP\_ON\_EXIT|Целое число |Это внутренний параметр. Не изменяйте его значение. </br></br>Указывает, следует ли очищать временную рабочую папку, создаваемую для каждого сеанса внешней среды выполнения, после завершения этого сеанса. Этот параметр полезен для отладки. </br></br>Поддерживаемые значения: **0** (Отключено) или **1** (Включено). </br></br>Значение по умолчанию — 1, т. е. файлы журналов должны удаляться после выхода.|
|TRACE\_LEVEL|Целое число |Задает уровень детализации трассировки MSSQLLAUNCHPAD для целей отладки. Этот параметр влияет на файлы трассировки по пути, заданном параметром LOG_DIRECTORY. </br></br>Поддерживаются значения: **1** (Ошибка), **2** (Выполнение), **3** (Предупреждение), **4** (Информация). </br></br>Значение по умолчанию — 1, т. е. отображаются только ошибки.|

Все параметры задаются в виде пары "ключ — значение", каждый параметр указывается в отдельной строке. Например, чтобы изменить уровень трассировки, можно добавить строку `Default: TRACE_LEVEL=4`.

<a name="bkmk_EnforcePolicy"></a>

## <a name="enforcing-password-policy"></a>Принудительное применение политики паролей

Если ваша организация имеет политику, которая требует регулярной смены паролей, может потребоваться принудительно запустить службу панели запуска для повторного создания зашифрованных паролей, которые хранит панель запуска для рабочих учетных записей.

Чтобы включить этот параметр и принудительно обновлять пароли, откройте область **Свойства** службы панели запуска в диспетчере конфигурации SQL Server, щелкните **Дополнительно** и измените значение параметра **Сбросить пароль внешних пользователей** на **Да**. После применения этого изменения пароли немедленно будут созданы повторно для всех учетных записей пользователей. Чтобы выполнить внешний скрипт после этого изменения, необходимо перезапустить службу панели запуска. В это время будут считываться заново созданные пароли.

Для сброса паролей через регулярные интервалы можно вручную установить этот флаг или использовать скрипт.

## <a name="next-steps"></a>Дальнейшие действия

+ [Платформа расширяемости](../concepts/extensibility-framework.md)
+ [Общие сведения о безопасности](../concepts/security.md)
