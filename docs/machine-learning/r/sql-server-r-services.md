---
title: Что представляют собой службы SQL Server 2016 R Services?
titleSuffix: ''
description: R Services — это компонент SQL Server 2016, который дает возможность выполнять скрипты R с реляционными данными. Вы можете использовать платформы и пакеты с открытым кодом и пакеты Майкрософт R для прогнозной аналитики и машинного обучения. Скрипты выполняются в базе данных без перемещения данных за пределы SQL Server или по сети. В этой статье объясняются основы SQL Server R Services.
ms.prod: sql
ms.technology: machine-learning-services
ms.date: 08/06/2020
ms.topic: overview
author: dphansen
ms.author: davidph
monikerRange: =sql-server-2016||=sqlallproducts-allversions
ms.openlocfilehash: f19c86fe5b61b46a95db7988657b1e5ed833f9fd
ms.sourcegitcommit: 8f062015c2a033f5a0d805ee4adabbe15e7c8f94
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/25/2020
ms.locfileid: "91227096"
---
# <a name="what-is-sql-server-2016-r-services"></a>Что представляют собой службы SQL Server 2016 R Services?

[!INCLUDE[SQL Server 2016 only](../../includes/applies-to-version/sqlserver2016-only.md)]

R Services — это компонент SQL Server 2016, который дает возможность выполнять скрипты R с реляционными данными. Вы можете использовать платформы и пакеты с открытым кодом и [пакеты Майкрософт R](#packages) для прогнозной аналитики и машинного обучения. Скрипты выполняются в базе данных без перемещения данных за пределы SQL Server или по сети. В этой статье объясняются основы SQL Server R Services.

> [!Note]
> R Services были переименованы в [Службы машинного обучения](../sql-server-machine-learning-services.md) в SQL Server 2017 и более поздних версий и поддерживают Python и R.

## <a name="what-is-r-services"></a>Что такое службы R?

SQL Server R Services позволяют выполнять скрипты R в базе данных. С их помощью можно подготавливать и очищать данные, выполнять проектирование признаков, а также обучать, оценивать и развертывать модели машинного обучения в базе данных. Этот компонент выполняет скрипты там, где хранятся данные, и устраняет необходимость перемещения данных по сети на другой сервер.

Базовые распределения R включены в службы R Services. Вы можете использовать пакеты и платформы с открытым кодом в дополнение к пакетам Microsoft [RevoScaleR](../r/ref-r-revoscaler.md), [MicrosoftML](../r/ref-r-microsoftml.md), [olapR]../r/ref-r-olapr.md) и [sqlrutils](../r/ref-r-sqlrutils.md) для R.

R Services используют платформу расширяемости для выполнения скриптов R на SQL Server. Дополнительные сведения о том, как это работает:

+ [Платформа расширяемости](../concepts/extensibility-framework.md)
+ [Расширение R](../concepts/extension-r.md)

## <a name="what-can-i-do-with-r-services"></a>Что можно сделать с помощью служб R Services?

Службы R Services можно использовать для создания и обучения моделей машинного обучения и глубокого обучения в SQL Server. Можно также развернуть существующие модели в службах R Services и использовать реляционные данные для прогнозов.

Примеры типов прогнозов, для которых можно использовать SQL Server R Services:

|Тип прогноза|Пример|
|-|-|
|Классификация и категоризация|Автоматическое разделение отзывов клиентов на положительные и отрицательные|
|Регрессия/прогнозирование непрерывных значений|Прогнозирование стоимости домов на основе размера и расположения|
|Обнаружение аномалий|Обнаружение мошеннических банковских транзакций |
|Рекомендации|Предложение продуктов, которые могут понравиться покупателям Интернет-магазина, на основе их предыдущих покупок|

### <a name="how-to-execute-r-scripts"></a>Как выполнять скрипты R

Существует два способа выполнения скриптов R в R Services:

+ Наиболее распространенным способом является использование хранимой процедуры T-SQL [sp_execute_external_script](../../relational-databases/system-stored-procedures/sp-execute-external-script-transact-sql.md).

+ Вы также можете использовать предпочтительный клиент R и написать скрипты, которые принудительно отправляют выполнение (так называемый *удаленный контекст вычислений*) на удаленный SQL Server. Дополнительные сведения см. в разделе о [настройке обработки и анализа для разработки на R](../r/set-up-a-data-science-client.md).

<a name="version"></a>

## <a name="r-versions"></a>Версии R

Ниже перечислены версии среды выполнения R, включенные в службы R для SQL Server 2016.

Версия SQL Server | Версии среды выполнения R по умолчанию |
|-|-|
| SQL Server 2016 RTM — SP2 CU13 | 3.2.2 |
| SQL Server 2016 с пакетом обновления 2 (SP2) CU14 и более поздние версии | 3.2.2 и 3.5.2 |

Накопительное обновление (CU) 14 для SQL Server 2016 с пакетом обновления 2 (SP2) и более поздних версий включает в себя более новые среды выполнения R. Дополнительные сведения см. в статье [Изменение версии языковой среды выполнения по умолчанию](../install/change-default-language-runtime-version.md).

Если нужно запустить другие версии R или Python, воспользуйтесь [Службами машинного обучения для SQL Server 2017 и более поздних версий](../sql-server-machine-learning-services.md).

<a name="packages"></a>

## <a name="r-packages"></a>Пакеты R

В дополнение к корпоративным пакетам Майкрософт можно использовать платформы и пакеты с открытым кодом. Наиболее распространенные пакеты R с открытым кодом предварительно установлены в R Services. Также включены следующие пакеты R от Майкрософт:

| Пакет | Описание |
|-|-|
| [RevoScaleR](../r/ref-r-revoscaler.md) | Основной пакет для масштабируемого R. Преобразования и обработка данных, статистическая сводка, визуализация и многие виды моделирования. Кроме того, функции в этом пакете автоматически распределяют рабочие нагрузки между доступными ядрами для параллельной обработки. |
| [MicrosoftML (R)](../r/ref-r-microsoftml.md) | Добавляет алгоритмы машинного обучения для создания пользовательских моделей для анализа текста, анализа изображений и анализа тональности. |
| [olapR](../r/ref-r-olapr.md) | Функции R, используемые для запросов многомерных выражений к кубу OLAP SQL Server Analysis Services. |
| [sqlrutils](../r/ref-r-sqlrutils.md) | Механизм для использования скриптов R в хранимой процедуре T-SQL, регистрации этой хранимой процедуры в базе данных и ее запуска из [среды разработки R](../r/set-up-a-data-science-client.md). |
| [Microsoft R Open](https://mran.microsoft.com/rro) | Microsoft R Open (MRO) — это улучшенная версия R от Майкрософт. Это полная платформа с открытым кодом для статистического анализа и обработки и анализа данных. Она основана на R, полностью совместима с ним и включает дополнительные возможности для повышения производительности и воспроизводимости. |

## <a name="how-do-i-get-started-with-rservices"></a>Как начать работать с R Services?

1. [Установка SQL Server 2016 R Services](../install/sql-r-services-windows-install.md)

1. Настройте средства разработки. Вы можете использовать:

    + [Azure Data Studio](../../azure-data-studio/what-is.md) или [SQL Server Management Studio (SSMS)](../../ssms/sql-server-management-studio-ssms.md) для использования T-SQL и хранимой процедуры [sp_execute_external_script](../../relational-databases/system-stored-procedures/sp-execute-external-script-transact-sql.md), чтобы выполнить скрипт R.
    + R на собственном ноутбуке или рабочей станции разработки для выполнения скриптов. Можно либо извлечь данные локально, либо отправить выполнение удаленно в SQL Server с помощью [RevoScaleR](../r/ref-r-revoscaler.md). Дополнительные сведения см. в разделе о [настройке обработки и анализа для разработки на R](../r/set-up-a-data-science-client.md).

1. Напишите свой первый скрипт R

    + Краткое руководство. [Создание и выполнение простых скриптов R в SQL Server](../tutorials/quickstart-r-create-script.md)
    + Краткое руководство. [Создание и обучение модели прогнозирования на R](../tutorials/quickstart-r-train-score-model.md)
    + Руководство по [Использование R в T-SQL](../tutorials/r-taxi-classification-introduction.md). Просмотр данных, разработка признаков, обучение и развертывание моделей, создание прогнозов (серия из пяти частей)
    + Руководство по [Использование служб R в инструментах R](../tutorials/walkthrough-data-science-end-to-end-walkthrough.md). Просмотр данных, создание графов и графиков, разработка признаков, обучение и развертывание моделей, создание прогнозов (серии из шести частей)

## <a name="next-steps"></a>Дальнейшие шаги

+ [Установка SQL Server 2016 R Services](../install/sql-r-services-windows-install.md)
+ [Настройка клиента обработки и анализа данных для разработки на R](../r/set-up-a-data-science-client.md)
