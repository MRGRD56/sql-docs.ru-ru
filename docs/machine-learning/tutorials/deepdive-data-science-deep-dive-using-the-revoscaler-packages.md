---
title: Подробный учебник по RevoScaleR
description: В этой серии учебников описано, как вызывать функции RevoScaleR с помощью интеграции службы машинного обучения SQL Server со средой R.
ms.prod: sql
ms.technology: machine-learning-services
ms.date: 11/27/2018
ms.topic: tutorial
author: dphansen
ms.author: davidph
ms.custom: seo-lt-2019
monikerRange: '>=sql-server-2016||>=sql-server-linux-ver15'
ms.openlocfilehash: 9d7300acb587dd25c294918fe5ae3a6d6a90ddbc
ms.sourcegitcommit: 1a544cf4dd2720b124c3697d1e62ae7741db757c
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/14/2020
ms.locfileid: "97470575"
---
# <a name="tutorial-use-revoscaler-r-functions-with-sql-server-data"></a>Руководство по Использование функций R RevoScaleR с данными SQL Server
[!INCLUDE [SQL Server 2016 and later](../../includes/applies-to-version/sqlserver2016.md)]

В этой серии из нескольких  руководстве вы ознакомитесь с рядом функций **RevoScaleR** для выполнения задач, связанных с обработкой и анализом данных. В процессе работы с ним вы научитесь создавать удаленный контекст вычисления, перемещать данные между локальным и удаленным контекстами вычисления и выполнять код на языке R на удаленном сервере SQL Server. Кроме того, вы узнаете, как анализировать и отображать данные как локально, так и на удаленном сервере, а также создавать и развертывать модели.

[RevoScaleR](/machine-learning-server/r-reference/revoscaler/revoscaler) — это пакет R от корпорации Майкрософт, обеспечивающий распределенную и параллельную обработку для рабочих нагрузок обработки и анализа данных и машинного обучения. При разработке на языке R в SQL Server **RevoScaleR** является одним из основных встроенных пакетов. Он содержит функции для создания объектов источников данных, задания контекста вычисления, управления пакетами и, что самое важное, работы с данными: от импорта до визуализации и анализа. Алгоритмы машинного обучения в SQL Server зависят от источников данных **RevoScaleR**. Учитывая важность пакета **RevoScaleR**, умение вызывать его функции в соответствующих случаях — очень полезный навык. 

## <a name="prerequisites"></a>Предварительные требования

+ [Службы машинного обучения SQL Server](../install/sql-machine-learning-services-windows-install.md) с компонентом R или [SQL Server R Services (в базе данных)](../install/sql-r-services-windows-install.md)
  
+ [Разрешения для базы данных](../security/user-permission.md) и имя пользователя для входа в базу данных SQL Server

+ [Среда SQL Server Management Studio](../../ssms/download-sql-server-management-studio-ssms.md)

+ Интегрированная среда разработки, например RStudio, или средство RGUI, входящее в состав R

Для переключения между локальным и удаленным контекстами вычисления требуются две системы. Локальный контекст — это обычно рабочая станция разработки с достаточной производительностью для рабочих нагрузок обработки и анализа данных. Удаленным контекстом в этом случае является сервер SQL Server с включенным компонентом R. 

Переключение контекста вычисления предполагает наличие одинаковой версии **RevoScaleR** в локальной и удаленной системах. На локальной рабочей станции пакеты **RevoScaleR** и связанные поставщики можно получить, установив Microsoft R Client.

Если необходимо разместить клиент и сервер на одном компьютере, установите второй набор библиотек Microsoft R, чтобы отправлять сценарий R из "удаленного" клиента. Не используйте библиотеки R, установленные в программных файлах экземпляра SQL Server. В частности, если используется один компьютер, то для поддержки операций клиента и сервера необходимо иметь библиотеку **RevoScaleR** в обоих расположениях.

+ C:\Program Files\Microsoft\R Client\R_SERVER\library\RevoScaleR 
+ C:\Program Files\Microsoft SQL Server\MSSQL14.MSSQLSERVER\R_SERVICES\library\RevoScaleR

Инструкции по настройке клиента см. в статье [Настройка клиента обработки и анализа данных для разработки на R](../r/set-up-a-data-science-client.md).


## <a name="r-development-tools"></a>Средства разработки R

Разработчики на языке R обычно используют интегрированные среды разработки для написания и отладки кода R. Вот несколько советов:

- **Инструменты R для Visual Studio** (RTVS) — это бесплатный подключаемый модуль, предоставляющий возможности Intellisense, отладки и поддержки Microsoft R. Его можно использовать как с R Server, так и со службами машинного обучения SQL Server. Чтобы скачать эти средства, перейдите на страницу [Средства R для Visual Studio](https://marketplace.visualstudio.com/items?itemName=MikhailArkhipov007.RTVS2019).

- **RStudio** — одна из наиболее популярных сред для разработки на языке R. Дополнительные сведения см. в статье [https://www.rstudio.com/products/RStudio/](https://www.rstudio.com/products/RStudio/).

- Основные средства R (R.exe, RTerm.exe, RScripts.exe) также устанавливаются по умолчанию при установке среды R в SQL Server или клиента R Client. Если вы не хотите устанавливать интегрированную среду разработки, вы можете использовать встроенные средства R для выполнения кода в этом учебнике.

Напомним, что пакет **RevoScaleR** требуется как на локальном, так и на удаленном компьютерах. Это руководство нельзя пройти с помощью универсальной установки RStudio или другой среды, в которой нет библиотек R Майкрософт. Дополнительные сведения см. в разделе [Настройка клиента обработки и анализа данных](../r/set-up-a-data-science-client.md).

## <a name="summary-of-tasks"></a>Сводка задач

+ Данные изначально получаются из CSV- или XDF-файлов. Вы импортируете данные в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] с помощью функций из пакета **RevoScaleR**.
+ Обучение и оценка модели выполняется с помощью контекста вычисления [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. 
+ С помощью функций **RevoScaleR** создаются таблицы [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] для сохранения результатов оценки.
+ Графики создаются как на сервере, так и в локальном контексте вычисления.
+ Модель данных обучается на основе данных в базе данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Среда R запускается в экземпляре [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].
+ Подмножество данных извлекается и сохраняется в XDF-файле для повторного использования при анализе на локальной рабочей станции.
+ С целью получения новых данных для оценки открывается подключение ODBC к базе данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Оценка выполняется на локальной рабочей станции.
+ Создается пользовательская функция R, которая затем выполняется в контексте серверных вычислений для моделирования.

## <a name="next-steps"></a>Дальнейшие действия

> [!div class="nextstepaction"]
> [Учебник 1. Создание базы данных и разрешений](deepdive-work-with-sql-server-data-using-r.md)