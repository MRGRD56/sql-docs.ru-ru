---
description: Настройка проверки подлинности Windows на сервере отчетов
title: Настройка обычной проверки подлинности на сервере отчетов | Документы Майкрософт
ms.date: 02/10/2021
ms.prod: reporting-services
ms.prod_service: reporting-services-native
ms.technology: security
ms.topic: conceptual
helpviewer_keywords:
- Reporting Services, configuration
- Basic authentication
ms.assetid: 8faf2938-b71b-4e61-a172-46da2209ff55
author: maggiesMSFT
ms.author: maggies
ms.openlocfilehash: d3b875eafb10e4234df2cde35bb61bbecfebad94
ms.sourcegitcommit: e8c0c04eb7009a50cbd3e649c9e1b4365e8994eb
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/14/2021
ms.locfileid: "100489328"
---
# <a name="configure-basic-authentication-on-the-report-server"></a>Настройка проверки подлинности Windows на сервере отчетов
  По умолчанию службы Reporting Services принимают запросы, в которых задана проверка подлинности NTLM или Negotiated. Если конфигурация развертывания включает клиентские приложения или браузеры, использующие обычную проверку подлинности, то необходимо добавить обычную проверку подлинности в список поддерживаемых типов. Кроме того, если планируется использование построителя отчетов, то необходимо разрешить анонимный доступ к его файлам.  
  
 Настройка обычной проверки подлинности сервера отчетов производится путем изменения XML-элементов и значений в файле RSReportServer.config. Чтобы заменить значения по умолчанию, можно скопировать и вставить примеры из этого раздела.  
  
 Прежде чем включать обычную проверку подлинности, убедитесь, что инфраструктура безопасности ее поддерживает. При обычной проверке подлинности веб-службы сервера отчетов передают учетные данные в локальный центр безопасности. Если учетные данные задают локальную учетную запись пользователя, то проверка подлинности пользователя выполняется локальным центром безопасности на компьютере сервера отчетов и пользователь получает токен безопасности, действительный для локальных ресурсов. Учетные данные для учетных записей домена пересылаются на контроллер домена, который выполняет проверку их подлинности. Полученный в результате проверки билет действует для доступа к сетевым ресурсам.  
  
 Шифрование канала (например, по протоколу TLS [ранее — SSL]) необходимо для тех случаев, когда надо снизить риск перехвата учетных данных во время пересылки по сети на контроллер домена. Сама процедура обычной проверки подлинности подразумевает передачу имени пользователя открытым текстом, а пароля — в кодировке Base 64. Шифрование канала позволяет сделать пакет нечитаемым. Дополнительные сведения см. в разделе [Настройка TLS-соединений для сервера отчетов, работающего в собственном режиме](../../reporting-services/security/configure-ssl-connections-on-a-native-mode-report-server.md).  
  
 После разрешения обычной проверки подлинности удостоверьтесь в том, что пользователи не могут выбрать режим **Встроенная безопасность Windows** при настройке соединения с внешним источником данных, поставляющим данные для отчета. Этот режим на страницах свойств источника данных будет затенен.  
  
> [!NOTE]  
>  Следующие параметры настраиваются для сервера отчетов, работающего в собственном режиме. Если развертывание сервера отчетов производилось в режиме интеграции с SharePoint, то необходимо пользоваться настройками проверки подлинности по умолчанию, в которых задана встроенная безопасность Windows. Сервер отчетов использует внутренние функции модуля проверки подлинности Windows по умолчанию для поддержки серверов отчетов в режиме интеграции с SharePoint.  
  
### <a name="to-configure-a-report-server-to-use-basic-authentication"></a>Настройка сервера отчетов для использования обычной проверки подлинности  
  
1. Откройте файл конфигурации RSReportServer.config в текстовом редакторе.  
  
     Сведения о том, как найти файл конфигурации, см. в разделе [Расположение файла](../report-server/rsreportserver-config-configuration-file.md#bkmk_file_location) в статье "Файл конфигурации RsReportServer.config".
  
2. Найдите параметр \<**Authentication**>.  
  
3. Выберите и скопируйте наиболее подходящую из следующих XML-структур. Первая XML-структура содержит заполнители для всех элементов, описанных в следующем разделе.  

    [!INCLUDE [ssrs-appliesto](../../includes/ssrs-appliesto.md)] [!INCLUDE [ssrs-appliesto-2016](../../includes/ssrs-appliesto-2016.md)]

    ```xml
    <Authentication>  
          <AuthenticationTypes>  
                 <RSWindowsBasic>  
                       <LogonMethod>3</LogonMethod>  
                       <Realm></Realm>  
                       <DefaultDomain></DefaultDomain>  
                 </RSWindowsBasic>  
          </AuthenticationTypes>  
          <EnableAuthPersistence>true</EnableAuthPersistence>  
    </Authentication>  
    ```  
  
    Если желательно использовать значения по умолчанию, то можно скопировать структуру, содержащую минимальный набор элементов.  
  
    ```xml
          <AuthenticationTypes>  
                 <RSWindowsBasic/>  
          </AuthenticationTypes>  
    ```  

    [!INCLUDE [ssrs-appliesto](../../includes/ssrs-appliesto.md)] [!INCLUDE [ssrs-appliesto-2017-and-later](../../includes/ssrs-appliesto-2017-and-later.md)] [!INCLUDE [ssrs-appliesto-pbirs](../../includes/ssrs-appliesto-pbirs.md)]

    ```xml
      <Authentication>
          <AuthenticationTypes>
                      <RSWindowsBasic/>
          </AuthenticationTypes>
          <EnableAuthPersistence>true</EnableAuthPersistence>
      <RSWindowsExtendedProtectionLevel>Off</RSWindowsExtendedProtectionLevel>
      <RSWindowsExtendedProtectionScenario>Any</RSWindowsExtendedProtectionScenario>
      </Authentication>
    ```

4. Вставьте его на место существующих элементов \<**Authentication**>.  
  
     При использовании нескольких типов проверки подлинности добавьте только элемент **RSWindowsBasic** , но не удаляйте элементы для **RSWindowsNegotiate**, **RSWindowsNTLM** или **RSWindowsKerberos**.  
  
     Следует заметить, что **Custom** нельзя использовать с другими типами проверки подлинности.  
  
5. Замените пустые значения для элементов \<**Realm**> и \<**DefaultDomain**> значениями для своей среды.  
  
6. Сохраните файл.  
  
7. Если настроено масштабное развертывание, повторите вышеперечисленные шаги для остальных серверов отчетов, входящих в конфигурацию развертывания.  
  
8. Перезапустите сервер отчетов, чтобы очистить все открытые сеансы.  
  
## <a name="rswindowsbasic-reference"></a>Справочник по RSWindowsBasic  
 При настройке обычной проверки подлинности можно задать следующие элементы.  
  
|Элемент|Обязательно|Допустимые значения|  
|-------------|--------------|------------------|  
|LogonMethod|Да<br /><br /> Если значение не указано, то будет использовано значение 3.|**2** — вход в сеть, предназначенный для высокопроизводительных серверов и проверки подлинности паролей в виде обычного текста.<br /><br /> **3** — вход с открытым паролем, при котором учетные данные сохраняются в пакете проверки подлинности, отправляемом в каждом HTTP-запросе. Это позволяет серверу олицетворять пользователя при соединении с другими серверами в сети. (по умолчанию)<br /><br /> Примечание. Значения 0 (для интерактивного входа) и 1 (для входа пакетного типа) **НЕ** поддерживаются в [!INCLUDE[ssRSCurrent](../../includes/ssrscurrent-md.md)].|  
|Realm|Необязательно|Задает секцию ресурса, включающую функции авторизации и проверки подлинности, используемые для управления доступом к защищенным ресурсам организации.|  
|DefaultDomain|Необязательно|Задает домен, используемый сервером для проверки подлинности пользователя. Это значение является необязательным, однако если оно не указано, то сервер отчетов будет использовать в качестве домена имя компьютера. Если компьютер является членом домена, то этот домен является доменом по умолчанию. Если сервер отчетов установлен на контроллере домена, то используется домен, котроллером которого является этот компьютер.|  
  
## <a name="see-also"></a>См. также:  
 [Домены приложений для приложений сервера отчетов](../../reporting-services/report-server/application-domains-for-report-server-applications.md)   
 [Защита и обеспечение безопасности служб Reporting Services](../../reporting-services/security/reporting-services-security-and-protection.md)  
  
  
