---
description: Настройка URL-адреса (диспетчер конфигурации сервера отчетов)
title: Настройка URL-адреса (диспетчер конфигурации) | Документация Майкрософт
ms.date: 05/26/2016
ms.prod: reporting-services
ms.prod_service: reporting-services-native
ms.topic: conceptual
helpviewer_keywords:
- URL access [Reporting Services], syntax
ms.assetid: 851e163a-ad2a-491e-bc1e-4df92327092f
author: maggiesMSFT
ms.author: maggies
ms.openlocfilehash: 7a58a11e71c471bf02ca68ddaf4a416c3d9c554b
ms.sourcegitcommit: f30b5f61c514437ea58acc5769359c33255b85b5
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/29/2021
ms.locfileid: "99075706"
---
# <a name="configure-a-url--report-server-configuration-manager"></a>Настройка URL-адреса (диспетчер конфигурации сервера отчетов)
  Приступать к использованию [!INCLUDE[ssRSWebPortal](../../includes/ssrswebportal.md)] или веб-службы сервера отчетов можно лишь после настройки как минимум одного URL-адреса для каждого приложения. Настройка URL-адресов является обязательной в случае установки служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] в режиме "только файлы" (иначе говоря, если на странице "Параметры установки" сервера отчетов в мастере установки выбран параметр **Установить, но не настраивать сервер** ). При установке служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] в конфигурации по умолчанию URL-адреса настраиваются автоматически для каждого приложения.  
  
 Используйте программу настройки служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] для настройки URL-адресов. Это средство позволяет определить все части URL-адреса. В отличие от более ранних версий, веб-сайты служб IIS не обеспечивают доступ к приложениям служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] в [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] и более поздних версиях.  
  
 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] предоставляют значения по умолчанию, которые хорошо вписываются в большинство сценариев развертывания, включая параллельное развертывание с другими веб-службами и приложениями. Применяемые по умолчанию URL-адреса включают в себя имена экземпляров, что снижает вероятность конфликтов URL-адресов в случае запуска нескольких экземпляров сервера отчетов на одном компьютере.  
  
 В этом разделе содержатся инструкции по выполнению следующих задач.  
  
-   Создание URL-адреса для веб-службы сервера отчетов.  
  
-   Создание URL-адреса для [!INCLUDE[ssRSWebPortal](../../includes/ssrswebportal.md)].  
  
-   Указание дополнительных свойств URL-адреса для определения дополнительных URL-адресов.  
  
 Дополнительные сведения о хранении и поддержке URL-адресов, а также о проблемах совместимости см. в статьях [Сведения о резервировании и регистрации URL-адресов (диспетчер конфигурации сервера отчетов)](../../reporting-services/install-windows/about-url-reservations-and-registration-ssrs-configuration-manager.md) и [Параллельная установка служб Reporting Services и IIS (собственный режим SSRS)](../../reporting-services/install-windows/install-reporting-and-internet-information-services-side-by-side.md). Обзор примеров URL-адресов, часто используемых при установке служб Reporting Services, см. в подразделе [Примеры URL-адресов](#URLExamples) данного раздела.  
  
## <a name="prerequisites"></a>Предварительные требования  
 Перед тем как приступать к созданию или изменению URL-адреса, нужно запомнить следующие моменты.  
  
-   Необходимо быть членом локальной группы администраторов на компьютере сервера отчетов.  
  
-   Если служба IIS установлена на этом же компьютере, проверьте имена виртуальных каталогов на веб-сайте, который использует порт 80. Если будут найдены виртуальные каталоги, в которых используются имена виртуальных каталогов служб Reporting Services по умолчанию (такие как Reports и ReportServer), выберите для настраиваемых URL-адресов служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] другие имена виртуальных каталогов.  
  
-   Для настройки этого URL-адреса используйте программу настройки служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] . Не пользуйтесь системной программой. Никогда не изменяйте резервирование URL-адресов в разделе **URLReservations** файла RSReportServer.config напрямую. Как для обновления внутренне хранимого базового резервирования URL-адреса, так и для синхронизации настроек URL в файле RSReportServer.config необходимо использовать программу настройки служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] .  
  
-   Выберите время, когда выполняется небольшой объем действий с отчетами. Каждый раз при изменении резервирования URL-адреса можно ожидать очистки доменов приложений для веб-службы сервера отчетов и [!INCLUDE[ssRSWebPortal](../../includes/ssrswebportal.md)] .  
  
-   Общие сведения о структуре и использовании URL-адресов в службах [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] см. в статье [Настройка URL-адресов сервера отчетов (диспетчер конфигурации сервера отчетов)](../../reporting-services/install-windows/configure-report-server-urls-ssrs-configuration-manager.md).  
  
### <a name="to-configure-a-url-for-the-report-server-web-service"></a>Настройка URL-адреса для веб-службы сервера отчетов  
  
1.  Запустите программу настройки служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] и подключитесь к локальному экземпляру сервера отчетов.  
  
2.  Щелкните **URL-адрес веб-службы**.  
  
3.  Укажите виртуальный каталог. Имя виртуального каталога указывает на то, какое приложение получает запрос. IP-адрес и порт могут совместно использоваться несколькими приложениями, поэтому получающее запрос приложение определяется с помощью имени виртуального каталога.  
  
     Чтобы запрос мог попасть в пункт назначения, это значение должно быть уникальным. Это значение обязательно. Оно учитывает регистр букв. Между именем виртуального каталога и экземпляром приложения служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] имеется однозначное соответствие. При создании нескольких URL-адресов для одного и того же экземпляра приложения необходимо во всех URL-адресах, указанных для этого экземпляра приложения, использовать одно и то же имя виртуального каталога.  
  
     Для веб-службы сервера отчетов по умолчанию применяется имя виртуального каталога **ReportServer**.  
  
4.  Укажите IP-адрес, уникально определяющий компьютер сервера отчетов в сети. Если необходимо указать заголовок узла или определить дополнительные URL-адреса для одного и того же экземпляра приложения, следует нажать кнопку **Дополнительно**. Сведения о том, как устанавливать дополнительные свойства для URL-адресов, см. в инструкциях далее в этом разделе. В противном случае перейдите на страницу **URL-адрес веб-службы** и выберите одно из следующих значений.  
  
    -   Значение **Все назначенные** указывает на то, что в URL-адресе, который указывает на приложение сервера отчетов, может быть указан любой IP-адрес, указывающий на компьютер сервера отчетов. Сюда также включаются понятные имена узлов (например, имя компьютера), которые DNS-сервер разрешает в IP-адрес этого компьютера. Это значение URL-адреса служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] по умолчанию.  
  
    -   **Все неназначенные** указывает на то, что сервер отчетов получит любой из запросов, не обработанных другим приложением. Рекомендуется воздерживаться от использования данного параметра. При выборе этого параметра другое приложение с более сильным резервированием URL-адресов может перехватывать запросы, предназначенные для сервера отчетов.  
  
    -   **127.0.0.1** — это адрес в формате IPv4, используемый для доступа к локальному компьютеру. Используется для локального администрирования компьютера сервера отчетов. При выборе только этого значения доступ к приложению будут иметь лишь пользователи, зарегистрировавшиеся локально на компьютере сервера отчетов.  
  
    -   **::1** — это петлевой адрес в формате IPv6.  
  
    -   Отдельные IP-адреса представлены также в этом списке. IP-адреса могут иметь форматы IPv4 и IPv6. *Nnn.nnn.nnn.nnn* — 32-разрядный адрес IPv4 сетевого адаптера на компьютере. Адреса IPv6 имеют 128 разрядов. Каждый из них состоит из восьми полей по 4 байта, разделенных двоеточиями: \<prefix>:*nnnn:nnnn:nnnn:nnnn:nnnn:nnnn*  
  
         Если на вашем компьютере установлено несколько плат или ваша сеть поддерживает как адреса IPv4, так и адреса IPv6, вы увидите несколько IP-адресов. Если выбрать только один IP-адрес, доступ приложения будет ограничен этим адресом (а также именем узла, которое сервер доменных имен связывает с этим адресом). Доступ к компьютеру сервера отчетов ни по имени localhost, ни по IP-адресам других установленных на нем плат сетевых адаптеров будет невозможен. Обычно это значение выбирается потому, что пользователь выполняет настройку резервирования нескольких URL-адресов, в которых также явно указываются IP-адреса или имена узлов (например, один для сетевой платы, используемый для соединения с интрасетью сетью, а второй — используемый для соединения с экстрасетью).  
  
5.  Укажите номер порта. Порт 80 применяется по умолчанию, поскольку его можно использовать совместно с другими приложениями. Если необходимо использовать другой номер порта, помните, что его придется указывать в URL-адресе при каждом обращении к серверу отчетов. Для поиска свободного порта можно использовать следующие методы.  
  
    -   В командной строке введите следующие команды для возвращения списка используемых портов TCP:  
  
         `netstat -anp tcp`  
  
    -   Просмотрите статью службы технической поддержки Майкрософт [Сведения о назначении портов TCP/IP](https://www.betaarchive.com/wiki/index.php?title=Microsoft_KB_Archive/174904), обращая внимание на порядок назначения портов TCP и на различия между известными портами (от 0 до 1023), зарегистрированными портами (от 1024 до 49151) и динамическими, или частными, портами (от 49152 до 65535).  
  
    -   При использовании брандмауэра Windows необходимо открыть порт. Инструкции см. в разделе [Configure a Firewall for Report Server Access](../../reporting-services/report-server/configure-a-firewall-for-report-server-access.md).  
  
6.  Если вы еще не сделали этого, удостоверьтесь, что служба IIS (если она установлена) не имеет виртуального каталога с именем, которое вы планируете использовать.  
  
7.  Если установлен TLS/SSL-сертификат, можно выделить его, чтобы связать URL-адрес с TLS/SSL-сертификатом, установленным на компьютере.  
  
8.  Если выбран TLS/SSL-сертификат, то можно указать другой номер порта. По умолчанию используется порт 443, но можно использовать любой доступный порт.  
  
9. Чтобы создать URL-адрес, нажмите кнопку **Применить** .  
  
10. Проверьте URL-адрес, щелкнув ссылку в разделе **URL-адреса** . Следует отметить, что перед началом тестирования URL-адреса необходимо создать и настроить базу данных сервера отчетов. Инструкции см. в статье [Создание базы данных сервера отчетов, работающего в собственном режиме (диспетчер конфигурации сервера отчетов)](../../reporting-services/install-windows/ssrs-report-server-create-a-native-mode-report-server-database.md).  

> [!NOTE]
>  Если у вас имеются привязки TLS и резервирования URL-адресов и необходимо изменить привязку TLS, например для использования другого сертификата или заголовка узла, то рекомендуется выполнить следующую последовательность шагов.  
> 
>  1.  Сначала удалите все резервирования URL-адресов.  
> 2.  Затем удалите все привязки TLS.  
> 3.  Создайте URL-адреса и привязки TLS заново.  
> 
>  Предыдущие шаги можно выполнить с помощью диспетчера конфигурации служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] .  
> 
>  Microsoft Windows поддерживает одну привязку для каждого сочетания IP-адреса и порта. Если настроить сервер отчетов на использование конкретного значения заголовка узла и сертификата для сочетания IP-адреса и порта, уже назначенного другому значению заголовка узла, то в браузере будет выдано предупреждение о том, что сертификат не соответствует используемому URL-адресу.  
> 
>  Чтобы решить эту проблему, удалите все привязки и создайте новые с уникальными настройками либо настройте для служб Reporting Services регистрацию URL-адресов с шаблонами.
  
### <a name="to-create-a-url-reservation-for-the-ssrswebportal"></a>Создание резервирования URL-адреса для [!INCLUDE[ssRSWebPortal](../../includes/ssrswebportal.md)]  
  
1.  Запустите средства настройки служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] и подключитесь к экземпляру сервера отчетов.  
  
2.  Щелкните **URL-адрес веб-портала**.  
  
3.  Укажите виртуальный каталог. [!INCLUDE[ssRSWebPortal](../../includes/ssrswebportal.md)] прослушивает те же IP-адрес и порт, что и веб-служба сервера отчетов. Если [!INCLUDE[ssRSWebPortal](../../includes/ssrswebportal.md)] настроен таким образом, что он указывает на другую веб-службу сервера отчетов, необходимо изменить параметры URL-адреса [!INCLUDE[ssRSWebPortal](../../includes/ssrswebportal.md)] в файле RSReportServer.config.  
  
4.  Если установлен TLS/SSL-сертификат, можно выбрать его, чтобы все запросы к [!INCLUDE[ssRSWebPortal](../../includes/ssrswebportal.md)] маршрутизировались по протоколу HTTPS.  
  
     Если выбран TLS/SSL-сертификат, то можно указать другой номер порта. По умолчанию используется порт 443, но можно использовать любой доступный порт.  
  
5.  Чтобы создать URL-адрес, нажмите кнопку **Применить** .  
  
6.  Проверьте URL-адрес, щелкнув ссылку в разделе **URL-адреса** .  
  
## <a name="setting-advanced-properties-to-specify-additional-urls"></a>Установка дополнительных свойств для указания дополнительных URL-адресов  
 Несколько URL-адресов веб-службы сервера отчетов или [!INCLUDE[ssRSWebPortal](../../includes/ssrswebportal.md)] можно зарезервировать, указав различные порты или имена узлов (IP-адрес или имя заголовка узла, которое сервер доменных имен может преобразовать в IP-адрес, назначенный компьютеру). Создав несколько URL-адресов, можно установить различные пути доступа к одному экземпляру сервера отчетов. Так, для обеспечения доступа к серверу отчетов через локальную сеть и через экстрасеть можно использовать применяемый по умолчанию URL-адрес для доступа по локальной сети и дополнительное полное имя узла для доступа через экстрасеть.  
  
-   `https://myserver01/reportserver`  
  
-   `https://www.adventure-works.com/reportserver`  
  
 Назначение нескольких имен виртуальных каталогов для одного экземпляра приложения не допускается. Каждый экземпляр приложения служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] сопоставляется одному имени виртуального каталога. При наличии на одном компьютере нескольких экземпляров служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] имя виртуального каталога должно включать в себя имя этого экземпляра; таким образом гарантируется, что каждый запрос доставляется правильному адресату.  
 
  **Заголовок узла**  
 Если заголовок узла, соответствующий компьютеру, уже определен на сервере доменных имен, его можно указать в URL-адресе, настраиваемом для доступа к серверу отчетов.  
  
 Заголовок узла представляет собой уникальное имя, позволяющее нескольким веб-сайтам совместно использовать один и тот же IP-адрес и порт. По сравнению с IP-адресами и номерами порта имена заголовков узлов легче запоминать и проще вводить. Пример имени заголовка узла: www.adventure-works.com.  
  
 **SSL-порт**  
 Задает порт для TLS/SSL-соединений. По умолчанию номер порта TLS — 443.  
  
 **SSL-сертификат**  
 Определяет имя TLS/SSL-сертификата, установленного на компьютере. Если сертификат соответствует шаблону, его можно использовать для соединения с сервером отчетов.  
  
 Указывает полное имя компьютера, для которого регистрируется сертификат. Указанное имя должно быть идентично имени, на которое зарегистрирован этот сертификат.  
  
 Для данного параметра необходим установленный сертификат. Можно также изменить параметры конфигурации UrlRoot в файле RSReportServer.config, чтобы они указывали полное имя компьютера, для которого регистрируется сертификат. Дополнительные сведения см. в разделе [Настройка TLS-соединений для сервера отчетов, работающего в собственном режиме](../../reporting-services/security/configure-ssl-connections-on-a-native-mode-report-server.md).  
  
### <a name="to-set-advanced-properties-on-a-url"></a>Назначение дополнительных свойств URL-адресу  
  
1.  На странице **URL-адрес веб-службы** или на странице **URL-адрес веб-портала** нажмите кнопку **Дополнительно**.  
  
2.  Нажмите кнопку **Добавить**.  
  
3.  Щелкните IP-адрес или имя заголовка узла. При указании заголовка узла обязательно используйте такое имя, которое может разрешить служба DNS. При указании общедоступного доменного имени включайте весь URL-адрес, в том числе `https://www`.  
  
4.  Укажите номер порта. При указании нестандартного порта URL-адрес приложения должен всегда включать номер порта.  
  
5.  Нажмите кнопку **ОК**.  
  
6.  Проверьте URL-адрес, открыв окно браузера и введя в него этот адрес.  
  
## <a name="urls-for-multiple-report-server-instances-on-the-same-computer"></a>URL-адреса для нескольких экземпляров сервера отчетов на одном компьютере  
 Во избежание конфликта имен при резервировании URL-адресов для нескольких экземпляров служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]необходимо соблюдать соглашения об именах. Дополнительные сведения см. в статье [Резервирование URL-адресов при развертывании сервера отчетов на нескольких экземплярах (диспетчер конфигурации сервера отчетов)](../../reporting-services/install-windows/url-reservations-for-multi-instance-report-server-deployments.md).  
  
##  <a name="examples-of-url-configurations"></a><a name="URLExamples"></a> Примеры конфигурации URL-адресов  
 Приведенный ниже список содержит несколько примеров того, как может выглядеть URL-адрес сервера отчетов.  
  
-   `https://localhost/reportserver`  
  
-   `https://localhost/reportserver_SQLEXPRESS`  
  
-   `https://sales01/reportserver`  
  
-   `https://sales01:8080/reportserver`  
  
-   `https://sales.adventure-works.com/reportserver`  
  
-   `https://www.adventure-works.com:8080/reportserver01`  
  
 URL-адреса, используемые для доступа к [!INCLUDE[ssRSWebPortal](../../includes/ssrswebportal.md)] , имеют тот же формат и обычно создаются на том же веб-сайте, где расположен сервер отчетов. Единственным различием является имя виртуального каталога (в данном случае это **reports** , но можно использовать любое имя по своему усмотрению).  
  
-   `https://localhost/reports`  
  
-   `https://localhost/reports_SQLEXPRESS`  
  
-   `https://sales01/reports`  
  
-   `https://sales01:8080/reports`  
  
-   `https://sales.adventure-works.com/reports`  
  
-   `https://www.adventure-works.com:8080/reports`  
  
## <a name="see-also"></a>См. также:

 [Настройка URL-адресов сервера отчетов (диспетчер конфигурации сервера отчетов)](../../reporting-services/install-windows/configure-report-server-urls-ssrs-configuration-manager.md) [Диспетчер конфигурации сервера отчетов (собственный режим)](../../reporting-services/install-windows/reporting-services-configuration-manager-native-mode.md)   
