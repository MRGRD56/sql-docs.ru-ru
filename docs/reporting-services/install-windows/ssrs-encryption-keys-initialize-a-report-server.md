---
description: Инициализация сервера отчетов (диспетчер конфигурации)
title: Инициализация сервера отчетов (диспетчер конфигурации) | Документация Майкрософт
ms.date: 05/31/2016
ms.prod: reporting-services
ms.prod_service: reporting-services-native
ms.topic: conceptual
helpviewer_keywords:
- report servers [Reporting Services], initializing
- initialization process [Reporting Services]
- checking report server initializations
- scale-out deployments [Reporting Services]
- initializing report servers [Reporting Services]
- verifying report server initializations
ms.assetid: 861d4ec4-1085-412c-9a82-68869a77bd55
author: maggiesMSFT
ms.author: maggies
ms.openlocfilehash: d7cbe27857ba31dc8b91ac8d93ae08ca8dd219f6
ms.sourcegitcommit: fe59f8dc27fd633f5dfce54519d6f5dcea577f56
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/09/2020
ms.locfileid: "91934667"
---
# <a name="ssrs-encryption-keys---initialize-a-report-server"></a>Ключи шифрования служб SSRS — инициализация сервера отчетов
  В службах [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)]инициализированный сервер — это сервер, способный шифровать и дешифровать данные в базе данных сервера отчетов. Инициализация является необходимым условием функционирования сервера отчетов. Инициализация происходит, когда служба сервера отчетов запускается впервые. Она также происходит, когда сервер отчетов соединяется с уже развернутой системой или когда вручную повторно создаются ключи как часть процесса восстановления. Дополнительные сведения о том, как и почему использовать ключи шифрования, см. в разделах [Настройка ключей шифрования и управление ими (диспетчер конфигурации сервера отчетов)](../../reporting-services/install-windows/ssrs-encryption-keys-manage-encryption-keys.md) и [Хранение зашифрованных данных сервера отчетов (диспетчер конфигурации сервера отчетов)](../../reporting-services/install-windows/ssrs-encryption-keys-store-encrypted-report-server-data.md).  
  
 Ключи шифрования частично основываются на данных профиля в службе сервера отчетов. Если изменяется удостоверение пользователя, которое применяется для запуска службы сервера отчетов, необходимо соответствующим образом обновить ключи. Если используется программа настройки служб Reporting Services для изменения удостоверения пользователя, этот шаг выполняется автоматически.  
  
 Если инициализация по какой-либо причине прошла неудачно, сервер отчетов возвращает ошибку **RSReportServerNotActivated** в ответ на запросы пользователя и службы. В такой ситуации, вероятно, потребуется произвести диагностику и устранение неисправностей в системе или конфигурации сервера. Дополнительные сведения см. в вики-статье Technet [SSRS. Устранение неполадок со службами Reporting Services](https://social.technet.microsoft.com/wiki/contents/articles/1633.aspx) (https://social.technet.microsoft.com/wiki/contents/articles/1633.aspx).  
  
## <a name="overview-of-the-initialization-process"></a>Общие сведения о процессе инициализации  
 Процесс инициализации создает и хранит симметричный ключ, используемый для шифрования. Симметричный ключ создается службами криптографии [!INCLUDE[msCoName](../../includes/msconame-md.md)] Windows и впоследствии используется службой сервера отчетов для шифрования и дешифрования данных. Сам симметричный ключ зашифрован при помощи асимметричного ключа.  
  
 Ниже описаны этапы инициализации.  
  
1.  При первоначальном запуске служба сервера отчетов считывает файл конфигурации RSReportServer.config, чтобы получить идентификатор установки и сведения для подключения к базе данных.  
  
2.  Служба сервера отчетов запрашивает открытый ключ у служб криптографии. Windows создает секретный и открытый ключ и отсылает открытый ключ службе сервера отчетов.  
  
3.  Служба сервера отчетов соединяется с базой данных сервера отчетов и сохраняет значения идентификатора установки и открытого ключа.  
  
4.  Служба сервера отчетов снова вызывает службы криптографии, на этот раз запрашивая симметричный ключ. Windows создает симметричный ключ.  
  
5.  Служба сервера отчетов соединяется с базой данных сервера отчетов и добавляет симметричный ключ к открытому ключу и значениям идентификатора установки, которые были сохранены на шаге 3. Перед сохранением служба сервера отчетов использует открытый ключ для шифрования симметричного ключа. С момента сохранения симметричного ключа сервер отчетов считается инициализированным и доступным для использования.  
  
## <a name="initializing-a-report-server-for-scale-out-deployment"></a>Инициализация сервера отчетов для масштабного развертывания  
 [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] поддерживает модель масштабного развертывания, которая опирается на совместное использование одной базы данных сервера отчетов несколькими экземплярами сервера отчетов. Чтобы присоединиться к масштабному развертыванию, сервер отчетов должен создать и сохранить свою копию симметричного ключа в общей базе данных. Хотя все серверы, использующие эту базу данных, пользуются единственным симметричным ключом, каждый сервер отчетов имеет собственную копию этого ключа. Каждая копия отличается от других тем, что она уникальным образом зашифрована при помощи открытого ключа, которым она владеет.  
  
 Первая группа этапов инициализации сервера отчетов для масштабного развертывания идентична первым трем этапам инициализации сочетания одиночного сервера и базы данных.  
  
 Процесс инициализации для масштабного развертывания отличается тем, как сервер отчетов получает симметричный ключ. Когда первый сервер проходит инициализацию, он получает симметричный ключ от Windows. Когда второй сервер проходит инициализацию в процессе настройки масштабного развертывания, он получает симметричный ключ от службы сервера отчетов, которая уже инициализирована. Первый экземпляр сервера отчетов использует открытый ключ второго экземпляра, чтобы создать зашифрованную копию симметричного ключа для второго экземпляра сервера отчетов. Симметричный ключ не отображается как простой текст ни на одном этапе этого процесса.  
  
## <a name="how-to-initialize-a-report-server"></a>Как инициализировать сервер отчетов  
  
-   Чтобы инициализировать сервер отчетов, используйте программу настройки служб Reporting Services. Инициализация происходит автоматически, когда создается и настраивается база данных сервера отчетов. Дополнительные сведения см. в разделе [Настройка соединения с базой данных сервера отчетов (диспетчер конфигурации сервера отчетов)](../../reporting-services/install-windows/configure-a-report-server-database-connection-ssrs-configuration-manager.md).  
  
-   Чтобы инициализировать сервер отчетов для масштабного развертывания, можно использовать страницу "Инициализация" в программе настройки служб Reporting Services или программу **RSKeymgmt** . Дополнительные сведения и пошаговые инструкции см. в разделе [Настройка развертывания с горизонтальным увеличением масштаба сервера отчетов в собственном режиме (диспетчер конфигурации сервера отчетов)](../../reporting-services/install-windows/configure-a-native-mode-report-server-scale-out-deployment.md).  
  
> [!NOTE]  
>  **RSKeymgmt** — это консольное приложение, запускаемое из командной строки компьютера, на котором установлен экземпляр сервера отчетов, уже являющийся частью масштабного развертывания. При запуске этой программы указываются аргументы для выбора удаленного экземпляра сервера отчетов, который необходимо инициализировать.  
  
 Сервер отчетов будет инициализирован только в случае соответствия идентификатора установки и открытого ключа. Если соответствие установлено, создается симметричный ключ, позволяющий производить обратимое шифрование. Если соответствие не установлено, сервер отчетов отключается, и в этом случае, вероятно, придется применить резервную копию ключа либо удалить зашифрованные данные, если резервная копия ключа недоступна или недействительна. Дополнительные сведения о ключах шифрования, используемых сервером отчетов, см. в разделе [Настройка ключей шифрования и управление ими (диспетчер конфигурации сервера отчетов)](../../reporting-services/install-windows/ssrs-encryption-keys-manage-encryption-keys.md).  
  
> [!NOTE]  
>  Можно также воспользоваться поставщиком инструментария управления Windows (WMI) для служб [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] , чтобы программными средствами инициализировать сервер отчетов. Дополнительные сведения см. в разделе [Доступ к поставщику WMI для служб Reporting Services](../../reporting-services/tools/access-the-reporting-services-wmi-provider.md).  
  
## <a name="how-to-confirm-a-report-server-initialization"></a>Как подтвердить инициализацию сервера отчетов  
 Для подтверждения инициализации сервера отчетов обратитесь к веб-службе сервера отчетов, введя в командной строке **https://\<servername>/reportserver**. Если получена ошибка **RSReportServerNotActivated** , инициализация прошла неудачно.  
  
## <a name="see-also"></a>См. также:
[Настройка ключей шифрования и управление ими (диспетчер конфигурации сервера отчетов)](../../reporting-services/install-windows/ssrs-encryption-keys-manage-encryption-keys.md)
  
  
