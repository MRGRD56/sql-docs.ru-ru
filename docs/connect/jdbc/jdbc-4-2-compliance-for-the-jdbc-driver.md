---
description: Сведения о соответствии JDBC Driver для SQL Server спецификации JDBC 4.2.
title: Соответствие JDBC 4.2 для JDBC Driver
ms.custom: ''
ms.date: 08/12/2019
ms.prod: sql
ms.prod_service: connectivity
ms.reviewer: ''
ms.technology: connectivity
ms.topic: conceptual
ms.assetid: 36025ec0-3c72-4e68-8083-58b38e42d03b
author: David-Engel
ms.author: v-daenge
ms.openlocfilehash: 5718edd8fe92cdb5e6543840aed54b647c5970b4
ms.sourcegitcommit: 524a0f0cc9533188f4b14d2e78ba1cfe816b3b9a
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/27/2021
ms.locfileid: "105633178"
---
# <a name="jdbc-42-compliance-for-the-jdbc-driver"></a>Соответствие JDBC 4.2 для JDBC Driver

[!INCLUDE[Driver_JDBC_Download](../../includes/driver_jdbc_download.md)]

> [!NOTE]
> Версии Microsoft JDBC Driver для SQL Server до 4.2 соответствуют спецификациям Java Database Connectivity API 4.0. Этот раздел не применяется к версиям до 4.2.

Спецификация Java Database Connectivity API 4.2 поддерживается драйвером Microsoft JDBC Driver 4.2 для SQL Server со следующими методами API.

## <a name="sqlserverstatement-class"></a>SQLServerStatement, класс

|Новые методы|Описание|Значимые реализации|
|-----------------|-----------------|-------------------------------|
|long[] executeLargeBatch()|Выполняет пакет, где количество возвращаемых обновлений может быть типа long.|Реализовано, как описано в интерфейсе java.sql.Statement. Дополнительные сведения см. на странице о [java.sql.Statement](https://docs.oracle.com/javase/8/docs/api/java/sql/Statement.html#executeLargeBatch--).|
|long executeLargeUpdate(String sql)<br /><br /> long executeLargeUpdate(String sql, int autoGeneratedKeys)<br /><br /> long executeLargeUpdate(String sql, int[] columnIndexes)<br /><br /> executeLargeUpdate(String sql, String[] columnNames)|Выполняет инструкцию DML/DDL, где количество возвращаемых обновлений может быть типа long. Существует четыре новых метода (перегруженных) для поддержки значения типа long.|Реализовано, как описано в интерфейсе java.sql.Statement. Дополнительные сведения см. на странице о [java.sql.Statement](https://docs.oracle.com/javase/8/docs/api/java/sql/Statement.html#executeLargeBatch--).|
|long getLargeMaxRows()|Возвращает максимальное число строк как значение типа long, которое может содержать результирующий набор.|SQL Server поддерживает только целочисленные пределы для максимального числа строк. Дополнительные сведения см. на странице о [java.sql.Statement](https://docs.oracle.com/javase/8/docs/api/java/sql/Statement.html#executeLargeBatch--).|
|long getLargeUpdateCount()|Возвращает текущий результат в виде счетчика обновлений типа long.|SQL Server поддерживает только целочисленные пределы для максимального числа строк. Дополнительные сведения см. на странице о [java.sql.Statement](https://docs.oracle.com/javase/8/docs/api/java/sql/Statement.html#executeLargeBatch--).|
|void setLargeMaxRows(long max)|Задает максимальное число строк как значение типа long, которое может содержать результирующий набор.|SQL Server поддерживает только целочисленные пределы для максимального числа строк. Этот метод вызывает неподдерживаемое исключение, если в качестве параметра передается значение, большее максимального целого числа. Дополнительные сведения см. на странице о [java.sql.Statement](https://docs.oracle.com/javase/8/docs/api/java/sql/Statement.html#executeLargeBatch--).|

## <a name="sqlservercallablestatement-class"></a>SQLServerCallableStatement, класс

|Новые методы|Описание|Значимые реализации|
|-----------------|-----------------|-------------------------------|
|void registerOutParameter(int parameterIndex, SQLType sqlType)<br /><br /> void registerOutParameter(int parameterIndex, SQLType sqlType, int scale)<br /><br /> void registerOutParameter(int parameterIndex, SQLType sqlType, String typeName)<br /><br /> void registerOutParameter(String parameterName, SQLType sqlType)<br /><br /> void registerOutParameter(String parameterName, SQLType sqlType, int scale)<br /><br /> registerOutParameter(String parameterName, SQLType sqlType, String typeName)|Регистрирует параметр OUT. Существует шесть новых методов (перегруженных) для поддержки нового интерфейса SQLType.|Реализовано, как описано в интерфейсе java.sql.CallableStatement. Дополнительные сведения см. на странице о [java.sql.CallableStatement](https://docs.oracle.com/javase/8/docs/api/java/sql/CallableStatement.html).|
|void setObject(String parameterName, Object x, SQLType targetSqlType)<br /><br /> void setObject(String parameterName, Object x, SQLType targetSqlType, int scaleOrLength)|Задает значение параметра указанного объекта. Существует два новых метода (перегруженных) для поддержки нового интерфейса SQLType.|Реализовано, как описано в интерфейсе java.sql.CallableStatement. Дополнительные сведения см. на странице о [java.sql.CallableStatement](https://docs.oracle.com/javase/8/docs/api/java/sql/CallableStatement.html).|

## <a name="sqlserverpreparedstatement-class"></a>SQLServerPreparedStatement, класс

|Новые методы|Описание|Значимые реализации|
|-----------------|-----------------|-------------------------------|
|long executeLargeUpdate()|Выполняет инструкции DML/DDL и возвращает счетчик обновлений типа long.|Реализовано, как описано в интерфейсе java.sql.PreparedStatement. Дополнительные сведения см. на странице о [java.sql.PreparedStatement](https://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html).|
|void setObject(int parameterIndex, Object x, SQLType targetSqlType)<br /><br /> void setObject(int parameterIndex, Object x, SQLType targetSqlType, int scaleOrLength)|Задает значение параметра указанного объекта. Существует два новых метода (перегруженных) для поддержки нового интерфейса SQLType.|Реализовано, как описано в интерфейсе java.sql.PreparedStatement. Дополнительные сведения см. на странице о [java.sql.PreparedStatement](https://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html).|

## <a name="sqlserverdatabasemetadata-class"></a>SQLServerDatabaseMetaData, класс

|Новые методы|Описание|Значимые реализации|
|-----------------|-----------------|-------------------------------|
|long getMaxLogicalLobSize()|Возвращает максимальное число байтов, допустимых для этой базы данных в качестве логического размера LOB.|Для SQL Server это значение равно 2^31-1. Дополнительные сведения см. на странице о [java.sql.DatabaseMetaData](https://docs.oracle.com/javase/8/docs/api/java/sql/DatabaseMetaData.html).|
|boolean supportsRefCursors()|Возвращает значение, определяющее, поддерживает ли эта база данных REF CURSOR.|Возвращает значение false, если SQL Server не поддерживает REF CURSOR. Дополнительные сведения см. на странице о [java.sql.DatabaseMetaData](https://docs.oracle.com/javase/8/docs/api/java/sql/DatabaseMetaData.html).|

## <a name="sqlserverresultset-class"></a>SQLServerResultSet, класс

|Новые методы|Описание|Значимые реализации|
|-|-|-|
||Обновляет указанный столбец значением объекта. Существует четыре новых метода (перегруженных) для поддержки нового интерфейса SQLType.|Реализовано, как описано в интерфейсе java.sql.ResultSet. Дополнительные сведения см. на странице о [java.sql.ResultSet](https://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html).|

 Спецификация Java Database Connectivity API 4.2 поддерживается драйвером Microsoft JDBC Driver 4.2 для SQL Server со следующими сопоставлениями типов данных.

|Новые сопоставления типов данных|Описание|
|-|-|
|**Новые классы в Java 8:** <br /> <br /> LocalDate/LocalTime/LocalDateTime<br /><br /> OffsetTime/OffsetDateTime<br /><br /> **Новые типы JDBC:**<br /><br /> TIME_WITH_TIMEZONE<br /><br /> TIMESTAMP_WITH_TIMEZONE<br /><br /> REF_CURSOR|REF_CURSOR не поддерживается в SQL Server. Драйвер вызывает исключение SQLFeatureNotSupportedException, если используется этот тип. Драйвер поддерживает все остальные новые сопоставления типов Java и JDBC в соответствии со спецификацией JDBC 4.2.|
