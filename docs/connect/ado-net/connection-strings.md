---
title: Строки подключения
description: Узнайте о строках подключения в поставщике данных Microsoft SqlClient для SQL Server, которые передают сведения об инициализации в качестве параметра из поставщика данных в источник данных.
ms.date: 11/13/2020
ms.assetid: 745c5f95-2f02-4674-b378-6d51a7ec2490
ms.prod: sql
ms.prod_service: connectivity
ms.technology: connectivity
ms.topic: conceptual
author: David-Engel
ms.author: v-daenge
ms.reviewer: v-chmalh
ms.openlocfilehash: e37d77304644d1adb50bb195dd32d4c4e1222c09
ms.sourcegitcommit: 192f6a99e19e66f0f817fdb1977f564b2aaa133b
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/25/2020
ms.locfileid: "96126499"
---
# <a name="connection-strings-in-adonet"></a>Строки подключения в ADO.NET

[!INCLUDE[appliesto-netfx-netcore-netst-md](../../includes/appliesto-netfx-netcore-netst-md.md)]

[!INCLUDE[Driver_ADONET_Download](../../includes/driver_adonet_download.md)]

Строка подключения содержит сведения для инициализации, передаваемые в виде параметра от поставщика данных в источник данных. Поставщик данных получает строку подключения в качестве значения свойства <xref:System.Data.Common.DbConnection.ConnectionString?displayProperty=nameWithType>. Поставщик анализирует эту строку подключения, проверяет правильность синтаксиса и поддержку ключевых слов. Затем с помощью метода <xref:System.Data.Common.DbConnection.Open?displayProperty=nameWithType> полученные параметры подключения передаются в источник данных. Источник данных выполняет дополнительную проверку и устанавливает подключение.

## <a name="connection-string-syntax"></a>Синтаксис строки подключения

Строка подключения содержит список пар "ключ-значение", разделенных точками с запятой:

```csharp
keyword1=value; keyword2=value;
```

Ключевые слова не учитывают регистр. Но значения для некоторых источников данных нужно задавать с учетом регистра. Ключевые слова и значения могут содержать [символы пробелов](https://en.wikipedia.org/wiki/Whitespace_character#Unicode). Начальные и конечные пробелы игнорируются в ключевых словах и в значениях, не заключенных в кавычки.

Если значение содержит точку с запятой, [управляющие символы Юникода](https://en.wikipedia.org/wiki/Unicode_control_characters), начальные или конечные пробелы, его необходимо заключить в одинарные или двойные кавычки. Пример:

```csharp
Keyword=" whitespace  ";
Keyword='special;character';
```

Выбранный для заключения символ не должен содержаться в значении. Таким образом, значение с одинарными кавычками можно заключать только в двойные кавычки, и наоборот:

```csharp
Keyword='double"quotation;mark';
Keyword="single'quotation;mark";
```

Также можно экранировать этот символ, заменив его парой таких символов:

```csharp
Keyword="double""quotation";
Keyword='single''quotation';
```

Сами кавычки, а также знак равенства, экранировать не нужно, то есть следующие строки подключения являются допустимыми:

```csharp
Keyword=no "escaping" 'required';
Keyword=a=b=c
```

Так как каждое значение считывается, пока не будет найдена очередная точка с запятой или достигнут конец строки, в последнем примере передается значение `a=b=c`. Конечную точку с запятой указывать не обязательно.

Все строки подключения используют один и тот же базовый синтаксис, описанный выше. Набор распознаваемых ключевых слов зависит от поставщика. *Поставщик данных Microsoft SqlClient* для *SQL Server* поддерживает много ключевых слов из старых API-интерфейсов, но в целом он более гибкий и принимает в строке подключения синонимы для многих распространенных ключевых слов.

Опечатки могут привести к ошибкам при подключении. Например, `Integrated Security=true` считается допустимым, а `IntegratedSecurity=true` вызовет ошибку.

Строки соединения, создаваемые вручную во время выполнения по данным из непроверенных источников, вызывают уязвимость к атакам путем внедрения данных в строку и подвергают риску безопасность источника данных. Чтобы устранить эти проблемы, разработан [построитель строк подключения](connection-string-builders.md). Построитель строк подключения предоставляет параметры в виде строго типизированных свойств и позволяет проверить строку подключения перед отправкой в источник данных.

## <a name="in-this-section"></a>в этом разделе

[Построитель строк подключения](connection-string-builders.md)\
Здесь демонстрируется использование класса `ConnectionStringBuilder` для создания допустимых строк подключения во время выполнения.

[Строки подключения и файлы конфигурации](connection-strings-and-configuration-files.md)\
Демонстрирует хранение и получение строк соединения в файлах конфигурации.

[Синтаксис строки подключения](connection-string-syntax.md)\
Здесь объясняется, как настроить строки подключения к конкретному поставщику для `SqlClient`.

[Защита сведений о подключении](protecting-connection-information.md)\
Демонстрирует методы защиты сведений, используемых для подключения к источнику данных.
