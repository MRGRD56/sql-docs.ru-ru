---
description: Операторы
title: Операторы
ms.custom: seo-lt-2019
ms.date: 01/19/2017
ms.prod: sql
ms.prod_service: sql-tools
ms.technology: ssms
ms.topic: conceptual
helpviewer_keywords:
- operators (users) [Database Engine]
- fail-safe operator [SQL Server]
- aliases [SQL Server], operators
- SQL Server Agent alerts, operators
- contact information [SQL Server Agent]
- net send [SQL Server]
- e-mail [SQL Server], SQL Server Agent operators
- pager notifications [SQL Server Agent]
- mail [SQL Server], SQL Server Agent operators
- operators (users) [Database Engine], defining
- jobs [SQL Server Agent], operators
- alerts [SQL Server], operators
ms.assetid: 38e8488f-2669-4cea-b9c3-5f394a663678
author: markingmyname
ms.author: maghan
ms.reviewer: ''
monikerRange: = azuresqldb-mi-current || >= sql-server-2016
ms.openlocfilehash: 770f6c82bfdafb20d826ae11b52ada0a0b1a5702
ms.sourcegitcommit: 1a544cf4dd2720b124c3697d1e62ae7741db757c
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/14/2020
ms.locfileid: "97478865"
---
# <a name="operators"></a>Операторы
[!INCLUDE [SQL Server SQL MI](../../includes/applies-to-version/sql-asdbmi.md)]

> [!IMPORTANT]  
> В [Управляемом экземпляре Azure SQL](/azure/sql-database/sql-database-managed-instance) в настоящее время поддерживается большинство функций агента SQL Server (но не все). Подробные сведения см. в статье [Различия в T-SQL между Управляемым экземпляром SQL Azure и SQL Server](/azure/sql-database/sql-database-managed-instance-transact-sql-information#sql-server-agent).

Операторы — это псевдонимы людей или групп, которые могут получать электронные уведомления о завершении заданий или предупреждения. Служба агента [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] обеспечивает уведомление администраторов через операторов. Операторы включают уведомления и мониторинг возможностей агента [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .  
  
## <a name="operator-attributes-and-concepts"></a>Атрибуты и основные понятия, касающиеся операторов  
Главные атрибуты оператора:  
  
-   имя оператора;  
  
-   Контактные данные  
  
### <a name="naming-an-operator"></a>Присвоение имени оператору  
Каждый оператор должен иметь имя. Имена операторов должны быть уникальны в пределах экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] и не могут иметь длину более **128** символов.  
  
### <a name="contact-information"></a>контактная информация.  
Контактная информация оператора определяет способ уведомления оператора. Операторы могут получать уведомления по электронной почте, по пейджинговой связи или с помощью команды **net send** .  
  
> [!IMPORTANT]
> Режимы отправки уведомлений с помощью пейджера и команды **net send** будут удалены из агента [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] в следующей версии [!INCLUDE[msCoName](../../includes/msconame_md.md)][!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Старайтесь не использовать эти функции в новых разработках и предусмотрите соответствующие изменения в приложениях, которые используют их в настоящее время.  
  
-   **Уведомление по электронной почте.**  
  
    Средства уведомления по электронной почте направляют оператору почтовое сообщение. Для уведомлений по электронной почте необходимо предоставить адрес электронной почты оператора.  
  
-   **Уведомление по пейджеру**  
  
    Пейджинговая связь осуществляется по каналам электронной почты. Для уведомления по пейджинговой связи необходимо предоставить адрес электронной почты, по которому оператор будет получать пейджинговые сообщения. Для организации уведомлений по пейджинговой связи необходимо установить на почтовом сервере программные средства, которые будут обрабатывать входящую почту и преобразовывать ее в пейджинговые сообщения. Программные средства могут передавать сообщения одним из способов, перечисленных ниже.  
  
    -   Переадресуя почту на удаленный почтовый сервер на веб-сайте оператора пейджинговой связи.  
  
        Эту услугу должен оказывать оператор пейджинговой связи, хотя необходимые программные средства обычно входят в состав локальной почтовой системы. Дополнительные сведения см. в документации по пейджерам.  
  
    -   Направляя электронную почту по каналам Интернета на почтовый сервер веб-сайта оператора пейджинговой связи.  
  
        Данный метод — одна из разновидностей первого метода.  
  
    -   Обрабатывая входящую электронную почту и связываясь с пейджером по коммутируемым линиям связи с помощью присоединенного модема.  
  
        Эти программные средства разрабатываются поставщиками услуг пейджинговой связи. Эти программы выступают в качестве клиентов электронной почты, которые периодически обрабатывают содержимое своих папок входящих сообщений, либо интерпретируя все или часть сведений, содержащихся в почтовых адресах как номера пейджеров, либо определяя соответствие адреса электронной почты тому или иному номеру пейджера с помощью таблиц преобразования.  
  
        Если все операторы обслуживаются одним оператором услуг пейджинговой связи, можно с помощью среды [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] указывать все особые элементы форматирования электронной почты, необходимые для функционирования системы преобразования пейджинговых сообщений в сообщения электронной почты. Этими особыми элементами форматирования могут быть префиксы или суффиксы, которые могут быть включены в следующие строки сообщения электронной почты:  
  
        **Subject**:  
  
        **Копия**:  
  
        **Кому**.  
  
    > [!NOTE]  
    > Пользователи маломощных буквенно-цифровых пейджинговых систем могут сократить объем пересылаемых текстов за счет исключения из пейджинговых уведомлений текстов об ошибках. Примером маломощной буквенно-цифровой пейджинговой системы может служить система, ограниченная 64 символами на страницу.  
  
-   **net sendnotification**  
  
    Так сообщение передается оператору с помощью команды **net send** . Чтобы передать сообщение средствами **net send**, нужно указать получателя (компьютер или пользователя) сетевого сообщения.  
  
    > [!NOTE]  
    > Команда **net send** использует средства Microsoft Windows Messenger. Для успешной передачи предупреждений требуется, чтобы эта служба была запущена как на компьютере, на котором выполняется [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , так и на компьютере, используемом оператором.  
  
## <a name="alerting-and-fail-safe-operators"></a>Предупреждающие и резервные операторы  
Можно выбрать, какие операторы должны получать уведомления при появлении предупреждения. Например, запланировав предупреждения, можно распределить ответственность при уведомлении операторов. Например, оператор А получает уведомления о предупреждениях, появляющихся в понедельник, среду или пятницу, а оператор Б получает уведомления о предупреждениях, появляющихся во вторник, четверг или субботу.  
  
Резервный оператор получает все предупреждения после того, как все пейджинговые уведомления нужным операторам не возымели действия. К примеру, если было определено три оператора для уведомления по пейджинговой связи и ни один из этих операторов недоступен, уведомление направляется резервному оператору.  
  
Резервный оператор уведомляется в следующих случаях.  
  
-   Если операторы, которые должны получать данное предупреждение, недоступны.  
  
    В числе причин, препятствующих доставке предупреждений основным операторам, — неверно указанные адреса пейджеров и то обстоятельство, что операторы находятся не при исполнении служебных обязанностей или не включены.  
  
-   [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Если агент не может обратиться к системным таблицам в базе данных **msdb** .  
  
    Обязанности операторов, связанные с получением предупреждений, указаны в системной таблице **sysnotifications** .  
  
Резервный оператор является функцией защиты. Невозможно ни удаление оператора, назначенного для выполнения резервной функции (если только эта функция не переназначена другому оператору), ни удаление самой функции резервного оператора.  
  
## <a name="notifying-an-operator"></a>Уведомление оператора  
Для уведомления оператора необходимо выполнить одно или несколько следующих требований.  
  
-   Чтобы направить сообщение электронной почты с функциями компонента Database Mail, необходимо иметь доступ к почтовому серверу, поддерживающему SMTP.  
  
-   Для передачи пейджинговых сообщений необходимо иметь программные или аппаратные средства от независимых операторов для преобразования пейджинговых сообщений в сообщения электронной почты.  
  
-   Для выполнения команды **net send** оператор должен быть зарегистрирован на указанном компьютере, а указанный компьютер должен принимать сообщения от Windows Messenger.  
  
## <a name="related-tasks"></a>Связанные задачи  
  
|Задания|Раздел|  
|-|-|  
|Задачи, связанные с созданием оператора|[Создание оператора](../../ssms/agent/create-an-operator.md)<br /><br />[Designate a Fail-Safe Operator](../../ssms/agent/designate-a-fail-safe-operator.md)|  
|Задачи, связанные с назначением предупреждений|[Назначение предупреждений оператору](../../ssms/agent/assign-alerts-to-an-operator.md)<br /><br />[Определение реакция на предупреждение (среда SQL Server Management Studio)](../../ssms/agent/define-the-response-to-an-alert-sql-server-management-studio.md)<br /><br />[sp_add_notification (Transact-SQL)](../../relational-databases/system-stored-procedures/sp-add-notification-transact-sql.md)<br /><br />[Назначение предупреждений оператору](../../ssms/agent/assign-alerts-to-an-operator.md)|  
  
## <a name="see-also"></a>См. также:  
[Database Mail](../../relational-databases/database-mail/database-mail.md)  
