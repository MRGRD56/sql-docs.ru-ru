---
description: Согласование изменений, внесенных несколькими пользователями (визуальные инструменты для баз данных)
title: Согласование изменений, выполненных несколькими пользователями
ms.custom: seo-lt-2019
ms.date: 01/19/2017
ms.prod: sql
ms.prod_service: sql-tools
ms.technology: ssms
ms.topic: conceptual
helpviewer_keywords:
- table modifications [SQL Server], multiple users
- reconciling changes made by multiple users
- modifications made by multiple users
ms.assetid: fc7ed4f2-ad3d-47fc-a3ef-51e5bb069ef0
author: markingmyname
ms.author: maghan
ms.reviewer: ''
ms.openlocfilehash: 86f821f9eee88e905f930e0ca0076e875ece438d
ms.sourcegitcommit: e700497f962e4c2274df16d9e651059b42ff1a10
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/17/2020
ms.locfileid: "88491653"
---
# <a name="reconcile-changes-made-by-multiple-users-visual-database-tools"></a>Согласование изменений, внесенных несколькими пользователями (визуальные инструменты для баз данных)
[!INCLUDE[SQL Server Azure SQL Database Synapse Analytics PDW ](../../includes/applies-to-version/sql-asdb-asdbmi-asa-pdw.md)]
В многопользовательской среде изменение одного и того же объекта могут выполнять одновременно несколько пользователей. Это происходит при работе над структурой объекта в конструкторе таблиц или конструкторе диаграмм баз данных либо при изменении значений, когда они возвращаются в панели результатов конструктора запросов и представлений. Это может приводить к конфликтам, которые придется разрешать.  
  
## <a name="conflicts-in-the-table-or-database-diagram-designers"></a>Конфликты в конструкторе таблиц или диаграмм баз данных  
Например, когда один пользователь работает с таблицей в конструкторе таблиц, другой пользователь может попытаться удалить или переименовать данную или связанную с ней таблицу. При попытке сохранить таблицу [Диалоговое окно "Обнаружены изменения базы данных" (визуальные инструменты для баз данных)](../../ssms/visual-db-tools/database-changes-detected-dialog-box-visual-database-tools.md) сообщит, что с момента открытия этой таблицы база данных была обновлена.  
  
Кроме того, в этом диалоговом окне выводится список объектов базы данных, на которые повлияет сохранение этой таблицы. Можно выполнить одно из следующих действий.  
  
-   Нажмите кнопку **Да** — таблица будет сохранена, а в базу данных будут записаны новые значения, указанные в списке.  
  
    Это действие может повлиять на таблицы, совместно использующие одни и те же объекты базы данных. Например, предположим, что изменяется столбец `au_id` в таблице `titleauthors`, а в это время другой пользователь работает в таблице `authors`, связанной с таблицей `titleauthors` столбцом `au_id`. Сохранение одной таблицы повлияет на другую. Точно так же, допустим, что другой пользователь задал проверочное ограничение для столбца `qty` в таблице `sales` . Удаление столбца `qty` и сохранение таблицы `sales` коснется проверочного ограничения другого пользователя.  
  
-   Нажмите кнопку **Нет** — сохранение будет отменено.  
  
    После этого можно закрыть таблицу без сохранения. При ее повторном открытии она будет соответствовать таблице в базе данных.  
  
-   Выберите команду **Сохранить текстовый файл** — будет сохранен список изменений.  
  
    Список изменений, показанный в диалоговом окне **Обнаружены изменения базы данных** , можно сохранить в текстовый файл, чтобы затем проанализировать причину изменений, внесенных другим пользователем. Например, если другой пользователь изменил таблицу, которая помечена к удалению, то можно проанализировать, следует ли удалять эту таблицу перед обновлением базы данных.  
  
## <a name="conflicts-in-the-query-and-view-designer"></a>Конфликты в конструкторе запросов и представлений  
При запуске запроса или возврате результатов представления данные отображаются в [панели результатов](../../ssms/visual-db-tools/results-pane-visual-database-tools.md). С одним набором данных могут одновременно работать несколько пользователей, что может вызвать конфликты.  
  
Например, допустим, что сотрудники по отдельности выполняют запрос, выводящий все данные в таблице `titleauthors` . Сотрудник изменяет имя, которое возвращает первая запись, с Barb на Barbara. В этот момент запись содержит имя Barbara, в то время как результирующий набор другого сотрудника содержит запись Barb. Вводите «Barbara» и сохраняете строку. Появляется сообщение с вопросом, как разрешить конфликт.  
  
-   Нажмите кнопку **Да** — база данных будет обновлена, в нее будут записаны внесенные изменения.  
  
    Они переопределят изменения, внесенные сотрудником.  
  
-   Нажмите кнопку **Нет** — результирующий набор обновится текущими значениями базы данных.  
  
    Значения, внесенные одним сотрудником, переопределят изменения, внесенные другим.  
  
-   Нажмите кнопку **Отмена** , чтобы продолжить редактирование без разрешения конфликта.  
  
    В этом случае невозможно зафиксировать изменения.  
  
## <a name="see-also"></a>См. также:  
[Диалоговое окно "Обнаружены изменения базы данных" (визуальные инструменты для баз данных)](../../ssms/visual-db-tools/database-changes-detected-dialog-box-visual-database-tools.md)  
  
