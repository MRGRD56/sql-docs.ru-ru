---
description: Использование RDS с регулированием количества запросов подключений ODBC
title: Использование RDS с пулами соединений ODBC | Документация Майкрософт
ms.prod: sql
ms.prod_service: connectivity
ms.technology: ado
ms.custom: ''
ms.date: 11/09/2018
ms.reviewer: ''
ms.topic: conceptual
helpviewer_keywords:
- connection pooling in RDS [ADO]
ms.assetid: e8b912c1-da5b-4e85-a000-1e6648a94237
author: rothja
ms.author: jroth
ms.openlocfilehash: 5c353d7e0038f40eea574b895f2cd55ea3f47585
ms.sourcegitcommit: 917df4ffd22e4a229af7dc481dcce3ebba0aa4d7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/10/2021
ms.locfileid: "100032596"
---
# <a name="using-rds-with-odbc-connection-pooling"></a>Использование RDS с регулированием количества запросов подключений ODBC
Если вы используете источник данных ODBC, можно использовать параметр пула соединений в службы IIS (IIS) для достижения высокой производительности при нагрузке на клиент. Пул подключений — это диспетчер ресурсов для подключений, который сохраняет открытое состояние на часто используемых соединениях.  
  
> [!IMPORTANT]
>  Начиная с Windows 8 и Windows Server 2012, компоненты RDS больше не включены в операционную систему Windows (Дополнительные сведения см. в статье о совместимости Windows 8 и [Windows server 2012 Cookbook](https://www.microsoft.com/download/details.aspx?id=27416) ). Клиентские компоненты RDS будут удалены в следующей версии Windows. Избегайте использования этого компонента в новых разработках и запланируйте изменение существующих приложений, в которых он применяется. Приложения, использующие RDS, должны переноситься в [службу данных WCF](/dotnet/framework/wcf/).  
  
 Сведения о включении пула соединений см. в документации по службы IIS.  
  
 Обратите внимание, что включение пулов соединений может привести к перечислению веб-сервера на другие ограничения, как указано в документации по Microsoft службы IIS.  
  
 Чтобы обеспечить стабильную работу пулов соединений и повысить производительность, необходимо настроить Microsoft SQL Server для использования сетевой библиотеки сокета TCP/IP.  
  
 Для этого необходимо выполнить следующие действия.  
  
-   Настройте SQL Server компьютере для использования сокетов TCP/IP.  
  
-   Настройте веб-сервер для использования сокетов TCP/IP.  
  
## <a name="configuring-the-sql-server-computer-to-use-tcpip-sockets"></a>Настройка компьютера SQL Server для использования сокетов TCP/IP  
 На SQL Server компьютере запустите программу установки SQL Server, чтобы взаимодействие с источником данных использовало сетевую библиотеку сокета TCP/IP.  
  
### <a name="to-specify-the-tcpip-socket-network-library-on-the-sql-server-computer"></a>Указание сетевой библиотеки сокета TCP/IP на SQL Server компьютере  
  
### <a name="in-microsoft-sql-server-65"></a>В Microsoft SQL Server 6,5:  
  
1.  В меню Пуск последовательно выберите пункты программы, Microsoft SQL Server 6,5, а затем выберите пункт Установка SQL.  
  
2.  Дважды нажмите кнопку продолжить.  
  
3.  В диалоговом окне Параметры Microsoft SQL Server выберите Изменить сетевую поддержку и нажмите кнопку продолжить.  
  
4.  Убедитесь, что установлен флажок сокеты TCP/IP, и нажмите кнопку ОК.  
  
5.  Нажмите кнопку продолжить, чтобы завершить работу и выйти из программы установки.  
  
### <a name="in-microsoft-sql-server-70"></a>В Microsoft SQL Server 7,0:  
  
1.  В меню Пуск последовательно выберите пункты программы, Microsoft SQL Server 7,0, а затем — служебная программа сети.  
  
2.  На вкладке Общие диалогового окна нажмите кнопку Добавить.  
  
3.  В диалоговом окне Добавление конфигурации сетевой библиотеки щелкните TCP/IP.  
  
4.  В полях номер порта и адрес прокси-сервера введите номер порта и адрес прокси-сервера, предоставленные администратором сети.  
  
5.  Нажмите кнопку ОК, чтобы завершить работу и выйти из программы установки.  
  
## <a name="configuring-the-web-server-to-use-tcpip-sockets"></a>Настройка веб-сервера для использования сокетов TCP/IP  
 Существует два варианта настройки веб-сервера для использования сокетов TCP/IP. То, что вы выполняете, зависит от того, доступны ли все серверы SQL Server с веб-сервера или доступ к конкретному SQL Server осуществляется с веб-сервера.  
  
 Если доступ к всем серверам SQL Server осуществляется с веб-сервера, необходимо запустить служебную программу настройки клиента SQL Server на компьютере веб-сервера. Следующие шаги изменяют сетевую библиотеку по умолчанию для всех SQL Server соединений с веб-сервером IIS, чтобы использовать сетевую библиотеку сокетов TCP/IP.  
  
### <a name="to-configure-the-web-server-all-sql-servers"></a>Настройка веб-сервера (все серверы SQL Server)  
  
### <a name="for-microsoft-sql-server-65"></a>Для Microsoft SQL Server 6,5:  
  
1.  В меню Пуск последовательно выберите пункты программы, Microsoft SQL Server 6,5, а затем щелкните служебная программа настройки клиента SQL.  
  
2.  Перейдите на вкладку NET Library (сетевая библиотека).  
  
3.  В поле сеть по умолчанию выберите сокеты TCP/IP.  
  
4.  Нажмите кнопку Готово, чтобы сохранить изменения и выйти из программы.  
  
### <a name="for-microsoft-sql-server-70"></a>Для Microsoft SQL Server 7,0:  
  
1.  В меню Пуск наведите указатель на пункт программы, выберите Microsoft SQL Server 7,0, а затем — программа клиентская сеть.  
  
2.  Перейдите на вкладку "Общее".  
  
3.  В поле Сетевая библиотека по умолчанию выберите TCP/IP.  
  
4.  Нажмите кнопку ОК, чтобы сохранить изменения и выйти из программы.  
  
 Если к конкретному SQL Serverу осуществляется доступ с веб-сервера, необходимо запустить служебную программу настройки клиента SQL Server на компьютере веб-сервера. Чтобы изменить сетевую библиотеку для конкретного подключения SQL Server, настройте клиентское программное обеспечение SQL Server на компьютере веб-сервера следующим образом.  
  
### <a name="to-configure-the-web-server-a-specific-sql-server"></a>Настройка веб-сервера (определенного SQL Server)  
  
### <a name="for-microsoft-sql-server-65"></a>Для Microsoft SQL Server 6,5:  
  
1.  В меню Пуск последовательно выберите пункты программы, Microsoft SQL Server 6,5, а затем щелкните служебная программа настройки клиента SQL.  
  
2.  Перейдите на вкладку Дополнительно.  
  
3.  В поле сервер введите имя сервера для подключения с помощью сокетов TCP/IP.  
  
4.  В поле имя библиотеки DLL выберите сокеты TCP/IP.  
  
5.  Нажмите кнопку Добавить/изменить. Все источники данных, указывающие на этот сервер, теперь будут использовать сокеты TCP/IP.  
  
6.  Нажмите кнопку Done (Готово).  
  
### <a name="for-microsoft-sql-server-70"></a>Для Microsoft SQL Server 7,0:  
  
1.  В меню Пуск последовательно выберите пункты программы, Microsoft SQL Server 7,0, а затем щелкните служебная программа настройки клиента.  
  
2.  Перейдите на вкладку "Общее".  
  
3.  Нажмите кнопку "Добавить".  
  
4.  Введите псевдоним сервера в поле псевдоним сервера. В поле Сетевые библиотеки выберите TCP/IP. В поле имя компьютера введите имя компьютера, который прослушивает клиенты сокетов TCP/IP. В поле номер порта введите порт, на котором SQL Server прослушивается.  
  
5.  Нажмите кнопку ОК, а затем ОК еще раз, чтобы выйти из программы.  
  
## <a name="see-also"></a>См. также:  
 [Основные принципы RDS](./rds-fundamentals.md)