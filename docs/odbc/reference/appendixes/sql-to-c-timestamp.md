---
description: 'Преобразование данных из SQL в C: отметки времени'
title: 'С SQL на C: timestamp | Документация Майкрософт'
ms.custom: ''
ms.date: 01/19/2019
ms.prod: sql
ms.prod_service: connectivity
ms.reviewer: ''
ms.technology: connectivity
ms.topic: reference
helpviewer_keywords:
- timestamp data type [ODBC]
- converting data from SQL to C types [ODBC], timestamp
- data conversions from SQL to C types [ODBC], timestamp
ms.assetid: 6a0617cf-d8c0-4316-8bb4-e6ddb45d7bf1
author: David-Engel
ms.author: v-daenge
ms.openlocfilehash: 1d7881ad4ef9280ab9f2e7ac0d941ae2228b21b9
ms.sourcegitcommit: 33f0f190f962059826e002be165a2bef4f9e350c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/30/2021
ms.locfileid: "99203002"
---
# <a name="sql-to-c-timestamp"></a>Преобразование данных из SQL в C: отметки времени

Идентификатор для типа данных ODBC SQL для отметки времени имеет следующий вид:

- SQL_TYPE_TIMESTAMP  

В следующей таблице показаны типы данных ODBC C, к которым могут быть преобразованы данные отметок времени SQL. Описание столбцов и терминов в таблице см. в разделе [Преобразование данных из SQL в типы данных C](../../../odbc/reference/appendixes/converting-data-from-sql-to-c-data-types.md).  

|Идентификатор типа C|Тест|**таржетвалуептр*|**StrLen_or_IndPtr*|SQLSTATE|  
|-----------------------|----------|------------------------|----------------------------|--------------|  
|SQL_C_CHAR|*BufferLength* длина байта > символов<br /><br /> 20 <= *BufferLength* <= Длина байтового символа<br /><br /> *BufferLength* < 20|Данные<br /><br /> Усеченные данные [b]<br /><br /> Не определено.|Длина данных в байтах<br /><br /> Длина данных в байтах<br /><br /> Не определено.|н/д<br /><br /> 01004<br /><br /> 22003|  
|SQL_C_WCHAR|Длина *BufferLength* > символов<br /><br /> 20 <= *BufferLength* <= длина символа<br /><br /> *BufferLength* < 20|Данные<br /><br /> Усеченные данные [b]<br /><br /> Не определено.|Длина данных в символах<br /><br /> Длина данных в символах<br /><br /> Не определено.|н/д<br /><br /> 01004<br /><br /> 22003|  
|SQL_C_BINARY|Длина данных в байтах <= *BufferLength*<br /><br /> Длина байта данных > *BufferLength*|Данные<br /><br /> Не определено.|Длина данных в байтах<br /><br /> Не определено.|н/д<br /><br /> 22003|  
|SQL_C_TYPE_DATE|Временная часть метки времени равна нулю [a]<br /><br /> Временная часть метки времени имеет ненулевое значение [a]|Данные<br /><br /> Усеченные данные [c]|6 [f]<br /><br /> 6 [f]|н/д<br /><br /> 01S07|  
|SQL_C_TYPE_TIME|Часть метки времени в долях секунды равна нулю [a]<br /><br /> Часть метки времени в долях секунды имеет ненулевое значение [a]|Данные [d]<br /><br /> Усеченные данные [d], [e]|6 [f]<br /><br /> 6 [f]|н/д<br /><br /> 01S07|  
|SQL_C_TYPE_TIMESTAMP|Часть метки времени в долях секунды не усекается [a]<br /><br /> Часть метки времени в долях секунды усекается [a]|Данные [e]<br /><br /> Усеченные данные [e]|16 [f]<br /><br /> 16 [f]|н/д<br /><br /> 01S07|  

 [a] значение *BufferLength* игнорируется для этого преобразования. Драйвер предполагает, что размер **таржетвалуептр* — это размер типа данных C.  
  
 [b] доли секунды отбрасываются.  
  
 [c] временная часть метки времени усекается.  
  
 [d] часть даты метки времени игнорируется.  
  
 [e] часть метки времени в долях секунды усекается.  
  
 [f] это размер соответствующего типа данных C.  

Когда данные метки времени SQL преобразуются в символьные данные C, результирующая строка находится в формате "*гггг* - *мм* - *дд* *чч*:*мм*:*СС*[.*f...*] ", где в долях секунды можно использовать до девяти цифр. На этот формат не влияет параметр Windows® Country. (За исключением десятичной запятой и доли секунды, необходимо использовать весь формат, независимо от точности типа данных timestamp SQL.)
