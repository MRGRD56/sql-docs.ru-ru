---
description: Литералы интервала
title: Литералы интервала | Документация Майкрософт
ms.custom: ''
ms.date: 01/19/2017
ms.prod: sql
ms.prod_service: connectivity
ms.reviewer: ''
ms.technology: connectivity
ms.topic: reference
helpviewer_keywords:
- data types [ODBC], interval data types
- interval literals [ODBC]
- interval data type [ODBC], literals
ms.assetid: f9e6c3c7-4f98-483f-89d8-ebc5680f021b
author: David-Engel
ms.author: v-daenge
ms.openlocfilehash: 1e100fcc54f9ca6cc165eece7637b7fae45f65b4
ms.sourcegitcommit: 33f0f190f962059826e002be165a2bef4f9e350c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/30/2021
ms.locfileid: "99184410"
---
# <a name="interval-literals"></a>Литералы интервала
Для ODBC требуется, чтобы все драйверы поддерживали преобразование SQL_CHAR или SQL_VARCHAR типа данных во все типы данных интервала C. Однако если базовый источник данных не поддерживает типы данных интервала, драйверу необходимо указать правильный формат значения в поле SQL_CHAR, чтобы обеспечить поддержку этих преобразований. Аналогичным образом, ODBC требует, чтобы любой тип ODBC C можно было преобразовать в SQL_CHAR или SQL_VARCHAR, поэтому драйверу необходимо узнать, какой формат должен иметь интервал, хранящийся в поле символов. В этом разделе описывается синтаксис литералов интервала, который модуль записи драйверов должен использовать для проверки SQL_CHAR полей во время преобразования в типы данных из интервала C или из него.  
  
> [!NOTE]  
>  Полный синтаксис BNF для литералов интервалов приведен в [синтаксисе литерала интервала](../../../odbc/reference/appendixes/interval-literal-syntax.md) раздела в приложении C: грамматика SQL.  
  
 Чтобы передать литералы интервалов как часть инструкции SQL, для литералов интервала определяется синтаксис escape-конструкции. Дополнительные сведения см. в статье [литералы даты, времени и отметок времени](../../../odbc/reference/develop-app/date-time-and-timestamp-literals.md).  
  
 Литерал интервала имеет вид:  
  
```  
INTERVAL[<sign>] 'value' <interval qualifier>  
```  
  
 где "INTERVAL" означает, что символьный литерал является интервалом. Знак может быть либо плюсом, либо минусом. Он находится за пределами строки интервала и является необязательным.  
  
 Квалификатор интервала может быть одним полем DateTime или состоять из двух полей даты и времени в форме: \<*leading field*> to \<*trailing field*> .  
  
-   Если интервал состоит из одного поля, то единственное поле может быть невторым полем, которое может сопровождаться необязательной внутренней точностью в круглых скобках. Единственное поле даты и времени может также быть вторым полем, которое может сопровождаться необязательной начальной точностью, необязательной точностью доли секунды в круглых скобках или обоих. Если в поле секунд имеется как начальную точность, так и точность доли секунды, они разделяются запятыми. Если поле секунд имеет точность в долях секунды, она должна также иметь начальную точность.  
  
-   Если интервал состоит из начальных и конечных полей, то начальное поле является невторым полем, которое может сопровождаться заданной точностью поля в круглых скобках. Конечным полем может быть невторое поле или второе поле, которое может сопровождаться точностью доли секунды в круглых скобках.  
  
 Строка интервала в *значении* заключается в одинарные кавычки. Это может быть литерал в виде года или литерала в день. Формат строки в *значении* определяется следующими правилами.  
  
-   Строка содержит десятичное значение для каждого поля, которое подразумевается \<*interval* *qualifier*> .  
  
-   Если точность интервала включает поля YEAR и MONTH, то значения этих полей разделяются знаком «минус».  
  
-   Если точность интервала включает поля DAY и HOUR, то значения этих полей разделяются пробелом.  
  
-   Если точность интервала включает поле HOUR и более низкие поля заказа (минуты и секунды), то значения этих полей разделяются двоеточием.  
  
-   Если точность интервала включает второе поле, а выраженная или подразумеваемая секунда точность отлична от нуля, то символ, находящийся непосредственно перед первой цифрой дробной части секунды, является точкой.  
  
-   Длина поля не может превышать двух цифр, за исключением следующих:  
  
    -   Значение ведущего поля может быть таким же, как и у выраженной или подразумеваемой точности в начале интервала.  
  
    -   Дробная часть второго поля может иметь точность в выражении или в неявном виде секунд.  
  
    -   Конечные поля соответствуют обычным ограничениям григорианского календаря. (См. раздел [ограничения григорианского календаря](../../../odbc/reference/appendixes/constraints-of-the-gregorian-calendar.md).)  
  
 В следующей таблице приведены примеры допустимых литералов интервала, которые включаются в предложение escape-последовательности ODBC для интервалов. Синтаксис предложения escape выглядит следующим образом:  
  
> [!NOTE]  
>  *{Интервал между знаками интервала-Строка-квалификатор}*  
  
|Предложение escape-литерала|Указанный интервал|  
|---------------------------|------------------------|  
|{INTERVAL ' 326 ' ГОД (4)}|Указывает интервал в 326 лет. Начальная точность интервала равна 4.|  
|{INTERVAL ' 326 ' МЕСЯЦ (3)}|Указывает интервал в 326 месяцев. Начальная точность интервала равна 3.|  
|{INTERVAL ' 3261 ' DAY (4)}|Указывает интервал в 3261 дней. Начальная точность интервала равна 4.|  
|{INTERVAL ' 163 ' ЧАС (3)}|Указывает интервал в 163 дней. Начальная точность интервала равна 3.|  
|{INTERVAL ' 163 ' МИН (3)}|Указывает интервал в 163 минут. Начальная точность интервала равна 3.|  
|{INTERVAL ' 223,16 ' СЕКУНД (3, 2)}|Задает интервал в 223,16 секунд. Начальная точность интервала равна 3, а точность секунд — 2.|  
|{INTERVAL ' 163-11 ' ГОД (3) В МЕСЯЦ}|Указывает интервал в 163 лет и 11 месяцев. Начальная точность интервала равна 3.|  
|{INTERVAL ' 163 12 ' ДЕНЬ (3) В ЧАС}|Указывает интервал в 163 дней и 12 часов. Начальная точность интервала равна 3.|  
|{INTERVAL ' 163 12:39 ' ДЕНЬ (3) В МИНУТУ}|Указывает интервал в 163 дней, 12 часов и 39 минут. Начальная точность интервала равна 3.|  
|{INTERVAL ' 163 12:39:59.163 ' ДЕНЬ (3) В СЕКУНДУ (3)}|Указывает интервал в 163 дней, 12 часов, 39 минут и 59,163 секунд. Начальная точность интервала равна 3, а точность секунд — 3.|  
|{INTERVAL ' 163:39 ' ЧАС (3) В МИНУТУ}|Указывает интервал в 163 ч и 39 минут. Начальная точность интервала равна 3.|  
|{INTERVAL ' 163:39:59.163 ' Ч (3) TO SECOND (4)}|Задает интервал в 163 часа, 39 минут и 59,163 секунд. Начальная точность интервала равна 3, а точность секунд — 4.|  
|{INTERVAL ' 163:59.163 ' МИНУТЫ (3) В СЕКУНДУ (5)}|Указывает интервал в 163 минут и 59,163 секунд. Начальная точность интервала равна 3, а точность секунд — 5.|  
|{INTERVAL-' 16 23:39:56.23 ' ДЕНЬ ДО СЕКУНД}|Указывает интервал в минус 16 дней, 23 часа, 39 минут и 56,23 секунд. Подразумеваемая начальная точность равна 2, а точность неявных секунд равна 6.|  
  
 В следующей таблице приведены примеры недопустимых литералов интервала.  
  
|Предложение escape-литерала|Причина, по которой недопустимо|  
|---------------------------|------------------------|  
|{INTERVAL ' 163 ' ЧАС (2)}|Начальная точность интервала равна 2, но значение ведущего поля — 163.|  
|{INTERVAL ' 223,16 ' СЕКУНД (2, 2)}<br /><br /> {INTERVAL ' 223,16 ' СЕКУНД (3, 1)}|В первом примере начальная точность слишком мала, а во втором примере точность в секундах слишком мала.|  
|{INTERVAL ' 223,16 ' СЕКУНД}<br /><br /> {INTERVAL ' 223 ' ГОД}|Так как начальная точность не определена, по умолчанию используется значение 2, которое слишком мало для хранения указанного литерала.|  
|{INTERVAL ' 22,1234567 ' СЕКУНД}|Точность секунд не определена, поэтому по умолчанию используется значение 6. Литерал содержит семь цифр после десятичной запятой.|  
|{INTERVAL ' 163-13 ' ГОД (3) В МЕСЯЦ}<br /><br /> {INTERVAL ' 163 65 ' ДЕНЬ (3) В ЧАС}<br /><br /> {INTERVAL ' 163 62:39 ' ДЕНЬ (3) В МИНУТУ}<br /><br /> {INTERVAL ' 163 12:125:59.163 ' ДЕНЬ (3) В СЕКУНДУ (3)}<br /><br /> {INTERVAL ' 163:144 ' ЧАС (3) В МИНУТУ}<br /><br /> {INTERVAL ' 163:567:234.163 ' Ч (3) TO SECOND (4)}<br /><br /> {INTERVAL ' 163:591.163 ' МИНУТЫ (3) В СЕКУНДУ (5)}|Завершающее поле не соответствует правилам григорианского календаря.|
