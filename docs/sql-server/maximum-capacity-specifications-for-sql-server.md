---
title: Спецификации максимальной емкости для SQL Server
description: В данной статье приведены максимальные размеры и количество для различных объектов, определяемых в компонентах SQL Server, а также дополнительные сведения.
ms.date: 03/05/2020
ms.prod: sql
ms.reviewer: ''
ms.custom: ''
ms.technology: release-landing
ms.topic: conceptual
helpviewer_keywords:
- objects [SQL Server]
- number capacity specifications [SQL Server]
- size [SQL Server], capacity specifications
- number of objects
- capacity specifications [SQL Server]
- maximum capacity specifications [SQL Server]
- size [SQL Server]
- replication capacity specifications [SQL Server]
- objects [SQL Server], capacity specifications
- Database Engine [SQL Server], capacity specifications
ms.assetid: 13e95046-0e76-4604-b561-d1a74dd824d7
ms.author: mikeray
author: MikeRayMSFT
ms.openlocfilehash: 126ac3c36d7e72205c4e0268fcd4b1cedf993169
ms.sourcegitcommit: f29f74e04ba9c4d72b9bcc292490f3c076227f7c
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/13/2021
ms.locfileid: "98172386"
---
# <a name="maximum-capacity-specifications-for-sql-server"></a>Спецификации максимальной емкости для SQL Server

[!INCLUDE[sqlserver](../includes/applies-to-version/sqlserver.md)]

В данной статье приведены максимальные размеры и количество для различных объектов, определяемых в компонентах [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)].

>[!NOTE]
>В дополнение к сведениям, приведенным в этой статье, вы можете ознакомиться с информацией по следующим ссылкам.
>
>* [Скачать SQL Server](https://www.microsoft.com/sql-server/sql-server-downloads)
>* [Требования к оборудованию и программному обеспечению для установки SQL Server](../sql-server/install/hardware-and-software-requirements-for-installing-sql-server.md)
>* [Параметры для средства проверки конфигурации системы](../database-engine/install-windows/check-parameters-for-the-system-configuration-checker.md)
>

## <a name="ssde-objects"></a>Объекты [!INCLUDE[ssDE](../includes/ssde-md.md)]

Максимальные размеры и количество различных объектов, определяемых в базах данных [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] или ссылающихся на них [!INCLUDE[tsql](../includes/tsql-md.md)] инструкциях.

|Объект [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] [!INCLUDE[ssDE](../includes/ssde-md.md)]|Максимальный размер или количество [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] (64-разрядная версия)|Дополнительные сведения|
|---------------------------------------------------------|------------------------------------------------------------------|----------------------------|
|Размер пакета|65 536 <sup>*</sup> (размер сетевого пакета)|Размер сетевого пакета — это размер пакетов потока табличных данных (TDS), которые используются для связи между приложениями и компонентом [!INCLUDE[ssDE](../includes/ssde-md.md)]. По умолчанию размер пакета равен 4 КБ, а его настройка осуществляется с помощью параметра конфигурации network packet size.|
|Байтов на столбец с короткой строкой|8000||
|Байтов на `GROUP BY`, `ORDER BY`|8060||
|Байтов на ключ индекса|900 байтов для кластеризованного индекса. 1700 для некластеризованного индекса.|Максимальное число байтов в любом ключе индекса не может превышать 900 в [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)]. Для ключа некластеризованного индекса максимум составляет 1700 байт.<br /><br /> Можно определить ключ, использующий столбцы переменной длины, максимальная длина которых превышает лимит. При этом совокупные размеры данных в этих столбцах ни в коем случае не могут превышать лимит.<br /><br /> В некластеризованный индекс можно включать дополнительные неключевые столбцы — при расчете предельного размера ключа они не учитываются. Неключевые столбцы могут помочь в выполнении некоторых запросов.|
|Байт на ключ индекса в оптимизированных для памяти таблицах|2500 байт для некластеризованного индекса. Пока все ключи индекса входят в строку, хэш-индекс не ограничивается.|В таблице, оптимизированной для памяти, некластеризованный индекс не может иметь ключевые столбцы, максимальные заявленные размеры которых не превышают 2500 байт. Соотношение размера фактических данных в столбцах ключей и максимальных заявленных размеров несущественно.<br /><br /> Размер ключа для хэш-индекса не ограничивается.<br /><br /> Для индексов в таблицах, оптимизированных для памяти, понятие включенных столбцов не используется, поскольку все индексы по определению охватывают все столбцы.<br /><br /> Несмотря на то, что размер строки для таблиц, оптимизированных для памяти, составляет 8060 байт, размер некоторых столбцов переменной длины, хранящихся вне таблицы, может превышать 8060 байт. Тем не менее объявленные максимальные размеры всех ключевых столбцов для всех индексов в таблице в сумме с фиксированной длиной добавленных в эту таблицу столбцов должны соответствовать ограничению в 8060 байт.|
|Байтов на внешний ключ|900||
|Байтов на первичный ключ|900||
|Байтов на строку|8060|[!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] поддерживает хранение при переполнении строк, что позволяет столбцам переменной длины превышать максимальную длину строки. В основной записи для столбцов переменной длины, отправленных из строки, хранится только 24-байтовый корень. Эта функция допускает ограничение, которое фактически выше, чем в предыдущих выпусках [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)]. Дополнительные сведения о поддержке см. в разделе [Поддержка больших строк](../relational-databases/pages-and-extents-architecture-guide.md#large-row-support).|
|Байтов на строку в оптимизированных для памяти таблицах|8060|Начиная с [!INCLUDE[ssSQL15](../includes/sssql16-md.md)] , таблицы, оптимизированные для памяти, поддерживают хранение данных вне строки. Столбцы переменной длины вытесняются за пределы строки, если максимальные размеры всех столбцов в таблице превышают 8060 байт; это действие представляет собой решение, которое используется во время компиляции. Для столбцов, которые хранятся вне строки, в строке сохраняются только 8-байтовые ссылки. Дополнительные сведения см. в статье [Размер строк и таблицы для таблиц, оптимизированных для памяти](../relational-databases/in-memory-oltp/table-and-row-size-in-memory-optimized-tables.md).|
|Байтов в исходном тексте хранимой процедуры|Меньше размера пакета или 250 МБ||
|Байтов на столбец `varchar(max) `, `varbinary(max)`, `xml`, `text` или `image`|2^31-1||
|Символов на столбец `ntext` или `nvarchar(max)`|2^30-1||
|Количество кластеризованных индексов в таблице|1||
|Столбцы в `GROUP BY`, `ORDER BY`|Ограничивается только числом байтов||
|Столбцы или выражения в инструкции `GROUP BY WITH CUBE` или `WITH ROLLUP`|10||
|Столбцов на ключ индекса|32|Если в таблице имеется один или несколько индексов XML, ключ кластеризации пользовательской таблицы ограничивается 31 столбцом, потому что XML-столбец добавляется к ключу кластеризации первичного XML-индекса. [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] позволяет включать в некластеризованный индекс неключевые столбцы, чтобы избежать ограничения максимального количества ключевых столбцов, равного 32. Дополнительные сведения см. в статье [Create Indexes with Included Columns](../relational-databases/indexes/create-indexes-with-included-columns.md).|
|Столбцов на внешний или первичный ключ|32||
|Столбцов на инструкцию `INSERT`|4096||
|Столбцов на инструкцию `SELECT`|4096||
|Столбцов на таблицу|1024|Таблицы с наборами разреженных столбцов содержат до 30 000 столбцов. См. раздел [Наборы разреженных столбцов](../relational-databases/tables/use-column-sets.md).|
|Столбцов на инструкцию `UPDATE`|4096|К [наборам разреженных столбцов](../relational-databases/tables/use-column-sets.md) применяются различные ограничения.|
|Столбцов на представление|1024||
|Соединений на одного клиента|Максимальное значение настроенных соединений||
|Размер базы данных|524 272 ТБ||
|Баз данных на один экземпляр [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)]|32 767||
|Файловых групп на одну базу данных|32 767||
|Файловые группы на базу данных для данных, оптимизированных для памяти|1||
|Файлов на одну базу данных|32 767||
|Размер файла (данные)|16 ТБ||
|Размер файла (журнал)|2 ТБ||
|Файлы данных для оптимизированных для памяти данных на одну базу данных|4 096 в [!INCLUDE[ssSQL14](../includes/ssSQL14-md.md)]. Более поздние версии [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] не налагают подобное строгое ограничение.||
|Разностный файл на файл данных для данных, оптимизированных для памяти|1||
|Ссылок на таблицы внешнего ключа для таблицы|Исходящие = 253. Входящие = 10 000.|Ограничения см. в разделе [Create Foreign Key Relationships](../relational-databases/tables/create-foreign-key-relationships.md).|
|Длина идентификатора (в символах)|128||
|Экземпляров на один компьютер|50 экземпляров на отдельном сервере.<br /><br />25 экземпляров отказоустойчивого кластера при использовании общих дисков кластера в качестве хранилища.<br/><br/>50 экземпляров отказоустойчивого кластера с общими файловыми ресурсами SMB в качестве хранилища.||
|Индексы на оптимизированную для памяти таблицу|999 начиная с [!INCLUDE[ssSQL17](../includes/ssSQL17-md.md)] и в [!INCLUDE[ssSDSFull](../includes/ssSDSFull-md.md)]<br/>8 в [!INCLUDE[ssSQL14](../includes/ssSQL14-md.md)] и [!INCLUDE[ssSQL15](../includes/sssql16-md.md)]||
|Длина строки, содержащей инструкции SQL (размер пакета)|65 536 (размер сетевого пакета)|Размер сетевого пакета — это размер пакетов потока табличных данных (TDS), которые используются для связи между приложениями и компонентом [!INCLUDE[ssDE](../includes/ssde-md.md)]. По умолчанию размер пакета равен 4 КБ, а его настройка осуществляется с помощью параметра конфигурации network packet size.|
|Блокировок на соединение|Максимальное число блокировок на сервер||
|Блокировок на экземпляр [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)]|Ограничено только объемом памяти|Это значение относится только к статическим блокировкам. Количество динамических блокировок ограничивается только объемом памяти.|
|Уровней вложенных хранимых процедур|32|Если хранимая процедура обращается более чем к 64 базам данных или более чем к двум базам в режиме чередования, может возникнуть ошибка.|
|Вложенных запросов|32||
|Вложенных транзакций|4 294 967 296|| 
|Уровней вложенных триггеров|32||
|Количество некластеризованных индексов на одну таблицу|999||
|Количество уникальных выражений в предложении `GROUP BY`, если присутствует одна из следующих конструкций: `CUBE`, `ROLLUP`, `GROUPING SETS`, `WITH CUBE`, `WITH ROLLUP`|32||
|Количество группирующих наборов, сформированных операторами в предложении `GROUP BY`|4096||
|Параметров на одну хранимую процедуру|2100||
|Параметров на одну определяемую пользователем функцию|2100||
|REFERENCES на таблицу|253||
|Строк на таблицу|Ограничено доступной памятью||
|Таблиц на одну базу данных|Ограничено общим числом объектов в базе данных|Объекты включают такие объекты, как таблицы, представления, хранимые процедуры, пользовательские функции, триггеры, правила, значения по умолчанию и ограничения. Суммарное число всех объектов в базе данных не может превышать 2 147 483 647.|
|Секций на секционированную таблицу или индекс|15 000||
|Статистических показателей неиндексированных столбцов|30 000|| 
|Таблиц на инструкцию `SELECT`|Ограничивается только доступными ресурсами||
|Триггеров на таблицу|Ограничено числом объектов в базе данных|Объекты включают такие объекты, как таблицы, представления, хранимые процедуры, пользовательские функции, триггеры, правила, значения по умолчанию и ограничения. Суммарное число всех объектов в базе данных не может превышать 2 147 483 647.|
|Соединения пользователей|32 767||
|XML-индексы|249||

## <a name="ssnoversion-utility-objects"></a>Объекты служебной программы [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)]

Максимальные размеры и количество для различных объектов, которые были проверены в служебной программе [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] .

|[!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] Объект программы|Максимальный размер или количество [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] (64-разрядная версия)|
|----------------------------------------------|------------------------------------------------------------------|
|Компьютеры (физические или виртуальные машины) в расчете на одну программу [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)]|100|
|Экземпляров [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] на компьютер|5|
|Общее число экземпляров [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] на одну служебную программу [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)]|200<sup>*</sup>|
|Пользовательских баз данных на экземпляр [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)], включая приложения на уровне данных|50|
|Общее число пользовательских баз данных на одну служебную программу [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)]|1000|
|Файловых групп на одну базу данных|1|
|Файлов данных на одну файловую группу|1|
|Файлов журналов на одну базу данных|1|
|Томов на компьютер|3|

<sup>*</sup> Максимальное число управляемых экземпляров [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)], поддерживаемых служебной программой [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)], может меняться в зависимости от конфигурации оборудования сервера. Дополнительные сведения о начале работы см. в разделе [Функции и задачи служебной программы SQL Server](../relational-databases/manage/sql-server-utility-features-and-tasks.md). [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] доступна не во всех выпусках [!INCLUDE[ssCurrent](../includes/sscurrent-md.md)]. Сведения о функциях, поддерживаемых различными выпусками [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)], см. в статье [Возможности, поддерживаемые выпусками SQL Server 2016](./editions-and-components-of-sql-server-2016.md).

## <a name="ssnoversion-data-tier-application-objects"></a>[!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] Объекты приложений уровня данных

Максимальные размеры и количество различных объектов, которые были протестированы в приложениях уровня данных [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] .

|[!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] Объект приложения уровня данных|Максимальный размер или количество [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] (64-разрядная версия)|
|------------------------------------------|------------------------------------------------------------------|
|Баз данных на DAC|1|
|Объектов на приложение уровня данных <sup>*</sup>|Ограничено числом объектов в базе данных или доступной памятью.|

<sup>*</sup> Типы объектов, включенные в ограничения, — пользователи, таблицы, представления, хранимые процедуры, определяемые пользователем функции, определяемые пользователем типы данных, роли баз данных, схемы и определяемые пользователем табличные типы.

## <a name="replication-objects"></a>Объекты репликации

Максимальные размеры и количества для различных объектов, определяемых в компонентах репликации [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] .

|[!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] Объект Replication|Максимальные размеры и количества для SQL Server (64-разрядная версия)|
|--------------------------------------------------|---------------------------------------------------|
|Статей (публикация слиянием)|2048|
|Статей (моментальный снимок или публикация транзакций)|32 767|
|Столбцов в таблице<sup>*</sup> (публикация слиянием)|246|
|Столбцов в таблице<sup>**</sup> (моментальный снимок или публикация транзакций [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)])|1000|
|Столбцов в таблице<sup>**</sup> (моментальный снимок или публикация транзакций Oracle)|995|
|Байтов на столбец, используемый в фильтре строк (публикация слиянием)|1024|
|Байтов на столбец, используемый в фильтре строк (моментальный снимок или публикация транзакций)|8000|

<sup>*</sup> Если для обнаружения конфликтов применяется трассировка на уровне строк (по умолчанию), базовая таблица может содержать не более 1024 столбцов, однако столбцы из статьи должны быть отфильтрованы, чтобы было опубликовано не более 246 столбцов. Если применяется трассировка на уровне столбцов, базовая таблица может содержать не более 246 столбцов.

<sup>**</sup> Базовая таблица может включать максимальное количество столбцов, разрешенное в базе данных публикации (1024 для [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)]), но столбцы должны быть отфильтрованы из статьи, если они превышают максимальное количество, заданное для данного типа публикации.

## <a name="see-also"></a>См. также раздел

[Функции и задачи служебной программы SQL Server](../relational-databases/manage/sql-server-utility-features-and-tasks.md)