---
title: Создание нового экземпляра отказоустойчивого кластера
description: В этой статье описывается, как использовать программу установки для установки или обновления экземпляра отказоустойчивого кластера SQL Server группы доступности Always On или добавления узла к существующему экземпляру отказоустойчивого кластера.
ms.custom: seo-lt-2019
ms.date: 12/13/2019
ms.reviewer: ''
ms.prod: sql
ms.technology: high-availability
ms.topic: conceptual
helpviewer_keywords:
- adding nodes
- failover clustering [SQL Server], creating clusters
- nodes [Faillover Clustering], removing
- nodes [Faillover Clustering], adding
- clusters [SQL Server], creating
- removing nodes
ms.assetid: 30e06a7d-75e9-44e2-bca3-b3b0c4a33f61
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 03a3b84d5f21391d957ea1ae1f71286133e4d492
ms.sourcegitcommit: 039fb38c583019b3fd06894160568387a19ba04e
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/30/2020
ms.locfileid: "87442382"
---
# <a name="create-a-new-always-on-failover-cluster-instance-setup"></a>Создание нового экземпляра отказоустойчивого кластера Always On (программа установки)

[!INCLUDE [SQL Server](../../../includes/applies-to-version/sqlserver.md)]

  Чтобы установить или обновить экземпляр отказоустойчивого кластера [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] (FCI), необходимо запустить программу установки на каждом узле базового отказоустойчивого кластера Windows Server. Чтобы добавить узел в существующий экземпляр отказоустойчивого кластера [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], необходимо запустить программу установки [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] на узле, который добавляется в экземпляр отказоустойчивого кластера [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] . Не выполняйте программу установки на активном узле для управления другими узлами.  
  
 В зависимости от того, каким образом кластеризованы узлы, экземпляр отказоустойчивого кластера [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] настраивается следующим образом.  
  
-   Узлы в одной подсети или в одном наборе подсетей — зависимость ресурса от IP-адреса устанавливается в логическое «И» для этих типов конфигураций.  
  
-   Узлы в разных подсетях — зависимость ресурса от IP-адреса устанавливается в логическое OR, и такая конфигурация называется экземпляром отказоустойчивого кластера [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] с несколькими подсетями. Дополнительные сведения см. в разделе [Кластеры SQL Server с несколькими подсетями (SQL Server)](../../../sql-server/failover-clusters/windows/sql-server-multi-subnet-clustering-sql-server.md).  
  
 Возможны следующие варианты установки отказоустойчивого кластера [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .  
  
 **Вариант 1. Интегрированная установка с добавлением узлов**   
  
 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] включает следующие шаги.  
  
-   Создайте и настройте состоящий из одиночного узла экземпляр отказоустойчивого кластера [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] . После успешного завершения настройки узла экземпляр отказоустойчивого кластера становится полностью функционально готовым. Однако пока этот экземпляр отказоустойчивого кластера не имеет высокого уровня доступности, поскольку в его состав входит только один узел.  
  
-   На каждом узле, добавляемом к экземпляру отказоустойчивого кластера [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], запустите программу установки с функцией добавления узла.  
  
    -   Если добавляемый узел имеет дополнительные или другие подсети, в программе установки можно указать дополнительные IP-адреса. Если добавляемый узел принадлежит другой подсети, необходимо также подтвердить, что значение зависимости ресурса IP-адреса изменяется на OR. Дополнительные сведения о различных возможных сценариях при добавлении узлов см. в разделе [Добавление или удаление узлов отказоустойчивого кластера Always On (программа установки)](../../../sql-server/failover-clusters/install/add-or-remove-nodes-in-a-sql-server-failover-cluster-setup.md).  
  
 **Вариант 2. Расширенная установка (установка выпуска Enterprise)**  
  
 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Расширенная установка отказоустойчивого кластера включает следующие шаги:  
  
-   На каждом узле, который может быть владельцем вновь создаваемого отказоустойчивого кластера [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , выполните шаги по подготовке к установке отказоустойчивого кластера, перечисленные в разделе [Подготовка](#prepare). После проведения подготовки отказоустойчивого кластера на одном узле программа установки создает файл Configuration.ini, в котором содержатся все выбранные параметры. На дополнительных узлах, подлежащих подготовке, вместо выполнения указанных шагов можно передать в качестве входного параметра программы установки файл Configuration.ini, автоматически сформированный на первом узле. Дополнительные сведения см. в разделе [Установка SQL Server 2016 с помощью файла конфигурации](../../../database-engine/install-windows/install-sql-server-2016-using-a-configuration-file.md). На этом шаге осуществляется подготовка узлов, предназначенных для кластеризации, но в конце шага экземпляр [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] не переводится в рабочий режим.  
  
-   После того, как узлы подготовлены для кластеризации, запустите установку на одном из подготовленных узлов. На этом шаге выполняется настройка и завершается создание экземпляра отказоустойчивого кластера. По окончании этого шага появляется работающий экземпляр отказоустойчивого кластера [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], а все узлы, которые были ранее подготовлены для этого экземпляра, становятся возможными владельцами вновь созданного экземпляра отказоустойчивого кластера [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].  
  
     При создании экземпляра отказоустойчивого кластера в нескольких подсетях программа установки определит объединение подсетей для всех узлов, на которых имеются подготовленные экземпляры отказоустойчивого кластера [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]. Затем можно указать несколько IP-адресов для подсетей. Каждый подготовленный узел должен быть возможным владельцем по крайней мере одного IP-адреса.  
  
     Если каждый из IP-адресов, указанных для подсетей, поддерживается на всех подготовленных узлах, зависимость устанавливается в «И».  
  
     Если каждый из IP-адресов, указанных для подсетей, не поддерживается на всех подготовленных узлах, зависимость устанавливается в «ИЛИ». Дополнительные сведения см. в разделе [Кластеры SQL Server с несколькими подсетями (SQL Server)](../../../sql-server/failover-clusters/windows/sql-server-multi-subnet-clustering-sql-server.md).  
  
    > [!NOTE]  
    >  Для завершения создания отказоустойчивого кластера требуется, чтобы существовал базовый отказоустойчивый кластер Windows Server. Если отказоустойчивый кластер Windows Server не существует, программа установки сообщает об ошибке и завершает работу.  
  
 Дополнительные сведения о добавлении и удалении узлов из существующего экземпляра отказоустойчивого кластера см. в разделе [Добавление или удаление узлов экземпляра отказоустойчивого кластера Always On (программа установки)](../../../sql-server/failover-clusters/install/add-or-remove-nodes-in-a-sql-server-failover-cluster-setup.md).  
  
 Дополнительные сведения об удаленной установке см. в разделе [Поддерживаемые обновления версий и выпусков](../../../database-engine/install-windows/supported-version-and-edition-upgrades.md).  
  
 Дополнительные сведения об установке служб [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)] в отказоустойчивом кластере Windows Server см. в разделе [Кластеризация служб SQL Server Analysis Services](https://go.microsoft.com/fwlink/p/?LinkId=396548).  
  
## <a name="prerequisites"></a>Предварительные требования  
 Перед началом установки следует ознакомиться со следующими разделами электронной документации по [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] :  
  
-   [Планирование установки SQL Server](../../../sql-server/install/planning-a-sql-server-installation.md)  
  
-   [Подготовка к установке отказоустойчивого кластера](../../../sql-server/failover-clusters/install/before-installing-failover-clustering.md)  
  
-   [Вопросы безопасности при установке SQL Server](../../../sql-server/install/security-considerations-for-a-sql-server-installation.md)  
  
-   [Кластеры SQL Server с несколькими подсетями (SQL Server)](../../../sql-server/failover-clusters/windows/sql-server-multi-subnet-clustering-sql-server.md)  
  
> [!NOTE]  
>  Обратите внимание на расположение общего диска в «Администраторе кластеров», прежде чем запускать программу установки [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] . Эти сведения необходимы для создания нового экземпляра отказоустойчивого кластера.  
  
### <a name="to-install-a-new-ssnoversion-failover-cluster-instance-using-integrated-install-with-add-node"></a>Установка нового экземпляра отказоустойчивого кластера [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] с использованием интегрированной установки с добавлением узлов.  
  
1.  Вставьте установочный носитель [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , перейдите в корневую папку и дважды щелкните файл Setup.exe. Чтобы выполнить установку из общего сетевого ресурса, перейдите в корневой каталог общего сетевого ресурса и дважды щелкните файл Setup.exe. Дополнительные сведения об установке обязательных компонентов см. в разделе [Before Installing Failover Clustering](../../../sql-server/failover-clusters/install/before-installing-failover-clustering.md).  
  
2.  Мастер установки запускает центр установки [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]. Чтобы создать новую кластерную установку [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], щелкните **Новая установка кластера отработки отказа [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]** на странице установки.  
  
3.  Средство проверки конфигурации системы запускает операцию обнаружения на компьютере. Чтобы продолжить, [!INCLUDE[clickOK](../../../includes/clickok-md.md)]. Подробные сведения можно просмотреть на экране, нажав кнопку **Показать подробности**, или в виде HTML-отчета, нажав кнопку **Просмотр подробного отчета**.  
  
4.  Чтобы продолжить, нажмите кнопку **Далее**.  
  
5.  На странице «Файлы поддержки программы установки» щелкните **Установить** , чтобы установить файлы поддержки программы установки.  
  
6.  Средство проверки конфигурации проверяет состояние системы компьютера, после чего программа установки продолжает выполнение. После завершения проверки нажмите кнопку **Далее** , чтобы продолжить установку. Подробные сведения можно просмотреть на экране, нажав кнопку **Показать подробности**, или в виде HTML-отчета, нажав кнопку **Просмотр подробного отчета**.  
  
7.  На странице «Ключ продукта» укажите, устанавливается ли бесплатный выпуск [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]или имеется ключ PID для рабочей версии продукта. Дополнительные сведения см. в статье [Выпуски и компоненты SQL Server 2016](../../../sql-server/editions-and-components-of-sql-server-2016.md).  
  
8.  На странице «Условия лицензии» прочтите лицензионное соглашение, а затем установите флажок, подтверждая принятие условий соглашения. Чтобы помочь в улучшении [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], можно также включить параметр наблюдения за использованием компонентов и отправлять отчеты в [!INCLUDE[msCoName](../../../includes/msconame-md.md)]. Чтобы продолжить, нажмите кнопку **Далее** . Чтобы выйти из программы установки, нажмите кнопку **Отмена**.  
  
9. Выберите компоненты для установки на странице «Выбор компонентов». После выбора компонента описание его группы отображается в правой панели окна. Можно выбрать любое сочетание флажков, но только компонент [!INCLUDE[ssDE](../../../includes/ssde-md.md)], [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)] в табличном режиме и [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)] в многомерном режиме поддерживают отказоустойчивую кластеризацию. Другие выбранные компоненты будут работать в качестве изолированных компонентов без возможности отработки отказа на текущем узле, на котором выполняется программа установки. Дополнительные сведения о режимах [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)] см. в разделе [Определение режима работы сервера экземпляра служб Analysis Services](https://docs.microsoft.com/analysis-services/instances/determine-the-server-mode-of-an-analysis-services-instance).  
  
     Требования для выбранных компонентов показаны на правой панели. [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] установит обязательный компонент, который еще не был установлен, в шаге установки, описанном ниже в данной процедуре.  
  
     В поле, расположенном в нижней части этой страницы, можно также указать определенный каталог для общих компонентов. Чтобы изменить путь установки для общих компонентов, измените его в поле, расположенном в нижней части диалогового окна, или нажмите кнопку с многоточием для перехода в каталог установки. Путь установки по умолчанию — C:\Program Files\\[!INCLUDE[msCoName](../../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] \\.  
  
     [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] также поддерживает установку системных баз данных (Master, Model, MSDB и TempDB) и пользовательских баз данных [!INCLUDE[ssDE](../../../includes/ssde-md.md)] в общей папке Server Message Block (SMB). Дополнительные сведения об установке [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] с общей папкой SMB в качестве хранилища см. в разделе [Установка SQL Server с общей папкой SMB в качестве хранилища](../../../database-engine/install-windows/install-sql-server-with-smb-fileshare-as-a-storage-option.md).  
  
     Путь, указанный для общих компонентов, должен быть абсолютным. Папка не должна быть сжата или зашифрована. Сетевые диски не поддерживаются. При установке [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] в 64-разрядной операционной системе отображаются следующие параметры:  
  
    1.  Каталог общих компонентов  
  
    2.  Каталог общих компонентов (x86)  
  
     Для каждого из вышеупомянутых параметров должен быть задан другой путь.  
  
    > [!NOTE]  
    >  После выбора служб компонента [!INCLUDE[ssDE](../../../includes/ssde-md.md)] выбор репликации и полнотекстового поиска выполняется автоматически. Службы Data Quality Services (DQS) также выбираются при выборе компонента служб [!INCLUDE[ssDE](../../../includes/ssde-md.md)] . Отмена выбора любого из этих компонентов приводит также к отмене выбора служб компонента [!INCLUDE[ssDE](../../../includes/ssde-md.md)] .  
  
10. [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] запустит еще один набор правил, который будет определен, исходя из выбранных компонентов, для оценки конфигурации компьютера.  
  
11. На странице «Конфигурация экземпляра» укажите способ установки: как экземпляр по умолчанию или как именованный экземпляр. Дополнительные сведения см. в разделе [Instance Configuration](../../install/instance-configuration.md).  
  
     **[!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Сетевое имя** — укажите сетевое имя для нового экземпляра отказоустойчивого кластера [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]. Это имя используется для идентификации экземпляра отказоустойчивого кластера в сети.  
  
    > [!NOTE]  
    >  Этот термин был известен в предыдущих версиях экземпляров отказоустойчивых кластеров [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] как виртуальное имя [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].  
  
     **Идентификатор экземпляра** — по умолчанию в качестве идентификатора экземпляра используется его имя. Предназначен для идентификации каталогов установки и разделов реестра для данного экземпляра [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]. Действует как для экземпляров по умолчанию, так и для именованных экземпляров. Для экземпляра по умолчанию именем и идентификатором экземпляра является «MSSQLSERVER». Чтобы задать идентификатор экземпляра, отличный от заданного по умолчанию, введите значение в поле **Идентификатор экземпляра** .  
  
    > [!NOTE]  
    >  Как правило, для изолированных экземпляров [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)](как для экземпляров по умолчанию, так и для именованных экземпляров) значение в поле **Идентификатор экземпляра** , отличное от значения по умолчанию, не используется.  
  
     **Корневой каталог экземпляра** — по умолчанию корневым каталогом экземпляра является C:\Program Files\\[!INCLUDE[msCoName](../../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]\\. Чтобы задать корневой каталог, отличный от используемого по умолчанию, введите имя каталога в соответствующее поле или нажмите кнопку с многоточием и выберите папку установки.  
  
     **Обнаруженные экземпляры и компоненты [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] на этом компьютере** — в этой сетке перечислены все экземпляры [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], установленные на компьютере, на котором запущена программа установки. Поскольку экземпляр по умолчанию на компьютере уже имеется, необходимо установить именованный экземпляр [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]. Чтобы продолжить, нажмите кнопку **Далее** .  
  
12. На странице "Группа кластерных ресурсов" укажите группу или роль кластерных ресурсов, в которой будут находиться ресурсы виртуального сервера [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]. Указать имя группы кластерных ресурсов [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] можно одним из двух способов.  
  
    -   Использование раскрывающегося списка, чтобы указать использование существующей группы.  
  
    -   Введите имя создаваемой группы. Имейте в виду, что имя «Доступное хранилище» не является допустимым именем группы.  
  
13. На странице "Выбор диска кластера" выберите общий дисковый ресурс кластера для экземпляра отказоустойчивого кластера [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]. Данные [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] будут размещены на этом диске кластера. Можно указать больше одного диска. Сетка «Доступные общие диски» отображает список доступных дисков, указывает, определен ли отдельный диск как общий, и выводит описание дискового ресурса. Чтобы продолжить, нажмите кнопку **Далее** .  
  
    > [!NOTE]  
    >  Первый диск используется в качестве диска по умолчанию для всех баз данных, но вместо него может быть указан другой на страницах настройки компонента [!INCLUDE[ssDE](../../../includes/ssde-md.md)] или служб [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)] .  
    >   
    >  На странице «Выбор диска кластера» процедуру выбора общего диска можно пропустить, если в качестве папки данных требуется использовать общую папку SMB.  
  
14. На странице «Конфигурация сети кластера» укажите сетевые ресурсы для конкретного экземпляра отказоустойчивого кластера.  
  
    -   **Сетевые параметры** — тип IP-адреса и IP-адрес для конкретного экземпляра отказоустойчивого кластера.  
  
     Чтобы продолжить, нажмите кнопку **Далее** .  
  
15. Используйте эту страницу, чтобы задать политику безопасности кластера.  
  
    -   [!INCLUDE[firstref_longhorn](../../../includes/firstref-longhorn-md.md)] и более поздних версиях рекомендуется использовать и по умолчанию используются идентификаторы безопасности сервера для службы. Переключение этого параметра на использование групп безопасности не поддерживается. Сведения о функциональных возможностях идентификаторов безопасности сервера для службы в [!INCLUDE[nextref_longhorn](../../../includes/nextref-longhorn-md.md)]см. в разделе [Настройка учетных записей службы Windows и разрешений](../../../database-engine/configure-windows/configure-windows-service-accounts-and-permissions.md). Тестирование было выполнено в автономной и кластерной конфигурации в среде [!INCLUDE[winserver2008r2](../../../includes/winserver2008r2-md.md)].  
  
    -   В [!INCLUDE[winxpsvr](../../../includes/winxpsvr-md.md)]укажите группы домена для служб [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] . Управление разрешениями на все ресурсы производится на уровне групп домена, членами которых являются учетные записи служб [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .  
  
     Чтобы продолжить, нажмите кнопку **Далее** .  
  
16. Набор операций, оставшихся в этом разделе, зависит от того, какие компоненты были выбраны для установки. В зависимости от выбора на экране могут отобразиться не все страницы (компонент[!INCLUDE[ssDE](../../../includes/ssde-md.md)], службы [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)]и [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)]).  
  
17. На странице «Конфигурация сервера — Учетные записи служб» укажите учетные записи входа для служб [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]. Набор служб, которые можно настроить на этой странице, зависит от компонентов, выбранных при установке.  
  
     Можно назначить одну учетную запись входа всем службам [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] или настроить учетные записи служб индивидуально. Для всех служб, поддерживающих работу в кластере, в том числе для службы полнотекстового поиска и службы агента [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , задан ручной тип запуска, и его нельзя изменить во время установки. [!INCLUDE[msCoName](../../../includes/msconame-md.md)] рекомендует настраивать учетные записи служб отдельно, чтобы каждой службе предоставлялся минимальный набор, с тем условием, чтобы службам [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] предоставлялись минимальные права доступа, необходимые для выполнения их задач. Дополнительные сведения см. в разделах [Настройка сервера — учетные записи служб](https://msdn.microsoft.com/library/c283702d-ab20-4bfa-9272-f0c53c31cb9f) и [Настройка учетных записей службы Windows и разрешений](../../../database-engine/configure-windows/configure-windows-service-accounts-and-permissions.md).  
  
     Чтобы задать одну учетную запись входа для всех учетных записей служб этого экземпляра [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], укажите учетные данные в полях, которые находятся в нижней части страницы.  
  
     **Примечание по безопасности** [!INCLUDE[ssNoteStrongPass](../../../includes/ssnotestrongpass-md.md)]  
  
     После ввода данных входа для служб [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] нажмите кнопку **Далее**.  
  
18. Используйте вкладку **Конфигурация сервера — параметры сортировки** , чтобы указать отличные от заданных по умолчанию параметры сортировки для компонента [!INCLUDE[ssDE](../../../includes/ssde-md.md)] и служб [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)].  
  
19. На странице «Настройка компонента [!INCLUDE[ssDE](../../../includes/ssde-md.md)] — провизионирование учетных записей» укажите следующие сведения:  
  
    -   Режим безопасности: выберите для экземпляра [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]режим проверки подлинности, «Проверка подлинности Windows» или «Смешанный режим». Если выбран смешанный режим проверки подлинности, необходимо задать надежный пароль для встроенной учетной записи системного администратора [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .  
  
         После удачного соединения устройства с [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]в режиме проверки подлинности Windows и смешанном режиме начинает действовать один механизм безопасности.  
  
    -   [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Администраторы: для экземпляра [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]должен быть задан как минимум один системный администратор. Чтобы добавить учетную запись, с которой выполняется программа установки [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , нажмите кнопку **Добавить текущего пользователя**. Чтобы добавить или удалить учетные записи из списка системных администраторов, нажмите кнопку **Добавить** или **Удалить**, затем измените список пользователей, групп или компьютеров, которые будут иметь права администраторов на этот экземпляр [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].  
  
     После изменения списка [!INCLUDE[clickOK](../../../includes/clickok-md.md)]. Проверьте список администраторов в диалоговом окне конфигурации. После завершения работы со списком нажмите кнопку **Далее**.  
  
20. На странице «Конфигурация компонента [!INCLUDE[ssDE](../../../includes/ssde-md.md)] — каталоги данных» можно указать каталоги установки, отличающиеся от заданных по умолчанию. Чтобы произвести установку в каталог по умолчанию, нажмите кнопку **Далее**.  
  
    > [!IMPORTANT]  
    >  При указании каталогов установки, отличных от используемых по умолчанию, убедитесь в том, что имена папок являются уникальными для этого экземпляра [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]. Ни один из каталогов, заданных в этом диалоговом окне, не должен совпадать с каталогами, указанными для других экземпляров [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]. Каталоги данных должны находиться на общем диске кластера для экземпляра отказоустойчивого кластера.  
  
    > [!NOTE]  
    >  Чтобы задать файловый сервер протокола Server Message Block (SMB) в качестве каталога для файлов данных, задайте в качестве **корневого каталога данных по умолчанию** общую папку в формате \\\Servername\ShareName\\...  
   
21. Чтобы включить FILESTREAM в экземпляре [!INCLUDE[ssDE](../../../includes/ssde-md.md)] , используйте страницу «Конфигурация компонента [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]— FILESTREAM». Чтобы продолжить, нажмите кнопку **Далее** .  
  
22. На странице «Конфигурация служб [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)]: провизионирование учетных записей» задайте пользователей или учетные записи, которые будут обладать разрешениями администратора для служб [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)]. Для служб [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)]необходимо указать хотя бы одного системного администратора. Чтобы добавить учетную запись, с которой выполняется программа установки [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , нажмите кнопку **Добавить текущего пользователя**. Чтобы добавить учетные записи в список системных администраторов или удалить записи из списка, нажмите кнопку **Добавить** или **Удалить**, а затем измените список пользователей, групп или компьютеров, которые будут иметь права администратора для служб [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)].
  
     После изменения списка [!INCLUDE[clickOK](../../../includes/clickok-md.md)]. Проверьте список администраторов в диалоговом окне конфигурации. После завершения работы со списком нажмите кнопку **Далее**.  
  
23. На странице «Конфигурация компонента [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)] — каталоги данных» можно указать каталоги установки, отличающиеся от заданных по умолчанию. Чтобы произвести установку в каталог по умолчанию, нажмите кнопку **Далее**.  
  
    > [!IMPORTANT]  
    >  При указании каталогов установки, отличных от используемых по умолчанию, убедитесь в том, что имена папок являются уникальными для этого экземпляра [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]. Ни один из каталогов, заданных в этом диалоговом окне, не должен совпадать с каталогами, указанными для других экземпляров [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]. Каталоги данных должны находиться на общем диске кластера для экземпляра отказоустойчивого кластера.  
   
24. На странице «Конфигурация служб [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] » укажите тип установки служб [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] . При установке экземпляра отказоустойчивого кластера этот вариант предусматривает установку служб [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] без настройки. После завершения установки необходимо настроить службы [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] .  
  
 
25. Средство проверки конфигурации запустится еще раз для оценки конфигурации компьютера с выбранными компонентами [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .  
  
26. На странице готовности к установке показано представление параметров установки в виде дерева, заданных в программе установки. Чтобы продолжить, нажмите кнопку **Установить**. Программа установки вначале устанавливает требуемые компоненты для выбранных средств, затем устанавливает сами средства.  
  
27. Во время установки на странице «Ход выполнения установки» отображается состояние установки, позволяющее наблюдать за ее ходом.  
  
28. После установки на странице **Завершение** будет приведена ссылка на файл сводного журнала установки и даны другие важные примечания. Чтобы завершить процесс установки [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , нажмите кнопку **Готово**.  
  
29. Если будет предложено перезагрузить компьютер, выполните перезагрузку. После завершения установки важно прочитать сообщение мастера установки. Дополнительные сведения о файлах журналов установки см. в разделе [Просмотр и чтение файлов журналов программы установки SQL Server](../../../database-engine/install-windows/view-and-read-sql-server-setup-log-files.md).  
  
30. Чтобы добавить узлы к вновь созданному отказоустойчивому кластеру, состоящему из одиночного узла, выполните программу установки на каждом дополнительном узле и выполните шаги, связанные с операцией AddNode. Дополнительные сведения см. на странице [Добавление и удаление узлов в экземпляре отказоустойчивого кластера Always On &#40;программа установки&#41;](../../../sql-server/failover-clusters/install/add-or-remove-nodes-in-a-sql-server-failover-cluster-setup.md).  
  
    > [!NOTE]  
    >  При добавлении более одного узла для развертывания установок можно использовать файл конфигурации. Дополнительные сведения см. в разделе [Установка SQL Server 2016 с помощью файла конфигурации](../../../database-engine/install-windows/install-sql-server-2016-using-a-configuration-file.md).  
    >   
    >  На всех узлах экземпляра отказоустойчивого кластера [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] должен быть установлен один и тот же выпуск [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]. При добавлении нового узла к существующему экземпляру отказоустойчивого кластера [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] убедитесь в том, что его выпуск совпадает с выпуском существующего экземпляра отказоустойчивого кластера.  
  
##  <a name="prepare"></a><a name="prepare"></a> подготовка  
  
#### <a name="advancedenterprise-failover-cluster-instance-install-step-1-prepare"></a>Расширенная установка экземпляра отказоустойчивого кластера или установка выпуска Enterprise. Шаг 1: Подготовка.  
  
1.  Вставьте установочный носитель [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , перейдите в корневую папку и дважды щелкните файл Setup.exe. Чтобы выполнить установку из общего сетевого ресурса, перейдите в корневой каталог общего сетевого ресурса и дважды щелкните файл Setup.exe. Дополнительные сведения об установке обязательных компонентов см. в разделе [Before Installing Failover Clustering](../../../sql-server/failover-clusters/install/before-installing-failover-clustering.md). Может появиться запрос на установку обязательных компонентов, если они не установлены ранее.  
  
2.  Требуется установщик Windows версии 4.5, который можно установить с помощью мастера установки. Если будет предложено перезагрузить компьютер, перезапустите его и заново запустите программу установки [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .  
  
3.  После установки обязательных компонентов мастер установки запускает центр установки [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] . Чтобы подготовить узел к кластеризации, перейдите на страницу **Дополнительно** и выберите **Подготовка расширенного кластера**.  
  
4.  Средство проверки конфигурации системы запускает операцию обнаружения на компьютере. Чтобы продолжить, [!INCLUDE[clickOK](../../../includes/clickok-md.md)]. Подробные сведения можно просмотреть на экране, нажав кнопку **Показать подробности**, или в виде HTML-отчета, нажав кнопку **Просмотр подробного отчета**.  
  
5.  На странице «Файлы поддержки программы установки» щелкните **Установить** , чтобы установить файлы поддержки программы установки.  
  
6.  Средство проверки конфигурации проверяет состояние системы компьютера, после чего программа установки продолжает выполнение. После завершения проверки нажмите кнопку **Далее** , чтобы продолжить установку. Подробные сведения можно просмотреть на экране, нажав кнопку **Показать подробности**, или в виде HTML-отчета, нажав кнопку **Просмотр подробного отчета**.  
  
7.  На странице «Выбор языка» выберите нужный язык для экземпляра [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , если установка выполняется в локализованной операционной системе и на установочном носителе имеются языковые пакеты как для английского языка, так и для языка, соответствующего настройкам используемой операционной системы. Дополнительные сведения о поддержке версий на разных языках и рекомендации по установке см. в разделе [Версии SQL Server на местных языках](../../../sql-server/install/local-language-versions-in-sql-server.md).  
  
     Чтобы продолжить, нажмите кнопку **Далее**.  
  
8.  На странице «Ключ продукта» укажите, устанавливается ли бесплатный выпуск [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]или имеется ключ PID для рабочей версии продукта. Дополнительные сведения см. в статье [Выпуски и компоненты SQL Server 2016](../../../sql-server/editions-and-components-of-sql-server-2016.md).  
  
    > [!NOTE]  
    >  Необходимо указывать один и тот же ключ продукта на всех узлах, подготавливаемых для одного экземпляра отказоустойчивого кластера.  
  
9. На странице «Условия лицензии» прочтите лицензионное соглашение, а затем установите флажок, подтверждая принятие условий соглашения. Чтобы помочь в улучшении [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], можно также включить параметр наблюдения за использованием компонентов и отправлять отчеты в [!INCLUDE[msCoName](../../../includes/msconame-md.md)]. Чтобы продолжить, нажмите кнопку **Далее** . Чтобы выйти из программы установки, нажмите кнопку **Отмена**.  
  
10. Выберите компоненты для установки на странице «Выбор компонентов». После выбора компонента описание его группы отображается в правой панели окна. Можно выбрать любое сочетание флажков, но только компонент [!INCLUDE[ssDE](../../../includes/ssde-md.md)], [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)] в табличном режиме и [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)] в многомерном режиме поддерживают отказоустойчивую кластеризацию. Другие выбранные компоненты будут работать в качестве изолированных компонентов без возможности отработки отказа на текущем узле, на котором выполняется программа установки. Дополнительные сведения о режимах [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)] см. в разделе [Определение режима работы сервера экземпляра служб Analysis Services](https://docs.microsoft.com/analysis-services/instances/determine-the-server-mode-of-an-analysis-services-instance).  
  
     Требования для выбранных компонентов показаны на правой панели. [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] установит обязательный компонент, который еще не был установлен, в шаге установки, описанном ниже в данной процедуре.  
  
     В поле, расположенном в нижней части этой страницы, можно также указать определенный каталог для общих компонентов. Чтобы изменить путь установки для общих компонентов, измените его в поле, расположенном в нижней части диалогового окна, или нажмите кнопку с многоточием для перехода в каталог установки. Путь установки по умолчанию — C:\Program Files\\[!INCLUDE[msCoName](../../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]\\.  
  
    > [!NOTE]  
    >  После выбора служб компонента [!INCLUDE[ssDE](../../../includes/ssde-md.md)] выбор репликации и полнотекстового поиска выполняется автоматически. Отмена выбора любого из этих компонентов приводит также к отмене выбора служб компонента [!INCLUDE[ssDE](../../../includes/ssde-md.md)] .  
  
11. На странице «Конфигурация экземпляра» укажите способ установки: как экземпляр по умолчанию или как именованный экземпляр.
  
     **Идентификатор экземпляра** — по умолчанию в качестве идентификатора экземпляра используется его имя. Предназначен для идентификации каталогов установки и разделов реестра для данного экземпляра [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]. Действует как для экземпляров по умолчанию, так и для именованных экземпляров. Для экземпляра по умолчанию именем и идентификатором экземпляра является «MSSQLSERVER». Чтобы задать идентификатор экземпляра, отличный от используемого по умолчанию, введите значение в поле **Идентификатор экземпляра** .  
  
    > [!NOTE]  
    >  Как правило, для изолированных экземпляров [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)](как для экземпляров по умолчанию, так и для именованных экземпляров) в текстовом поле **Идентификатор экземпляра** не используется значение, отличное от значения по умолчанию.  
  
    > [!IMPORTANT]  
    >  Используйте один и тот же идентификатор экземпляра для всех узлов, подготовленных для экземпляра отказоустойчивого кластера  
  
     **Корневой каталог экземпляра** — по умолчанию корневым каталогом экземпляра является C:\Program Files\\[!INCLUDE[msCoName](../../../includes/msconame-md.md)][!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]\\. Чтобы задать корневой каталог, отличный от используемого по умолчанию, введите имя каталога в соответствующее поле или нажмите кнопку с многоточием и выберите папку установки.  
  
     **Установленные экземпляры** — в этой сетке перечислены все экземпляры [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , установленные на компьютере, на котором запущена программа установки. Поскольку экземпляр по умолчанию на компьютере уже имеется, необходимо установить именованный экземпляр [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]. Чтобы продолжить, нажмите кнопку **Далее** .  
  
12. На странице «Требования к свободному месту на диске» показан расчет требуемого пространства на диске для выбранных компонентов, а также приведено сравнение требуемого и имеющегося свободного места на компьютере, на котором работает программа установки.  
  
13. Используйте эту страницу, чтобы задать политику безопасности кластера.  
  
    -   [!INCLUDE[firstref_longhorn](../../../includes/firstref-longhorn-md.md)] и более поздних версиях рекомендуется использовать и по умолчанию используются идентификаторы безопасности сервера для службы. Переключение этого параметра на использование групп безопасности не поддерживается. Сведения о функциональных возможностях идентификаторов безопасности сервера для службы в [!INCLUDE[nextref_longhorn](../../../includes/nextref-longhorn-md.md)]см. в разделе [Настройка учетных записей службы Windows и разрешений](../../../database-engine/configure-windows/configure-windows-service-accounts-and-permissions.md). Тестирование было выполнено в автономной и кластерной конфигурации в среде [!INCLUDE[winserver2008r2](../../../includes/winserver2008r2-md.md)].  
  
    -   В [!INCLUDE[winxpsvr](../../../includes/winxpsvr-md.md)]укажите группы домена для служб [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] . Управление разрешениями на все ресурсы производится на уровне групп домена, членами которых являются учетные записи служб [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .  
  
     Чтобы продолжить, нажмите кнопку **Далее** .  
  
14. Набор операций, оставшихся в этом разделе, зависит от того, какие компоненты были выбраны для установки. В зависимости от сделанного выбора могут отображаться не все страницы.  
  
15. На странице «Конфигурация сервера — Учетные записи служб» укажите учетные записи входа для служб [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]. Набор служб, которые можно настроить на этой странице, зависит от компонентов, выбранных при установке.  
  
     Можно назначить одну учетную запись входа всем службам [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] или настроить учетные записи служб индивидуально. Для всех служб, поддерживающих работу в кластере, в том числе для службы полнотекстового поиска и службы агента [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , задан ручной тип запуска, и его нельзя изменить во время установки. [!INCLUDE[msCoName](../../../includes/msconame-md.md)] рекомендует настраивать учетные записи служб отдельно, чтобы каждой службе предоставлялся минимальный набор, с тем условием, чтобы службам [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] предоставлялись минимальные права доступа, необходимые для выполнения их задач. Дополнительные сведения см. в статье [Настройка учетных записей службы Windows и разрешений](../../../database-engine/configure-windows/configure-windows-service-accounts-and-permissions.md).  
  
     Чтобы задать одну учетную запись входа для всех учетных записей служб этого экземпляра [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], укажите учетные данные в полях, которые находятся в нижней части страницы.  
  
     **Примечание по безопасности** [!INCLUDE[ssNoteStrongPass](../../../includes/ssnotestrongpass-md.md)]  
  
     После ввода данных входа для служб [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] нажмите кнопку **Далее**.  
  
16. Используйте вкладку **Конфигурация сервера — параметры сортировки** , чтобы указать отличные от заданных по умолчанию параметры сортировки для компонента [!INCLUDE[ssDE](../../../includes/ssde-md.md)] и служб [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)].  
  
17. Используйте параметр **Конфигурация сервера — файловый поток** , чтобы включить FILESTREAM для конкретного экземпляра [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].  Чтобы продолжить, нажмите кнопку **Далее** .  
  
18. На странице «Конфигурация служб [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] » укажите тип установки служб [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] . При установке экземпляра отказоустойчивого кластера этот вариант предусматривает установку служб [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] без настройки. После завершения установки необходимо настроить службы [!INCLUDE[ssRSnoversion](../../../includes/ssrsnoversion-md.md)] .  
   
19. На странице «Отчеты об ошибках» укажите сведения, которые будут отправлены в [!INCLUDE[msCoName](../../../includes/msconame-md.md)] и помогут улучшить [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]. По умолчанию параметры создания отчетов об ошибках включены.  
  
20. Средство проверки конфигурации запустится еще раз для оценки конфигурации компьютера с выбранными компонентами [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .  
  
21. На странице готовности к установке показано представление параметров установки в виде дерева, заданных в программе установки. Чтобы продолжить, нажмите кнопку **Установить**. Программа установки вначале устанавливает требуемые компоненты для выбранных средств, затем устанавливает сами средства.  
  
     Во время установки на странице «Ход выполнения установки» отображается состояние установки, позволяющее наблюдать за ее ходом. После установки на странице **Завершение** будет приведена ссылка на файл сводного журнала установки и даны другие важные примечания.  
  
22. Чтобы завершить процесс установки [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , нажмите кнопку **Готово**.  
  
23. Если будет предложено перезагрузить компьютер, выполните перезагрузку. После завершения установки важно прочитать сообщение мастера установки. Дополнительные сведения о файлах журналов установки см. в разделе [Просмотр и чтение файлов журналов программы установки SQL Server](../../../database-engine/install-windows/view-and-read-sql-server-setup-log-files.md).  
  
24. Повторите предыдущие шаги, чтобы подготовить остальные узлы для экземпляра отказоустойчивого кластера. Можно также использовать автоматически созданный файл конфигурации, чтобы выполнить подготовку на других узлах. Дополнительные сведения см. в разделе [Установка SQL Server 2016 с помощью файла конфигурации](../../../database-engine/install-windows/install-sql-server-2016-using-a-configuration-file.md).  
  
## <a name="complete"></a>Завершение  
  
#### <a name="advancedenterprise-failover-cluster-instance-install-step-2-complete"></a>Расширенная установка экземпляра отказоустойчивого кластера или установка выпуска Enterprise. Шаг 2: Завершение  
  
1.  После подготовки всех узлов, как описано в пункте [шаг подготовки](#prepare), выполните программу установки на одном из подготовленных узлов, лучше всего на том, который является владельцем общего диска. На странице **Дополнительно** центра установки [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] щелкните **Завершение расширенного кластера**.  
  
2.  Средство проверки конфигурации системы запускает операцию обнаружения на компьютере. Чтобы продолжить, [!INCLUDE[clickOK](../../../includes/clickok-md.md)]. Подробные сведения можно просмотреть на экране, нажав кнопку **Показать подробности**, или в виде HTML-отчета, нажав кнопку **Просмотр подробного отчета**.  
  
3.  На странице «Файлы поддержки программы установки» щелкните **Установить** , чтобы установить файлы поддержки программы установки.  
  
4.  Средство проверки конфигурации проверяет состояние системы компьютера, после чего программа установки продолжает выполнение. После завершения проверки нажмите кнопку **Далее** , чтобы продолжить установку. Подробные сведения можно просмотреть на экране, нажав кнопку **Показать подробности**, или в виде HTML-отчета, нажав кнопку **Просмотр подробного отчета**.  
  
5.  На странице «Выбор языка» выберите нужный язык для экземпляра [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , если установка выполняется в локализованной операционной системе и на установочном носителе имеются языковые пакеты как для английского языка, так и для языка, соответствующего настройкам используемой операционной системы. Дополнительные сведения о поддержке версий на разных языках и рекомендации по установке см. в разделе [Версии SQL Server на местных языках](../../../sql-server/install/local-language-versions-in-sql-server.md).  
  
     Чтобы продолжить, нажмите кнопку **Далее**.  
  
6.  Воспользуйтесь страницей "Конфигурация узла кластера", чтобы выбрать имя экземпляра, подготовленного для кластеризации, и указать сетевое имя для нового экземпляра отказоустойчивого кластера [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]. Это имя используется для идентификации экземпляра отказоустойчивого кластера в сети.  
  
    > [!NOTE]  
    >  Этот термин был известен в предыдущих версиях экземпляров отказоустойчивых кластеров [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] как виртуальное имя [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].  
  
7.  [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] запустит еще один набор правил, который будет определен, исходя из выбранных компонентов, для оценки конфигурации компьютера.  
  
8.  Используйте страницу «Группа кластерных ресурсов», чтобы указать имя группы кластерных ресурсов, в которой будут находиться ресурсы виртуального сервера [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] . Указание имени группы кластерных ресурсов [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] . Имеются две возможности.  
  
    -   Используйте этот список для указания существующей группы, предназначенной для использования.  
  
    -   Введите имя создаваемой группы. Имейте в виду, что имя «Доступное хранилище» не является допустимым именем группы.  
  
9. На странице "Выбор диска кластера" выберите общий дисковый ресурс кластера для экземпляра отказоустойчивого кластера [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]. Данные [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] будут размещены на этом диске кластера. Можно указать больше одного диска. Сетка «Доступные общие диски» отображает список доступных дисков, указывает, определен ли отдельный диск как общий, и выводит описание дискового ресурса. Чтобы продолжить, нажмите кнопку **Далее** .  
  
    > [!NOTE]  
    >  Первый диск используется в качестве диска по умолчанию для всех баз данных, но вместо него может быть указан другой на страницах настройки компонента [!INCLUDE[ssDE](../../../includes/ssde-md.md)] или служб [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)] .  
  
10. На странице «Конфигурация сети кластера» укажите сетевые ресурсы для конкретного экземпляра отказоустойчивого кластера.  
  
    -   **Сетевые параметры** — тип IP-адреса для всех узлов и подсетей данного экземпляра отказоустойчивого кластера. Для экземпляра отказоустойчивого кластера с несколькими подсетями можно задать несколько IP-адресов, но поддерживается только один IP-адрес для каждой подсети. Каждый подготовленный узел должен быть владельцем по крайней мере одного IP-адреса. Если в экземпляре отказоустойчивого кластера [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] несколько подсетей, будет выведено приглашение задать для параметра зависимости ресурса IP-адреса значение OR.  
  
     Чтобы продолжить, нажмите кнопку **Далее** .  
  
11. Набор операций, оставшихся в этом разделе, зависит от того, какие компоненты были выбраны для установки. В зависимости от сделанного выбора могут отображаться не все страницы.  
  
12. На странице «Настройка компонента [!INCLUDE[ssDE](../../../includes/ssde-md.md)] — провизионирование учетных записей» укажите следующие сведения:  
  
    -   Режим безопасности: выберите для экземпляра [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]режим проверки подлинности, «Проверка подлинности Windows» или «Смешанный режим». Если выбран смешанный режим проверки подлинности, необходимо задать надежный пароль для встроенной учетной записи системного администратора [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .  
  
         После удачного соединения устройства с [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]в режиме проверки подлинности Windows и смешанном режиме начинает действовать один механизм безопасности.  
  
    -   [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Администраторы: для экземпляра [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]должен быть задан как минимум один системный администратор. Чтобы добавить учетную запись, с которой выполняется программа установки [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , нажмите кнопку **Добавить текущего пользователя**. Чтобы добавить или удалить учетные записи из списка системных администраторов, нажмите кнопку **Добавить** или **Удалить**, затем измените список пользователей, групп или компьютеров, которые будут иметь права администраторов на этот экземпляр [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].  
  
     После изменения списка [!INCLUDE[clickOK](../../../includes/clickok-md.md)]. Проверьте список администраторов в диалоговом окне конфигурации. После завершения работы со списком нажмите кнопку **Далее**.  
  
13. На странице «Конфигурация компонента [!INCLUDE[ssDE](../../../includes/ssde-md.md)] — каталоги данных» можно указать каталоги установки, отличающиеся от заданных по умолчанию. Чтобы произвести установку в каталог по умолчанию, нажмите кнопку **Далее**.  
  
    > [!IMPORTANT]  
    >  При указании каталогов установки, отличных от используемых по умолчанию, убедитесь в том, что имена папок являются уникальными для этого экземпляра [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]. Ни один из каталогов, заданных в этом диалоговом окне, не должен совпадать с каталогами, указанными для других экземпляров [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]. Каталоги данных должны находиться на общем диске кластера для экземпляра отказоустойчивого кластера.  
  
  
14. На странице «Конфигурация служб [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)]: провизионирование учетных записей» задайте пользователей или учетные записи, которые будут обладать разрешениями администратора для служб [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)]. Для служб [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)]необходимо указать хотя бы одного системного администратора. Чтобы добавить учетную запись, с которой выполняется программа установки [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , нажмите кнопку **Добавить текущего пользователя**. Чтобы добавить учетные записи в список системных администраторов или удалить записи из списка, нажмите кнопку **Добавить** или **Удалить**, а затем измените список пользователей, групп или компьютеров, которые будут иметь права администратора для служб [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)].  
  
     После изменения списка [!INCLUDE[clickOK](../../../includes/clickok-md.md)]. Проверьте список администраторов в диалоговом окне конфигурации. После завершения работы со списком нажмите кнопку **Далее**.  
  
15. На странице «Конфигурация компонента [!INCLUDE[ssASnoversion](../../../includes/ssasnoversion-md.md)] — каталоги данных» можно указать каталоги установки, отличающиеся от заданных по умолчанию. Чтобы произвести установку в каталог по умолчанию, нажмите кнопку **Далее**.  
  
    > [!IMPORTANT]  
    >  При указании каталогов установки, отличных от используемых по умолчанию, убедитесь в том, что имена папок являются уникальными для этого экземпляра [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]. Ни один из каталогов, заданных в этом диалоговом окне, не должен совпадать с каталогами, указанными для других экземпляров [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]. Каталоги данных должны находиться на общем диске кластера для отказоустойчивого кластера.  
  
  
16. Средство проверки конфигурации запустится еще раз для оценки конфигурации компьютера с выбранными компонентами [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .  
  
17. На странице готовности к установке показано представление параметров установки в виде дерева, заданных в программе установки. Чтобы продолжить, нажмите кнопку **Установить**. Программа установки вначале устанавливает требуемые компоненты для выбранных средств, затем устанавливает сами средства.  
  
18. Во время установки на странице «Ход выполнения установки» отображается состояние установки, позволяющее наблюдать за ее ходом.  
  
19. После установки на странице **Завершение** будет приведена ссылка на файл сводного журнала установки и даны другие важные примечания. Чтобы завершить процесс установки [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , нажмите кнопку **Готово**. После этого шага все узлы, подготовленные для одного и того же экземпляра отказоустойчивого кластера, становятся частью готового экземпляра отказоустойчивого кластера [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].  
  
## <a name="next-steps"></a>Next Steps  
 **Настройка новой установки [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]**  — чтобы уменьшить уязвимую контактную зону системы, [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] по выбору устанавливает и активирует ключевые службы и функции. Дополнительные сведения см. в разделе [Surface Area Configuration](../../../relational-databases/security/surface-area-configuration.md).  
  
 Дополнительные сведения о размещении файлов журналов установки см. в разделе [Просмотр и чтение файлов журналов программы установки SQL Server](../../../database-engine/install-windows/view-and-read-sql-server-setup-log-files.md).  
  
## <a name="see-also"></a>См. также:  
 [Установка SQL Server 2016 из командной строки](../../../database-engine/install-windows/install-sql-server-2016-from-the-command-prompt.md)  
  
  
