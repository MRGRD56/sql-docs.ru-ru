---
title: Заметки о выпуске SQL Server 2012 | Документация Майкрософт
description: В этих заметках о выпуске содержится описание известных проблем, которое необходимо прочитать перед установкой или диагностикой Microsoft SQL Server 2012.
ms.prod: sql
ms.technology: release-landing
ms.custom: ''
ms.date: 07/22/2020
ms.reviewer: ''
ms.topic: conceptual
helpviewer_keywords:
- Release Notes, SQL Server
ms.assetid: 9ccb390a-67a9-4593-85ea-2b4c41c4620f
author: rothja
ms.author: jroth
monikerRange: = sql-server-2016 || = sqlallproducts-allversions
ms.openlocfilehash: caca5016c6d461af5cd665ae0ada144cd5fd1c2e
ms.sourcegitcommit: 49ee3d388ddb52ed9cf78d42cff7797ad6d668f2
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/09/2020
ms.locfileid: "94384687"
---
# <a name="sql-server-2012-release-notes"></a>Заметки о выпуске SQL Server 2012
[!INCLUDE [SQL Server Azure SQL Database ](../includes/applies-to-version/sqlserver.md)]
В этих заметках о выпуске содержится описание известных проблем, которое необходимо прочитать перед установкой или диагностикой [Microsoft SQL Server 2012](https://go.microsoft.com/fwlink/?LinkId=238647). Этот документ «Заметки о выпуске» доступен только для загрузки в сети и постоянно обновляется. Этот документ не содержится на установочном носителе.  
  
Дополнительные сведения о том, как приступить к установке SQL Server 2012, см. в файле сведений для SQL Server 2012. Файл сведений доступен на установочном носителе, а также на странице скачивания [файла сведений](https://download.microsoft.com/download/3/B/D/3BD9DD65-D3E3-43C3-BB50-0ED850A82AD5/ENU/Readme.htm) . Дополнительные сведения также можно найти в [электронной документации по SQL Server](https://go.microsoft.com/fwlink/?LinkId=190948) и на [форумах по SQL Server](https://go.microsoft.com/fwlink/?LinkId=213599).  
  
## <a name="10-before-you-install"></a><a name="Install"></a>1.0. Перед началом установки  
Прежде чем приступать к установке [!INCLUDE[ssCurrent](../includes/sscurrent-md.md)], необходимо учесть следующее.  
  
### <a name="11-rules-documentation-for-sql-server-2012-setup"></a>1.1. Документация по правилам установки SQL Server 2012  
**Проблема**. программа установки SQL Server проверяет конфигурацию компьютера перед началом установки. В ходе установки SQL Server отслеживаются различные правила в отчете средства проверки конфигурации системы (SCC). Документация об этих правилах установки больше не доступна в библиотеке MSDN.  
  
**Решение**. Чтобы узнать больше о правилах установки, вы можете обратиться к отчету о проверке конфигурации системы. При проверке конфигурации системы создается отчет, содержащий краткое описание всех выполненных правил и состояния выполнения. Отчет о проверке конфигурации системы находится в папке %programfiles%\Microsoft SQL Server\110\Setup Bootstrap\Log\\<ГГГГММДД_ЧЧММ>\\.  
  
### <a name="12-adding-a-local-user-account-for-the-distributed-replay-controller-service-might-terminate-setup-unexpectedly"></a>1.2. Добавление учетной записи локального пользователя для службы контроллера распределенного воспроизведения может привести к непредвиденному завершению установки  
**Проблема**. На странице **Контроллер распределенного воспроизведения** программы установки SQL Server при попытке добавить учетную запись локального пользователя для службы контроллера распределенного воспроизведения установка непредвиденно прекращается с сообщением об ошибке "Ошибка установки SQL Server".  
  
**Решение:** Во время установки SQL Server не добавляйте учетные записи локальных пользователей с помощью команд "Добавить текущего пользователя" или "Добавить". После завершения установки добавьте учетную запись локального пользователя вручную, выполнив следующие шаги.  
  
1.  Остановите службу контроллера распределенного воспроизведения SQL Server  
  
2.  На компьютере контроллера, где установлена служба контроллера, введите в командной строке dcomcnfg.  
  
3.  В окне "Службы компонентов" перейдите в папку **Корень консоли** -> **Службы компонентов** -> **Компьютеры** -> **Мой компьютер** -> **Dconfig** ->**DReplayController**.  
  
4.  Щелкните **DReplayController** правой кнопкой мыши и выберите **Свойства**.  
  
5.  В окне **Свойства DReplayController** на вкладке **Безопасность** нажмите кнопку **Правка** в разделе **Разрешения запуска и активации** .  
  
6.  Предоставьте учетной записи локального пользователя разрешения **Local and Remote activation** (Локальная и удаленная активация) и нажмите кнопку **ОК**.  
  
7.  В разделе "Разрешения доступа" щелкните **Изменить** и предоставьте учетной записи локального пользователя разрешения **Local and Remote access** (Локальный и удаленный доступ), а затем нажмите кнопку **ОК**.  
  
8.  Нажмите кнопку **ОК** , чтобы закрыть окно **Свойства DReplayController** .  
  
9. На компьютере контроллера добавьте учетную запись локального пользователя в группу **Пользователи DCOM** .  
  
10. Запустите службу контроллера распределенного воспроизведения SQL Server.  
  
### <a name="13-sql-server-setup-might-fail-while-trying-to-start-the-sql-server-browser-service"></a>1.3. Работа программы установки SQL Server может завершиться ошибкой при попытке запустить службу обозревателя SQL Server  
**Проблема**. работа программы установки SQL Server может завершиться ошибкой при попытке запустить службу обозревателя SQL Server со следующим сообщением об ошибке.  
  
```
The following error has occurred:  
Service 'SQLBrowser' start request failed. Click 'Retry' to retry the failed action, or click 'Cancel' to cancel this action and continue setup.
```
  
или диспетчер конфигурации служб  
  
```
The following error has occurred:  
SQL Server Browser configuration for feature 'SQL_Browser_Redist_SqlBrowser_Cpu32' was cancelled by user after a previous installation failure. The last attempted step: Starting the SQL Server Browser service 'SQLBrowser', and waiting for up to '900' seconds for the process to complete.
```
  
**Решение:** это может происходить, если не удалось установить SQL Server Engine или службы Analysis Services. Чтобы исправить эту проблему, см. журналы программы установки SQL Server и устраните ошибки SQL Server Engine и служб Analysis Services. Дополнительные сведения см. в разделе «Просмотр и чтение файлов журналов программы установки SQL Server». Дополнительные сведения см. в разделе [View and Read SQL Server Setup Log Files](../database-engine/install-windows/view-and-read-sql-server-setup-log-files.md).  
  
### <a name="14-sql-server-2008-2008-r2-analysis-services-failover-cluster-upgrade-to-sql-server-2012-might-fail-after-renaming-the-network-name"></a>1.4. Обновление SQL Server 2008 и отказоустойчивого кластера служб Analysis Services 2008 R2 до SQL Server 2012 может не удаться после смены сетевого имени  
**Проблема**. если изменить сетевое имя экземпляра отказоустойчивого кластера служб Analysis Services Microsoft SQL Server 2008 или 2008 R2 с помощью оснастки "Администратор кластера Windows", то операция обновления может закончиться сбоем.  
  
**Решение:** Для решения этой проблемы обновите запись ClusterName в реестре, следуя указаниям в разделе решения проблем [данной статьи базы знаний](https://support.microsoft.com/kb/955784).  
  
### <a name="15-installing-sql-server-2012-on-windows-server-2008-r2-server-core-service-pack-1"></a>1.5. Установка SQL Server 2012 на Windows Server 2008 R2 Server Core с пакетом обновлений 1 (SP1)  
Вы можете установить SQL SErver на Windows Server 2008 R2 Server Core с пакетом обновлений 1 (SP1) (Server Core) следуя следующим инструкциям.  
  
-   Microsoft SQL Server 2012 не поддерживает установку с помощью мастера установки в операционной системе Server Core. При установке в Server Core программа установки SQL Server поддерживает полностью тихий режим (включается параметром /Q) и просто тихий режим (включается параметром /QS).  
  
-   Обновление более ранних версий SQL Server до Microsoft SQL Server 2012 не поддерживается на компьютере под управлением Windows Server 2008 R2 Server Core с пакетом обновлений 1 (SP1).  
  
-   Установка 32-разрядной версии Microsoft SQL Server 2012 на компьютерах под управлением Windows Server 2008 R2 Server Core с пакетом обновлений 1 (SP1) не поддерживается.  
  
-   Microsoft SQL Server 2012 нельзя установить параллельно с более ранними версиями SQL Server на компьютере под управлением Windows Server 2008 R2 Server Core с пакетом обновлений 1 (SP1).  
  
-   Не все функции SQL Server 2012 поддерживаются операционной системой Server Core. Дополнительные сведения о поддерживаемых функциях и установке SQL Server 2012 на основных серверных компонентах см. в статье [Установка SQL Server 2012 в операционной системе Server Core](https://msdn.microsoft.com/library/hh231669(SQL.110).aspx).  
  
### <a name="16-semantic-search-requires-you-to-install-an-additional-dependency"></a>1.6. Семантический поиск требует установки дополнительной зависимости  
**Проблема**. статистический семантический поиск имеет еще один обязательный компонент — базу данных семантической статистики языка, — который не устанавливается программой установки SQL Server.  
  
**Решение:** чтобы установить базу данных семантической статистики языка как необходимый компонент для семантического индексирования, выполните следующие задачи.  
  
1.  Найдите и запустите пакет установщика Windows с именем SemanticLanguageDatabase.msi на установочном носителе SQL Server, чтобы извлечь базу данных. При использовании экспресс-выпуска SQL Server 2012 скачайте базу данных семантической статистики языка из [Центра загрузки Майкрософт](https://www.microsoft.com/download/details.aspx?id=52681) (https://www.microsoft.com/download/details.aspx?id=52681) ), а затем запустите пакет установщика Windows.  
  
2.  Переместите базу данных в соответствующую папку данных. Если оставить базу данных в папке по умолчанию, то для ее присоединения потребуется изменение разрешений.  
  
3.  Присоедините извлеченную базу данных.  
  
4.  Зарегистрируйте базу данных, вызвав хранимую процедуру **sp_fulltext_semantic_register_language_statistics_db** и указав имя присоединенной базы данных.  
  
Если не выполнить эти действия, то при попытке создать семантический индекс будет выдано следующее сообщение об ошибке.  
  
```
Msg 41209, Level 16, State 3, Line 1  
A semantic language statistics database is not registered. Full-text indexes using 'STATISTICAL_SEMANTICS' cannot be created or populated.
```
  
### <a name="17-installation-prerequisite-handling-during-sql-server-2012-setup"></a>1.7. Предварительные условия для установки SQL Server 2012  
Далее описаны предварительные условия для установки SQL Server 2012.  
  
-   Установку SQL Server 2012 можно выполнить только на операционных системах Windows 7 с пакетом обновлений 1 (SP1) и Windows Server 2008 R2 с пакетом обновлений 1 (SP1). Однако программа установки не блокирует установку SQL Server 2012 на Windows 7 или Windows Server 2008 R2.  
  
-   Наличие платформы .NET Framework 3.5 с пакетом обновления 1 (SP1) является обязательным для SQL Server 2012, если для установки выбраны компонент ядра СУБД, средства репликации, службы Master Data Services, службы Reporting Services, службы Data Quality Services или среда SQL Server Management Studio. Платформа больше не устанавливается программой установки SQL Server.  
  
    -   Если программа установки запускается на компьютере, работающем под управлением Windows Vista с пакетом обновления 2 (SP2) или Windows Server 2008 с пакетом обновления 2 (SP2), и платформа .NET Framework 3.5 с пакетом обновления 1 (SP1) не установлена, то программа установки SQL Server потребует загрузить и установить эту платформу, прежде чем можно будет продолжить установку SQL Server. Платформу .NET Framework 3.5 с пакетом обновления 1 (SP1) можно скачать в Центре обновления Windows или напрямую [отсюда](https://www.microsoft.com/download/details.aspx?id=25150). Чтобы избежать прерывания во время установки SQL Server, загрузите и установите платформу .NET 3.5 с пакетом обновления 1 (SP1) перед запуском программы установки SQL Server.  
  
    -   Если установка запускается на компьютере, работающем под управлением Windows 7 с пакетом обновления 1 (SP1) или Windows Server 2008 R2 с пакетом обновления 1 (SP1), необходимо включить платформу .NET Framework 3.5 с пакетом обновления 1 (SP1) перед началом установки SQL Server 2012.  
  
        **Чтобы включить платформу .NET Framework 3.5 с пакетом обновления (SP1) на Windows Server 2008 R2 с пакетом обновления 1 (SP1), используйте один из следующих методов.**  
  
        Метод 1. Используйте диспетчер серверов  
  
        1.  В диспетчере серверов щелкните **Добавить компоненты** , чтобы отобразить список доступных компонентов.  
  
        2.  В окне **Выбор компонентов** разверните запись **Возможности .NET Framework 3.5.1** .  
  
        3.  Когда **Возможности .NET Framework 3.5.1** будут развернуты, на экране появятся два флажка. Один флажок для компонента .NET Framework 3.5.1, другой ― для компонента «Активация WCF». Выберите **.NET Framework 3.5.1** и нажмите кнопку **Далее**. Нельзя установить компоненты .NET Framework 3.5.1, если не установлены необходимые службы ролей и компоненты.  
  
        4.  На странице **Подтверждение установки компонентов** просмотрите сводку по установке и щелкните "Установить".  
  
        5.  Подождите завершения процесса установки и нажмите кнопку **Закрыть**.  
  
        Метод 2. Использование Windows PowerShell  
  
        1.  Щелкните **Пуск** | **Все программы** | **Стандартные**.  
  
        2.  Разверните папку **Windows PowerShell**, щелкните правой кнопкой мыши **Windows PowerShell** и выберите команду **Запуск от имени администратора**. Нажмите кнопку **Да** в диалоговом окне **Контроль учетных записей пользователей** .  
  
        3.  В командной строке PowerShell введите следующие команды, нажимая клавишу ВВОД после ввода каждой команды:  
  
            ```  
            Import-Module ServerManager  
            Add-WindowsFeature as-net-framework  
            ```  
  
        **Чтобы включить платформу .NET Framework 3.5 с пакетом обновления 1 (SP1) на Windows 7 с пакетом обновления 1 (SP1), используйте следующий метод.**  
  
        1.  Выберите **Пуск** | **Панель управления** | **Установка и удаление программ**, а затем **Включение или отключение компонентов Windows**. Если появится запрос пароля администратора или подтверждения, введите пароль или подтверждение.  
  
        2.  Чтобы включить **Microsoft .NET Framework 3.5.1**, установите флажок рядом с этим компонентом. Чтобы отключить компонент Windows, снимите флажок.  
  
        3.  Нажмите кнопку **ОК**.  
  
        **Включите .NET Framework 3.5 с пакетом обновления 1 (SP1) с помощью системы обслуживания образов развертывания и управления ими (DISM.exe):**  
  
        Также можно включить .NET Framework 3.5 с пакетом обновления 1 (SP1) с помощью системы обслуживания образов развертывания и управления ими (DISM.exe). Дополнительные сведения о включении компонентов Windows по сети см. в разделе [Включение и отключение компонентов Windows в интерактивном режиме](https://technet.microsoft.com/library/dd744582(WS.10).aspx). Для включения .NET Framework 3.5 с пакетом обновления 1 (SP1) выполните следующие инструкции.  
  
        1.  В командной строке введите следующую команду для просмотра списка компонентов, имеющихся в операционной системе.  
  
            ```  
            sm /online /Get-Features  
            ```  
  
        2.  Необязательное действие: в командной строке введите следующую команду для просмотра сведений о конкретном компоненте, интересующем вас.  
  
            ```  
            Dism /online /Get-FeatureInfo /FeatureName:NetFx3  
            ```  
  
        3.  Чтобы включить платформу Microsoft .NET Framework 3.5.1, введите следующую команду.  
  
            ```  
            Dism /online /Enable-Feature /FeatureName:NetFx3  
            ```  
  
-   Платформа .NET Framework 4 является необходимым условием для установки SQL Server 2012. Программа установки SQL Server устанавливает платформу .NET Framework 4 во время установки компонентов.  
  
    SQL Server 2012 Express не устанавливает платформу .NET Framework 4 при установке на компьютер под управлением Windows Server 2008 R2 Server Core с пакетом обновления 1 (SP1). При установке SQL Server 2012 Express (только база данных) .NET Framework 4 не требуется, если присутствует .NET Framework 3.5 с пакетом обновлений 1 (SP1). Если платформа .NET Framework 3.5 с пакетом обновлений 1 (SP1) отсутствует, а также при установке SQL Server 2012 Management Studio Express, SQL Server 2012 Express с инструментами или SQL Server 2012 Express с дополнительными службами следует установить .NET Framework 4 перед установкой SQL Server2012 Express на операционную систему Windows Server 2008 R2 SP1 Server Core.  
  
-   Чтобы обеспечить правильность установки компонента Visual Studio, SQL Server потребует установить обновление. Программа установки SQL Server проверит наличие этого обновления и потребует загрузить и установить его, прежде чем можно будет продолжить установку SQL Server. Чтобы избежать прерывания программы установки SQL Server, можно загрузить и установить это обновление перед запуском программы установки SQL Server, как описано далее (или установить все обновления для платформы .NET Framework 3.5 с пакетом обновления 1 (SP1), доступные в центре обновления Windows).  
  
    -   Если SQL Server 2012 устанавливается на компьютере под управлением Windows Vista с пакетом обновления 2 (SP2) или Windows Server 2008 с пакетом обновления 2 (SP2), необходимое обновление можно получить [здесь](https://support.microsoft.com/?kbid=956250).  
  
    -   Если SQL Server 2012 устанавливается на компьютере под управлением Windows 7 с пакетом обновления 1 (SP1) или Windows Server 2008 R2 с пакетом обновления 1 (SP1), это обновление уже установлено на компьютере.  
  
-   Наличие Windows PowerShell 2.0 является необходимым условием для установки компонента ядра СУБД SQL Server 2012 и среды SQL Server Management Studio, однако программа установки SQL Server больше не устанавливает Windows PowerShell. Если компонент PowerShell 2.0 отсутствует на компьютере, его можно включить, следуя указаниям, приведенным на странице [Windows Management Framework](https://support.microsoft.com/kb/968929) . Способ установки Windows PowerShell 2.0 зависит от используемой операционной системы:  
  
    -   Windows Server 2008 — Windows PowerShell 1.0 является компонентом, и его можно добавить. Версии Windows PowerShell 2.0 загружаются и устанавливаются (фактически как обновление для ОС).  
  
    -   Windows 7/Windows Server 2008 R2 — по умолчанию устанавливается Windows PowerShell 2.0.  
  
-   Если планируется использовать SQL Server 2012 в среде SharePoint, необходимы SharePoint Server 2010 с пакетом обновлений 1 (SP1) и августовское накопительное обновление SharePoint. Необходимо установить пакет обновления 1 (SP1), [августовский накопительный пакет обновления SharePoint](https://blogs.technet.com/b/stefan_gossner/archive/2010/09/02/august-2010-cumulative-update-for-sharepoint-has-been-released.aspx)и полностью применить исправления на ферме серверов перед началом добавления к ферме компонентов SQL Server 2012. Это требование распространяется на следующие функции SQL Server 2012: использование экземпляра ядра СУБД в качестве сервера базы данных фермы, настройка PowerPivot для SharePoint и развертывание служб Reporting Services в режиме совместимости с SharePoint.  
  
### <a name="18-supported-operating-systems-for-sql-server-2012"></a>1.8. Поддерживаемые версии операционных систем для SQL Server 2012  
SQL Server 2012 поддерживается в следующих операционных системах: Windows Vista с пакетом обновления 2 (SP2), Windows Server 2008 с пакетом обновления 2 (SP2), Windows 2008 R2 с пакетом обновления 1 (SP1) и Windows 7 с пакетом обновления 1 (SP1).  
  
### <a name="19-sync-framework-is-not-included-in-the-installation-package"></a>1.9. Платформа Sync Framework не включена в установочный пакет  
**Проблема**. платформа Sync Framework не включена в установочный пакет SQL Server 2012  
  
**Решение:** Скачайте соответствующую версию платформы Sync Framework на [этой странице Центра загрузки Майкрософт](https://www.microsoft.com/download/en/details.aspx?displaylang=en&id=23217).  
  
### <a name="110-if-visual-studio-2010-service-pack-1-is-uninstalled-the-sql-server-2012-instance-must-be-repaired-to-restore-certain-components"></a>1.10. В случае удаления пакета обновления 1 (SP1) для среды Visual Studio 2010 экземпляр SQL Server 2012 необходимо исправить, чтобы восстановить определенные компоненты  
**Проблема.** Для установки [!INCLUDE[ssSQL11](../includes/sssql11-md.md)] требуются некоторые компоненты Visual Studio 2010 с пакетом обновления 1 (SP1). При удалении пакета обновления 1 (SP1) версия некоторых общих компонентов понижается до первоначальной, некоторые же другие компоненты полностью удаляются с компьютера.  
  
**Решение:** выполните исправление экземпляра [!INCLUDE[ssSQL11](../includes/sssql11-md.md)] с помощью исходного носителя или из сетевого расположения.  
  
1.  Запустите программу установки SQL Server (setup.exe) с установочного носителя SQL Server.  
  
2.  После выполнения необходимых условий и проверки системы программа установки выводит страницу **центра установки SQL Server** .  
  
3.  Для начала операции исправления нажмите кнопку **Обслуживание** в левой части области навигации, а затем кнопку **Исправление** . Если центр установки был запущен из меню **Пуск** , то в этот раз потребуется указать расположение установочного носителя.  
  
4.  Будут запущены правило поддержки установки и файлы подпрограмм, чтобы удостовериться, что в системе установлены необходимые компоненты и что компьютер отвечает правилам проверки. Для продолжения нажмите кнопку **ОК** или **Установить** .  
  
5.  На странице **Выбор экземпляра** выберите экземпляр для исправления и нажмите кнопку **Далее** , чтобы продолжить.  
  
6.  Будут запущены правила исправления для проверки операции. Чтобы продолжить, нажмите кнопку **Далее**.  
  
7.  На странице **Готовность к исправлению** показано, что операция готова к продолжению. Чтобы продолжить, нажмите кнопку **Исправить**.  
  
8.  На странице **Ход исправления** показано состояние операции исправления. На странице **Готово** показано, что операция завершена.  
  
Дополнительные сведения об исправлении экземпляра SQL Server см. в статье [Исправление неисправной установки SQL Server 2012](../database-engine/install-windows/repair-a-failed-sql-server-installation.md).  
  
### <a name="111-an-instance-of-sql-server-2012-might-fail-after-an-os-upgrade"></a>1.11. Экземпляр SQL Server 2012 может перестать работать после обновления операционной системы  
**Проблема**. работа экземпляра SQL Server 2012 может быть прервана следующей ошибкой после обновления операционной системы с Windows Vista до Windows 7 с пакетом обновления 1 (SP1).  
  
`Setup has detected that the .NET Framework version 4 needs to be repaired. Do not restart your computer until Setup is complete.`  
  
**Возможное решение**: исправьте установку .NET Framework 4 после обновления операционной системы. Дополнительные сведения см. в статье [Как восстановить существующую установку .NET Framework](https://support.microsoft.com/kb/306160).  
  
### <a name="112-sql-server-edition-upgrade-requires-a-restart"></a>1.12. После обновления SQL Server Edition необходимо выполнить перезагрузку  
**Проблема**. При обновлении выпуска экземпляра SQL Server 2012 некоторые функции, связанные с новым выпуском, не могут быть включены немедленно.  
  
**Возможное решение**: перезапустите компьютер после обновления выпуска экземпляра SQL Server 2012. Дополнительные сведения о поддерживаемых обновлениях SQL Server 2012 см. в статье [Поддерживаемые обновления версий и выпусков](../database-engine/install-windows/supported-version-and-edition-upgrades-2017.md).  
  
### <a name="113-database-with-read-only-filegroup-or-files-cannot-be-upgraded"></a>1.13. Нельзя обновить базу данных с файловой группой или файлами только для чтения  
**Проблема**.  Невозможно обновить базу данных путем ее присоединения или восстановления из резервной копии, если для базы данных или ее файлов и файловых групп установлен режим только для чтения.  Возвращается ошибка 3415.  Эта проблема также возникает при обновлении на месте экземпляра SQL Server. То есть вы пытаетесь заменить имеющийся экземпляр SQL Server, устанавливая SQL Server 2012, и одна или более из существующих баз данных работают режиме «только для чтения».  
  
**Решение:** перед обновлением убедитесь, что для базы данных и ее файлов и файловых групп установлен режим чтения-записи.  
  
### <a name="114-reinstalling-an-instance-of-sql-server-failover-custer-fails-if-you-use-the-same-ip-address"></a>1.14. Переустановка экземпляра отказоустойчивого кластера SQL Server завершается ошибкой, если используется один и тот же IP-адрес  
**Проблема**. при указании неверного IP-адреса во время установки экземпляра отказоустойчивого кластера SQL Server установка завершается сбоем. После удаления сбойного экземпляра при попытке повторной установки экземпляра отказоустойчивого кластера SQL Server с тем же именем экземпляра и правильным IP-адресом установка также завершается сбоем. Сбой возникает в связи с повторяющейся группой ресурсов, которая остается после предыдущей попытки установки.  
  
**Решение:** для решения этой проблемы используйте другое имя экземпляра во время повторной установки или вручную удалите группу ресурсов перед повторной установкой. Дополнительные сведения см. на странице [Добавление и удаление узлов в отказоустойчивом кластере SQL Server](failover-clusters/install/add-or-remove-nodes-in-a-sql-server-failover-cluster-setup.md).  
  
![горизонтальная_полоса](media/horizontal-bar.png "horizontal_bar")  
  
## <a name="20-analysis-services"></a><a name="AS"></a>2.0. Службы Analysis Services  
  
### <a name="21-sql-editor-and-as-editor-cannot-connect-to-their-respective-server-instances-in-the-same-ssms-instance"></a>2.1. Редактор SQL и редактор AS не могут связаться с соответствующими серверными экземплярами в одном экземпляре среды SSMS  
**Проблема**. не удается подключиться к серверу служб Analysis Services с помощью редактора многомерных выражений (MDX) или расширения интеллектуального анализа данных (DMX), если уже подключен редактор SQL.  
  
Если при использовании SQL Server Management Studio 2012 (SSMS) SQL-файл открыт в редакторе и связан с экземпляром SQL Server, файл многомерных выражений или расширения интеллектуального анализа данных при открытии в том же экземпляре среды SSMS не может связаться с экземпляром сервера AS. Аналогичным образом, если файл многомерных выражений (MDX) или расширения интеллектуального анализа данных (DMX) уже открыт в редакторе в среде SSMS и связан с экземпляром сервера AS, SQL-файл, будучи открыт в том же экземпляре SSMS, не может соединиться с экземпляром SQL Server.  
  
**Возможное решение**:  чтобы устранить эту неполадку, выполните одно из следующих действий.  
  
-   Запустите другой экземпляр среды SSMS для открытия файла многомерных выражений/расширения интеллектуального анализа данных.  
  
-   Разорвите подключение редактора SQL к серверу AS и затем подключите к этому серверу редактор многомерных выражений или расширения интеллектуального анализа данных.  
  
### <a name="22-cannot-create-or-open-tabular-projects-when-builtinadministrators-group-name-cannot-be-resolved"></a>2.2. Нельзя создать или открыть табличный проект, если не разрешается имя группы BUILTIN\Administrators  
**Проблема**. необходимо иметь права администратора на сервере базы данных рабочей области, чтобы создавать или открывать табличные проекты. Можно добавить пользователя в группу администраторов сервера, добавив имя пользователя или группы. Нельзя создавать или изменять BIM-файлы с правами члена группы BUILTIN\Administrator, если сервер базы данных рабочей области не присоединен к домену, на котором он изначально находился. При попытке открыть или создать BIM-файл будет выдано следующее сообщение об ошибке:  
  
`"The BIM file cannot be opened. The server connected to is not valid. Reason: You are not an administrator of server [server name]."`  
  
**Решения.**  
  
-   Повторно подключите сервер базы данных рабочей области и компьютер с SQL Server Data Tools (SSDT) к домену.  
  
-   Если сервер базы данных рабочей области или компьютеры SSDT не будут подключены к домену постоянно, можно вместо этого добавить имена отдельных пользователей группы BUILTIN\Administrators в качестве администраторов сервера базы данных рабочей области.  
  
### <a name="23-ssis-components-for-as-tabular-models-do-not-work-as-expected"></a>2.3. Компоненты служб SSIS для табличных моделей служб Analysis Services работают неверно  
Компоненты служб SQL Server Integration Services (SSIS) для служб Analysis Services работают неверно для табличных моделей. Существуют следующие известные проблемы при написании пакета служб SSIS для работы с табличными моделями.  
  
**Проблема**. диспетчер соединений со службами Analysis Services не может использовать табличную модель как источник данных.  
  
**Решение:** необходимо явным образом подключиться к серверу служб Analysis Services перед началом настройки задания обработки служб Analysis Services или задания выполнения DLL-библиотеки служб Analysis Services.  
  
Существуют проблемы, связанные с заданием обработки служб Analysis Services во время работы с табличными моделями.  
  
**Проблема**. вместо баз данных, таблиц и секций пользователь видит кубы, группы мер и измерений. В этом заключается ограничение данной задачи.  
  
**Решение:** при этом табличную модель все же можно обработать с помощью куба, группы мер или структуры измерений.  
  
**Проблема**. некоторые параметры обработки, поддерживаемые службами Analysis Services в табличном режиме, не представлены в задаче обработки служб Analysis Services, таких как "Обработать дефрагментацию".  
  
**Решение:** вместо этого воспользуйтесь задачей "Выполнение инструкции DDL служб Analysis Services" для запуска скрипта XMLA, содержащего команду ProcessDefrag.  
  
**Проблема**. некоторые параметры конфигурации в этом средстве неприменимы. Например, параметр «Обработка связанных объектов» не следует использовать при обработке секций, а параметр конфигурации «Параллельная обработка» содержит неверное сообщение об ошибке, в котором говорится, что в стандартном номере SKU параллельная обработка не поддерживается.  
  
**Решение:** None  
  
![горизонтальная_полоса](media/horizontal-bar.png "horizontal_bar")  
  
## <a name="30-books-online"></a><a name="BOL"></a>3.0. Электронная документация  
  
### <a name="31-help-viewer-for-sql-server-crashes-in-environments-configured-to-run-only-ipv6"></a>3.1. Средство просмотра справки для SQL Server аварийно завершает работу в средах, где настроено использование только IPv6  
**Проблема**. Если в среде настроено использование только протокола IPv6, то средство просмотра справки SQL Server 2012 версии с рабочим названием Denali аварийно завершит работу, а на экране появится следующее сообщение об ошибке:  
  
`HelpLibAgent.exe has stopped working.`  
  
> [!IMPORTANT]  
> Это верно для всех сред, где работает только протокол IPv6. Среды, в которых разрешен протокол IPv4 (или оба протокола — IPv4 и IPv6), не затрагиваются.  
  
**Возможное решение**: чтобы решить эту проблему, включите протокол IPv4 либо добавьте параметр реестра и создайте ACL, чтобы обеспечить работу средства просмотра справки по протоколу IPv6, с помощью следующей процедуры.  
  
1.  В HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Help\v1.0. создайте раздел реестра IPv6 и присвойте ему значение "1 (DWORD (32 бита))".  
  
2.  Задайте список управления доступом безопасности для порта протокола IPv6, выполнив следующую команду из окна командной строки администратора:  
  
    ```  
    netsh http add urlacl url=https://[::1]:47873/help/ sddl=D:(A;;GX;;;WD)  
    ```  
  
![горизонтальная_полоса](media/horizontal-bar.png "horizontal_bar")  
  
## <a name="40-data-quality-services"></a><a name="DQS"></a>4.0. Службы Data Quality Services  
  
### <a name="41-dqs-not-supported-in-a-cluster"></a>4.1. Службы DQS не поддерживаются в кластере  
**Проблема**. службы DQS не поддерживаются в кластерной установке SQL Server. Если устанавливается экземпляр кластера SQL Server, не следует устанавливать флажки **Службы Data Quality Services** и **Клиент служб Data Quality** на странице **Выбор компонентов** . Если эти флажки выбраны во время установки экземпляра кластера (а установка сервера DQS выполняется путем запуска файла DQSInstaller.exe), то службы DQS будут установлены на этом узле, но не будут доступны на дополнительных узлах при добавлении узлов в кластер и, как следствие, не будут работать на дополнительных узлах.  
  
**Решение:** для устранения этой проблемы установите накопительное обновление 1 для SQL Server 2012. Инструкции см. в разделе [https://support.microsoft.com/kb/2674817](https://support.microsoft.com/kb/2674817).  
  
### <a name="42-to-reinstall-data-quality-server-delete-the-dqs-objects-after-uninstalling-data-quality-server"></a>4.2. Переустановка сервера служб Data Quality путем удаления объекта DQS после удаления сервера Data Quality  
**Проблема**. при удалении сервера Data Quality (DQS) объекты DQS (базы данных, имена входа и хранимые процедуры DQS) не удаляются из экземпляра SQL Server.  
  
**Решение:** чтобы переустановить сервер Data Quality на том же компьютере и на том же экземпляре SQL Server, необходимо вручную удалить объекты DQS из экземпляра SQL Server. Кроме того, следует удалить файлы баз данных DQS (DQS_MAIN, DQS_PROJECTS и DQS_STAGING_DATA) из папки C:\Program Files\Microsoft SQL Server\MSSQL11.&lt;<Экземпляр_SQL_Server>&gt;\MSSQL\DATA на компьютере, прежде чем повторно устанавливать сервер Data Quality. В противном случае установка сервера Data Quality завершится ошибкой. Переместите файлы баз данных вместо удаления, если необходимо сохранить данные, например базы знаний или проекты служб DQS. Дополнительные сведения об удалении объектов DQS после завершения удаления см. в статье [Удаление объектов служб Data Quality Services](https://msdn.microsoft.com/library/hh231667.aspx).  
  
### <a name="43-indication-of-a-terminated-knowledge-discovery-or-interactive-cleansing-activity-is-delayed"></a>4.3. Указание завершенной операции обнаружения знания или интерактивной очистки задерживается  
**Проблема**. если администратор завершает выполнение операции с экрана мониторинга активности, то интерактивный пользователь, запустивший обнаружение набора знаний, управление доменом или интерактивную очистку, не получит сообщения о том, что его операция была завершена, пока не будет выполнена следующая операция.  
  
**Решение:** None  
  
### <a name="44-a-cancel-operation-discards-work-from-multiple-activities"></a>4.4. Операция отмены уничтожает результаты работы нескольких операций  
**Проблема**. Если нажать кнопку **Отмена** при выполнении операции обнаружения знаний или управления доменом, когда другие операции уже завершились, но не выполнили публикацию, то будут потеряны результаты не только текущей операции, но и всех операций, выполненных с момента последней публикации.  
  
**Решение:** чтобы избежать этого, выполните публикацию результатов работы, которую необходимо сохранить в базе знаний, прежде чем начинать новую операцию.  
  
### <a name="45-controls-do-not-scale-properly-on-large-font-sizes"></a>4.5. Элементы управления не масштабируются при укрупнении шрифта  
**Проблема**. При изменении размера текста на "Больше — 150 %" (в Windows Server 2008 или Windows 7) или установке значения 200 % для параметра "Особый масштаб" (в Windows 7) кнопки **Отмена** и **Создать** будут недоступны на странице **Создать базу знаний**.  
  
**Решение:** Чтобы избежать этого, установите более мелкий шрифт.  
  
### <a name="46-screen-resolution-of-800x600-is-not-supported"></a>4.6. Разрешение экрана 800x600 не поддерживается  
**Проблема**. клиентское приложение служб Data Quality отображается неправильно, если задано значение разрешения экрана 800x600.  
  
**Решение:** чтобы избежать этого, установите более высокое значение для разрешения экрана.  
  
### <a name="47-map-bigint-column-in-the-source-data-to-a-decimal-domain-to-prevent-data-loss"></a>4.7. Сопоставление столбца Bigint исходных данных с десятичным доменом во избежание потери данных  
**Проблема**. Если столбец исходных данных имеет тип данных **bigint**, в службах DQS его необходимо сопоставить с доменом типа данных **decimal**, а не **integer**. Это необходимо, так как тип данных **decimal** представляет более широкий диапазон значений, чем тип данных **int** , и может хранить значения большего размера.  
  
### <a name="48-nvarcharmax-and-varcharmax-data-types-are-not-supported-in-the-dqs-cleansing-component-in-integration-services"></a>4.8. Типы данных NVARCHAR(MAX) и VARCHAR(MAX) не поддерживаются компонентом очистки данных служб DQS в службах Integration Services  
**Проблема**. Столбцы данных типов **nvarchar(max)** и **varchar(max)** не поддерживаются компонентом очистки данных служб DQS в Integration Services. Как таковые эти столбцы данных недоступны для сопоставления на вкладке сопоставления данных в редакторе преобразований очистки данных служб DQS и, следовательно, не могут быть очищены.  
  
**Решение:** До обработки этих столбцов с помощью компонента очистки DQS нужно преобразовать их в **DT_STR** или **DT_WSTR** с помощью преобразования "Преобразование данных".  
  
### <a name="49-the-item-to-run-dqsinstallerexe-on-the-start-menu-is-overwritten-on-new-sql-server-instance-installation"></a>4.9. Пункт меню «Пуск» для запуска DQSInstaller.exe перезаписывается при новой установке экземпляра сервера SQL Server.  
**Проблема**. Если вы решили установить службы Data Quality Services в экземпляре SQL Server, после завершения установки SQL Server в меню **Пуск** в группе **Data Quality Services** создается элемент **Установщик Data Quality Server**. Однако при установке нескольких экземпляров SQL Server на одном и том же компьютере в меню **Пуск** будет по-прежнему только один пункт **Установщик сервера служб Data Quality** . При выборе этого пункта меню запускается файл DQSInstaller.exe экземпляра SQL Server, установленного последним.  
  
### <a name="410-activity-monitoring-displays-incorrect-status-for-failed-integration-services-cleansing-activities"></a>4.10. Мониторинг действий показывает неверное состояние при сбое операций очистки служб Integration Services  
Экран "Мониторинг действия" показывает состояние **Выполнено** в столбце **Текущее состояние** даже при сбое операций очистки служб Integration Services.  
  
### <a name="411-schema-name-is-not-displayed-as-part-of-tableview-name"></a>4.11. Имя схемы не выводится как часть имени таблицы или представления  
При выборе источника данных SQL Server для любой операции DQS на стадии сопоставления в клиенте Data Quality список таблиц и представлений выводится без указания имени схемы. Поэтому если существует несколько таблиц или представлений с одним и тем же именем, но разными схемами, их можно различить только с помощью предварительного просмотра данных или выбором с последующим просмотром полей, доступных для сопоставления.  
  
### <a name="412-issue-with-cleansing-output-and-export-if-data-source-is-mapped-to-a-composite-domain-containing-a-child-domain-of-date-type"></a>4.12. Проблема с выводом очистки и экспортом при сопоставлении источника данных с составным доменом, содержащим дочерний домен типа даты  
В проекте очистки качества данных, если было задано сопоставление поля источника данных с составным доменом, содержащим дочерний домен типа даты, вывод дочернего домена в результатах очистки будет иметь неверный формат даты и операция экспорта в базу данных завершится ошибкой.  
  
### <a name="413-error-when-mapping-to-an-excel-sheet-that-contains-a--semicolon-in-its-name"></a>4.13. Ошибка при сопоставлении с листом Excel, в имени которого есть точка с запятой (;)  
**Проблема**. Если вы выполняете сопоставление с исходным листом Excel, имя которого содержит символ ";" (точку с запятой), на странице **Сопоставление** любого действия DQS в клиенте Data Quality Client, а затем нажимаете кнопку **Далее** на странице **Сопоставление**, выводится сообщение о необработанном исключении.  
  
**Решение:** уберите точку с запятой (;) из имени листа в файле Excel, содержащем данные источника для сопоставления, и повторите попытку.  
  
### <a name="414-issue-with-date-or-datetime-values-in-unmapped-source-fields-in-excel-during-cleansing-and-matching"></a>4.14. Проблема с данными типа Date и DateTime в несопоставленных полях источника данных Excel во время сопоставления и очистки  
**Проблема**. Если источник данных имеет формат Excel и поля источника со значениями типа **Date** или **DateTime** не были сопоставлены, во время операций по очистке и сопоставлению происходит следующее:  
  
-   Несопоставленные значения типа **Date** выводятся и экспортируются в формате гггг-мм-дд.  
  
-   Для несопоставленных значений типа **DateTime** значение времени теряется, и они выводятся и экспортируются в формате гггг-мм-дд.  
  
**Решение:** Несопоставленные значения полей можно увидеть в правой нижней области на странице **Просмотр результатов и управление ими** операции очистки, а также на странице **Сопоставление** операции сопоставления.  
  
### <a name="415-cannot-import-domain-values-from-an-excel-file-xls-containing-more-than-255-columns-of-data"></a>4.15. Невозможно импортировать значения домена из файла Excel (.xls), содержащего более 255 столбцов данных  
**Проблема**. при импорте данных в домен из файла формата Excel 97–2003 (.xls), содержащего более 255 столбцов данных, выдается сообщение об исключении и импорт завершается ошибкой.  
  
**Решение:** устранить эту проблему можно одним из следующих способов.  
  
-   Сохранить XLS-файл как XLSX-файл, а затем импортировать в домен значения из XLSX-файла.  
  
-   Удалить все данные из столбцов, следующих за столбцом 255 в XLS-файле, сохранить файл, а затем импортировать в домен значения из XLS-файла.  
  
### <a name="416-activity-monitoring-feature-is-unavailable-for-roles-other-than-dqs_administrator"></a>4.16. Функция «Мониторинг активности» недоступна для ролей, отличных от dqs_administrator  
Функция «Мониторинг активности» доступна только для пользователей, имеющих роль dqs_administrator. Если учетная запись пользователя обладает ролью dqs_kb_editor или dqs_kb_operator role, функция мониторинга активности будет недоступна в клиентском приложении Data Quality.  
  
### <a name="417-error-on-opening-a-knowledge-base-in-the-recent-knowledge-base-list-for-domain-management"></a>4.17. Ошибка при открытии базы знаний из списка недавно открывавшихся баз знаний для управления доменами  
Проблема При попытке открыть базу знаний из списка **Последняя база знаний** для управления доменом на главном экране клиента Data Quality Client может произойти следующая ошибка:  
  
`"A configuration with name 'RecentList:KB:<domain>\<username>' already exists in the database."`  
  
Проблема возникает из-за различия в способах, которыми DQS и C# сравнивают строки в базе данных SQL Server. Сравнение строк в базе данных SQL Server без учета регистра, а в C# — с учетом.  
  
Покажем это на примере. Рассмотрим пользователя Domain\user1. Пользователь входит на компьютер с клиентом Data Quality Client, используя учетную запись user1, и работает с базой знаний. DQS хранит свежую базу знаний для каждого из пользователей в виде записи в таблице A_CONFIGURATION базы данных DQS_MAIN. В этом случае запись будет сохранена со следующим именем: RecentList:KB:Domain\user1. Позже пользователь входит в компьютер с клиентом Data Quality Client как User1 (с заглавной буквы) и пытается открыть базу знаний в списке **последних баз знаний** для управления доменом. Исходный код DQS сравнит две строки — RecentList:KB:DOMAIN\user1 и DOMAIN\User1 — с учетом регистра в C#, строки не совпадут, а потому DQS попытается создать новую запись для пользователя (User1) в таблице A_CONFIGURATION базы данных DQS_MAIN. Однако из-за нечувствительного к регистру сравнения строк в базе данных SQL строка уже будет существовать в таблице A_CONFIGURATION базы данных DQS_MAIN database, и операция вставки выполнена не будет.  
  
**Решение:** устранить эту проблему можно одним из следующих способов.  
  
-   Убедитесь, что повторяющиеся записи существуют, выполнив следующий запрос:  
  
    ```  
    SELECT * FROM DQS_MAIN.dbo.A_CONFIGURATION WHERE NAME like 'RecentList%'  
    ```  
  
    Затем можно выполнить следующую инструкцию, чтобы удалить запись только для затронутого пользователя, изменив значения в предложении WHERE таким образом, чтобы оно соответствовало нужному домену и имени пользователя.  
  
    ```  
    DELETE DQS_MAIN.dbo.A_Configuration WHERE NAME LIKE 'RecentList%<domain>\<username>'  
    ```  
  
    Также можно удалить все недавно измененные элементы для всех пользователей в DQS:  
  
    ```  
    DELETE DQS_MAIN.dbo.A_Configuration WHERE NAME LIKE 'RecentList%'  
    ```  
  
-   Используйте тот же регистр, что и в последний раз, для указания учетной записи пользователя при входе на клиентский компьютер Data Quality.  
  
> [!NOTE]  
> Во избежание этой проблемы применяйте одни и те же правила использования заглавных букв в имени учетной записи пользователя при входе на клиентский компьютер Data Quality.  
  
![горизонтальная_полоса](media/horizontal-bar.png "horizontal_bar")  
  
## <a name="50-database-engine"></a><a name="DE"></a>5.0. Ядро СУБД  
  
### <a name="51-use-of-distributed-replay-controller-and-distributed-replay-client-features"></a>5.1. Использование контроллера распределенного воспроизведения и функций клиента распределенного воспроизведения  
**Проблема**. контроллер распределенного воспроизведения и компоненты клиента распределенного воспроизведения доступны в Server Core SKU для Windows Server 2008, Windows Server 2008 R2 и Windows Server 7 несмотря на то, что эти два компонента не поддерживаются в Server Core SKU.  
  
**Решение:** не устанавливайте и не используйте эти два компонента в Server Core SKU для Windows Server 2008, Windows Server 2008 R2 и Windows Server 7.  
  
### <a name="52-sql-server-management-studio-depends-on-visual-studio-2010-sp1"></a>5.2. SQL Server Management Studio зависит от Visual Studio 2010 с пакетом обновлений 1 (SP1)  
**Проблема**.  SQL Server 2012 Management Studio зависит от Visual Studio 2010 с пакетом обновлений 1 (SP1) и не может функционировать без него должным образом. Удаление Visual Studio 2010 с пакетом обновлений 1 (SP1) может повлиять на работоспособность SQL Server Management Studio и привести Management Studio в неподдерживаемое состояние. В этом случае могут возникнуть следующие проблемы.  
  
-   Параметры командной строки для ssms.exe не будут работать должным образом.  
  
-   Сведения справки, отображаемые при попытке запустить ssms.exe с параметром /?, будут неверными.  
  
-   Для открытия каждого файла, открываемого двойным щелчком в проводнике Windows, будет запускаться новый экземпляр среды SSMS.  
  
-   Не будет возможности отладить запросы в режиме обычного пользователя.  
  
**Возможное решение**: установите Visual Studio 2010 с пакетом обновлений 1 (SP1) снова и перезапустите Management Studio.  
  
### <a name="53-x64-operating-systems-require-64-bit-powershell-20"></a>5.3. Для операционных систем x64 требуется 64-разрядная версия PowerShell 2.0  
**Проблема**. 32-разрядные установки расширений Windows PowerShell для SQL Server не поддерживаются для экземпляров SQL Server 2012, работающих в 64-разрядных операционных системах.  
  
**Решения.**  
  
-   Установите 64-разрядную SQL Server 2012 с 64-разрядными средствами управления и 64-разрядными расширениями Windows PowerShell для SQL Server.  
  
-   Либо импортируйте модуль SQLPS из 32-разрядной версии Windows PowerShell 2.0.  
  
### <a name="54-an-error-might-occur-when-navigating-in-the-generate-script-wizard"></a>5.4. При навигации по мастеру формирования скриптов может возникать ошибка  
**Проблема**. После создания скрипта в мастере создания скриптов путем нажатия кнопки **Сохранить или опубликовать скрипты** с дальнейшим переходом к разделам **Выбрать параметры** или **Задание параметров скриптов** повторное нажатие кнопки **Сохранить или опубликовать скрипты** может вызывать следующую ошибку:  
  
```
An exception occurred while executing a Transact-SQL statement or batch. (Microsoft.SqlServer.ConnectionInfo)  
------------------------------  
ADDITIONAL INFORMATION:  
Invalid object name 'sys.federations'. (Microsoft SQL Server, Error: 208)
```
  
**Решение:** закройте и снова откройте мастер формирования скриптов.  
  
### <a name="55-new-maintenance-plan-layout-not-compatible-with-earlier-sql-server-tools"></a>5.5. Новый макет плана обслуживания несовместим с более ранними средствами SQL Server  
**Проблема**. при использовании средств управления SQL Server 2012 для изменения существующего плана обслуживания, созданного в предыдущей версии средств управления SQL Server (SQL Server 2008 R2, SQL Server 2008 или SQL Server 2005), план обслуживания сохраняется в новом формате. Предыдущие версии средств управления SQL Server этот новый формат не поддерживают.  
  
**Возможное решение**: None  
  
### <a name="56-intellisense-has-limitations-when-logged-in-to-a-contained-database"></a>5.6. Технология Intellisense имеет ограничения при входе в автономную базу данных  
Проблема Технология Intellisense в SQL Server Management Studio (SSMS) и SQL Server Data Tools (SSDT) не работает должным образом, когда автономные пользователи выполнили вход в автономную базу данных. В этом случае наблюдается следующее:  
  
1.  Не появляется подчеркивание для недопустимых объектов.  
  
2.  Не появляется список автозавершения.  
  
3.  Не появляются подсказки по встроенным функциям.  
  
**Возможное решение**:  None  
  
### <a name="57-alwayson-availability-groups"></a>5.7. Группы доступности AlwaysOn  
Прежде чем создавать группу доступности, ознакомьтесь со статьей электронной документации [Предварительные требования, ограничения и рекомендации для групп доступности AlwaysOn (SQL Server)](https://go.microsoft.com/?linkid=9753168) . Для общего ознакомления с группами доступности AlwaysOn см. статью электронной документации [Обзор групп доступности AlwaysOn (SQL Server)](https://go.microsoft.com/?linkid=9753166).  
  
#### <a name="571-client-connectivity-for-alwayson-availability-groups"></a>5.7.1. Подключение клиента для групп доступности AlwaysOn  
**Дата обновления:** 13 августа 2012 г.  
  
В этом разделе описывается поддержка драйверов для групп доступности AlwaysOn и решения для неподдерживаемых драйверов.  
  
**Поддержка драйверов**  
  
В следующей таблице приведены сведения о поддержке драйверов для групп доступности AlwaysOn.  
  
|Драйвер|Отработка отказа с использованием нескольких подсетей|Назначение приложения|Маршрутизация только для чтения|Отработка отказа в нескольких подсетях: ускоряет отработку отказа конечной точки одной подсети|Отработка отказа в нескольких подсетях: разрешение именованного экземпляра для кластеризованных экземпляров SQL|  
|----------|--------------------------|----------------------|----------------------|------------------------------------------------------------------|---------------------------------------------------------------------------------|  
|SQL Native Client 11.0 ODBC|Да|Да|Да|Да|Да|  
|SQL Native Client 11.0 OLEDB|нет|Да|Да|нет|нет|  
|ADO.NET с платформой .NET Framework 4.0 с улучшением подключения **\&#42;**|Да|Да|Да|Да|Да|  
|ADO.NET с платформой .NET Framework 3.5 с пакетом обновления 1 (SP1) с улучшением подключения **\&#42;\&#42;**|Да|Да|Да|Да|Да|  
|Драйвер Microsoft JDBC 4.0 для SQL Server|Да|Да|Да|Да|Да|  
  
**\&#42;** Скачайте исправление подключения для ADO.NET с платформой .NET Framework 4.0: [https://support.microsoft.com/kb/2600211](https://support.microsoft.com/kb/2600211).  
  
**\&#42;\&#42;** Скачайте исправление подключения для ADO.NET с платформой .NET Framework 3.5 с пакетом обновления 1 (SP1): [https://support.microsoft.com/kb/2654347](https://support.microsoft.com/kb/2654347).  
  
**Ключевое слово и связанные функции MultiSubnetFailover**  
  
MultiSubnetFailover — это новое ключевое слово строки подключения, которое обеспечивает ускоренную отработку отказа для групп доступности AlwaysOn и экземпляров отказоустойчивых кластеров AlwaysOn в SQL Server 2012. Если в строке подключения задано условие MultiSubnetFailover=True, то включаются следующие три дополнительные функции.  
  
-   Ускоренная отработка отказа для нескольких подсетей с прослушивателем для группы доступности AlwaysOn или экземпляров отказоустойчивых кластеров.  
  
    -   Разрешение именованного экземпляра в экземпляр отказоустойчивого кластера группы доступности AlwaysOn в нескольких подсетях.  
  
-   Ускоренная отработка отказа для одной подсети с прослушивателем для группы доступности AlwaysOn или экземпляров отказоустойчивых кластеров.  
  
    -   Эта функция используется при подключении к прослушивателю с одним IP-адресом в одной подсети. В результате этого выполняется большее число попыток подключения по протоколу TCP, что дает возможность ускорить отработку отказа в одной подсети.  
  
-   Разрешение именованного экземпляра в экземпляр отказоустойчивого кластера группы доступности AlwaysOn в нескольких подсетях.  
  
    -   Эта функция необходима для добавления поддержки разрешения именованного экземпляра для экземпляров отказоустойчивых кластеров группы доступности AlwaysOn с конечными точками в нескольких подсетях.  
  
**MultiSubnetFailover=True не поддерживается платформой NET Framework 3.5 или OLEDB**  
  
**Проблема**. если у группы доступности или экземпляра отказоустойчивого кластера есть имя прослушивателя (в диспетчере кластеров WSFC оно называется сетевым именем или точкой доступа клиентов), в зависимости от нескольких IP-адресов из разных подсетей, и при этом используется ADO.NET с платформой .NET Framework 3.5 с пакетом обновления 1 (SP1) или OLE DB для собственного клиента SQL Server Native Client 11.0, то потенциально 50 % запросов на подключение клиентов к прослушивателю группы доступности исчерпают время ожидания подключения.  
  
**Решения.** Рекомендуется выполнить одну из следующих задач.  
  
-   При отсутствии разрешения на работу с ресурсами кластера измените время ожидания соединения на 30 секунд (это означает 20 секунд ожидания TCP плюс 10-секундный буфер).  
  
    **Преимущества**. В случае отработки отказа по нескольким подсетям обеспечивается быстрое восстановление клиента.  
  
    **Недостатки**. Установление половины соединений клиентов потребует более 20 секунд.  
  
-   При наличии разрешений на работу с ресурсами кластера рекомендуется задать **RegisterAllProvidersIP**=0 в качестве сетевого имени прослушивателя группы доступности. Дополнительные сведения см. в пункте «Образец скрипта PowerShell для отключения RegisterAllProvidersIP и сокращения TTL» далее в этом разделе.  
  
    **Преимущества**. Не потребуется увеличивать значение времени ожидания соединения клиента.  
  
    **Недостатки**. При отработке отказа по нескольким подсетям на восстановление клиента может уйти до 15 минут или более в зависимости от значения параметра HostRecordTT, а также графика междоменной репликации DNS/AD.  
  
**Образец скрипта PowerShell для отключения RegisterAllProvidersIP и сокращения TTL**  
  
Следующий образец скрипта PowerShell показывает, как отключить `RegisterAllProvidersIP` и сократить время жизни пакетов (TTL). Замените `yourListenerName` на имя изменяемого прослушивателя.  
  
```  
Import-Module FailoverClusters  
Get-ClusterResource yourListenerName|Set-ClusterParameter RegisterAllProvidersIP 0  
Get-ClusterResource yourListenerName|Set-ClusterParameter HostRecordTTL 300  
```  
  
#### <a name="572-upgrading-from-ctp3-with-availability-group-configured-is-not-supported"></a>5.7.2. Обновление с CTP3-версии с настроенной группой доступности не поддерживается  
Удалите группу доступности и создайте ее заново перед началом обновления. Это объясняется ограничением сборки CTP3-версии. В последующих сборках этого ограничения не будет.  
  
#### <a name="573-side-by-side-installation-of-ctp3-with-later-versions-is-not-supported-if-you-have-an-availability-group-configured-in-your-instance"></a>5.7.3. Параллельная установка CTP3-версии с более поздними версиями не поддерживается, если на экземпляре имеется настроенная группа доступности  
Это объясняется ограничением сборки CTP3-версии. В последующих сборках этого ограничения не будет.  
  
#### <a name="574-side-by-side-installation-of-ctp3-with-later-versions-of-failover-cluster-instances-is-not-supported"></a>5.7.4. Параллельная установка CTP3-версии с более поздними версиями экземпляров отказоустойчивых кластеров не поддерживается.  
Это объясняется ограничением сборки CTP3-версии. В последующих сборках этого ограничения не будет. Прежде чем обновлять экземпляры отказоустойчивых кластеров с CTP3-версии, убедитесь, что все экземпляры узла будут обновлены одновременно.  
  
#### <a name="575--timeouts-may-occur-when-using-multi-ips-in-the-same-subnet-with-alwayson"></a>5.7.5. Может наблюдаться превышение времени ожидания при использовании нескольких IP в одной подсети с AlwaysOn  
**Проблема**. при использовании нескольких IP в одной подсети с Always On пользователи могут наблюдать превышение времени ожидания. Это происходит при плохом верхнем IP в списке.  
  
**Решение:** используйте 'multisubnetfailover = true' в строке подключения.  
  
#### <a name="576-failure-to-create-new-availability-group-listeners-because-of-active-directory-quotas"></a>5.7.6. Невозможность создать новые прослушиватели группы доступности из-за квот Active Directory  
**Проблема**. Создание нового прослушивателя группы доступности может завершиться неудачей в случае превышения квоты Active Directory для учетной записи участвующего узла кластера. Дополнительные сведения см. в статье [Устранение неполадок с учетной записью службы кластеров для изменения объектов компьютеров](https://support.microsoft.com/kb/307532) и [Active Directory Quotas](https://technet.microsoft.com/library/cc904295(WS.10).aspx)(Квоты Active Directory).  
  
#### <a name="577-netbios-conflicts-because-availability-group-listener-names-use-an-identical-15-character-prefix"></a>5.7.7. Конфликт NetBIOS, вызванный тем, что в именах прослушивателей группы доступности используется идентичный префикс из 15 символов  
При наличии двух кластеров WSFC, которые управляются одной службой Active Directory, и попытке создать в обоих кластерах прослушивателей группы доступности с именами, содержащими более 15 символов, и одинаковым префиксом из 15 символов возникнет ошибка, указывающая, что не удалось подключиться к ресурсу с именем виртуальной сети. Дополнительные сведения о правилах именования префиксов для имен DNS см. в статье [Assigning Domain Names](https://technet.microsoft.com/library/cc731265(WS.10).aspx)(Присвоение имен доменов).  
  
![горизонтальная_полоса](media/horizontal-bar.png "horizontal_bar")  
  
## <a name="60-integration-services"></a><a name="IS"></a>6.0. Службы Integration Services  
  
### <a name="61-the-change-data-capture-service-for-oracle-and-the-change-data-capture-designer-console-for-oracle"></a>6.1. Служба отслеживания измененных данных для Oracle и консоль конструктора отслеживания измененных данных для Oracle  
Служба CDC для Oracle — это служба Windows, которая просматривает журналы транзакций Oracle и записывает изменения, касающиеся отслеживаемых таблиц Oracle, в таблицы изменений SQL Server. Консоль конструктора CDC служит для разработки и обслуживания экземпляров Oracle CDC. Консоль конструктора CDC — это оснастка консоли управления (MMC).  
  
#### <a name="611-install-the-cdc-service-for-oracle-and-the-cdc-designer-for-oracle"></a>6.1.1. Установка службы CDC для Oracle и конструктора CDC для Oracle  
**Проблема**. служба CDC и конструктор CDC не устанавливаются программой установки SQL Server. Службу CDC и конструктор CDC необходимо вручную установить на компьютер, отвечающий требованиям, описанным в обновленных файлах справки.  
  
**Решение:** чтобы установить службу CDC Service для Oracle, вручную запустите файл AttunityOracleCdcDesigner.msi с установочного носителя SQL Server. Чтобы установить консоль конструктора CDC, запустите файл AttunityOracleCdcDesigner.msi вручную с установочного носителя SQL Server.  Установочные пакеты для систем x86 и x64 расположены в каталоге .\Tools\AttunityCDCOracle\ на установочном носителе SQL Server.  
  
#### <a name="612-f1-help-functionality-points-to-incorrect-documentation-files"></a>6.1.2. Функции справки F1 указывают на неверные файлы документации  
**Проблема**. не удается получить доступ к требуемым файлам документации при использовании раскрывающегося списка справки F1 или при щелчке по "?" в консолях Attunity. Эти методы указывают на неверные файлы chm.  
  
**Решение:** правильные CHM-файлы устанавливаются при установке службы CDC для Oracle и конструктора CDC для Oracle. Для просмотра правильного содержания справки открывайте CHM-файлы непосредственно из данного местоположения: `%Program Files%\Change Data Capture for Oracle by Attunity\*.chm`.  
  
![горизонтальная_полоса](media/horizontal-bar.png "horizontal_bar")  
  
## <a name="70-master-data-services"></a><a name="MDS"></a>7.0. Службы Master Data Services  
  
### <a name="71-fixing-an-mds-installation-in-a-cluster"></a>7.1. Исправление установки служб MDS в кластере  
**Проблема**. Если кластеризованный экземпляр RTM-версии SQL Server 2012 устанавливается при установленном флажке **Master Data Services**, службы MDS будут устанавливаться на одном узле. Они не будут доступны и не будут работать на дополнительных узлах, добавляемых в кластер.  
  
**Возможное решение**: чтобы решить эту проблему, необходимо установить накопительный выпуск 1 (CU1) для SQL Server 2012, выполнив следующие шаги:  
  
1.  Убедитесь в отсутствии существующих установок SQL/MDS.  
  
2.  Загрузите SQL Server 2012 CU1 в локальный каталог.  
  
3.  Установите SQL Server 2012 с компонентом MDS на основной узел кластера, затем установите SQL Server 2012 с компонентом MDS на любой из дополнительных узлов кластера.  
  
Дополнительные сведения о проблемах и выполнении указанных действий см. в статье [https://support.microsoft.com/kb/2683467](https://support.microsoft.com/kb/2683467).  
  
### <a name="72-microsoft-silverlight-5-required"></a>7.2. Необходим Microsoft Silverlight 5  
Для работы в диспетчере основных данных, представляющем собой веб-приложение, на клиентском компьютере должен быть установлен Silverlight 5.0. Если требуемая версия Silverlight отсутствует, то при переходе к той части веб-приложения, которая использует Silverlight, программа предложит установить Silverlight. Вы можете установить Silverlight 5 со страницы [https://go.microsoft.com/fwlink/?LinkId=243096](https://go.microsoft.com/fwlink/?LinkId=243096).  
  
![горизонтальная_полоса](media/horizontal-bar.png "horizontal_bar")  
  
## <a name="80-reporting-services"></a><a name="RS"></a>8.0. Службы Reporting Services  
  
### <a name="81-reporting-services-connectivity-to-sql-server-pdw-requires-updated-drivers"></a>8.1. Для подключения служб Reporting Services с SQL Server PDW необходимы обновленные драйверы  
Для подключения служб Reporting Services SQL Server 2012 Reporting Services с Microsoft SQL Server PDW Appliance Update 2 и выше необходимо обновить драйверы соединения PDW. Для получения дополнительных сведений пользователям SQL Server PDW следует связаться со службой технической поддержки Майкрософт.  
  
![горизонтальная_полоса](media/horizontal-bar.png "horizontal_bar")  
  
## <a name="90-streaminsight"></a><a name="SI"></a>9.0. StreamInsight  
SQL Server 2012 включает в себя StreamInsight 2.1. Для работы со StreamInsight 2.1 требуется лицензия на Microsoft SQL Server 2012 и .NET Framework 4.0. В этой версии содержится много улучшений производительности, а также исправлены некоторые проблемы. Дополнительные сведения см. в статье [Заметки о выпуске Microsoft StreamInsight 2.1](https://social.technet.microsoft.com/wiki/contents/articles/6539.aspx). Чтобы скачать StreamInsight 2.1 отдельно, зайдите на [страницу скачивания Microsoft StreamInsight 2.1](https://www.microsoft.com/download/details.aspx?id=30149) в Центре загрузки Майкрософт.  
  
![горизонтальная_полоса](media/horizontal-bar.png "horizontal_bar")  
  
## <a name="100-upgrade-advisor"></a><a name="UA"></a>10.0. Помощник по обновлению  
  
### <a name="101-link-to-install-upgrade-advisor-is-not-enabled-on-chinese-hk-operating-systems"></a>10.1. Ссылка для установки помощника по обновлению отключена в операционных системах на китайском языке  
Проблема При попытке установить помощника по обновлению в любой поддерживаемой версии операционной системы Windows на китайском языке (Гонконг, САР) ссылка для установки помощника по обновлению может быть отключена.  
  
**Возможное решение**: Найдите файл **SQLUA.msi** на установочном носителе SQL Server 2012 в `\1028_CHT_LP\x64\redist\Upgrade Advisor` или в `\1028_CHT_LP\x86\redist\Upgrade Advisor` в зависимости от архитектуры операционной системы.  
  
![горизонтальная_полоса](media/horizontal-bar.png "horizontal_bar")  
