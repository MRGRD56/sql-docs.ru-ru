---
title: Справка мастера установки | Документация Майкрософт
description: Укажите, следует ли создать экземпляр по умолчанию или именованный экземпляр SQL Server, на странице "Конфигурация экземпляра" мастера установки SQL Server.
ms.custom: ''
ms.date: 08/16/2019
ms.prod: sql
ms.reviewer: ''
ms.technology: install
ms.topic: conceptual
f1_keywords:
- instance configuration, Setup
helpviewer_keywords:
- Instance Name page [SQL Server Installation Wizard]
- SQL Server Installation Wizard, Instance Name page
ms.assetid: 5bf822fc-6dec-4806-a153-e200af28e9a5
author: cawrites
ms.author: chadam
robots: noindex,nofollow
ms.openlocfilehash: 08b7d5d8c1680be42902fe287c14418b2732f7f9
ms.sourcegitcommit: d8cdbb719916805037a9167ac4e964abb89c3909
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/20/2021
ms.locfileid: "98595439"
---
# <a name="installation-wizard-help"></a>Справка по мастеру установки

 [!INCLUDE [SQL Server](../../includes/applies-to-version/sqlserver.md)]

Эта статья описывает некоторые страницы настройки в мастере установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].

## <a name="instance-configuration-page"></a>Страница конфигурации экземпляра

На странице **Конфигурация экземпляра** мастера установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] можно выбрать создание экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]по умолчанию или именованного экземпляра. Если экземпляр [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] еще не установлен и не указано создание именованного экземпляра, создается экземпляр по умолчанию.  
  
Каждый экземпляр [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] состоит из отдельного набора служб с заданными настройками параметров сортировки и прочих параметров. Структура каталогов и реестра, а также имена служб соответствуют имени экземпляра и конкретному идентификатору экземпляра, который был создан в процессе установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].  
  
Экземпляр является либо экземпляром по умолчанию, либо именованным экземпляром. Имя экземпляра по умолчанию — MSSQLSERVER. Наличие имени по умолчанию означает, что клиенту при установлении соединения необязательно указывать имя экземпляра. Именованный экземпляр определяется пользователем при установке. Именованный экземпляр [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] может быть установлен без предварительной установки экземпляра по умолчанию. В любой момент времени экземпляром по умолчанию может быть только один экземпляр [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] (независимо от версии).  
  
> [!NOTE]  
> При помощи [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] SysPrep можно указать имя экземпляра после завершения подготовки экземпляра на странице **Конфигурация экземпляра** . Подготовленный экземпляр можно настроить в качестве экземпляра по умолчанию, если на компьютере нет экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] по умолчанию.  
  
### <a name="multiple-instances"></a>Несколько экземпляров
  
На одиночном сервере или одном процессоре в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] поддерживается несколько экземпляров [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], однако только один из них может быть экземпляром по умолчанию. Все остальные экземпляры должны быть именованными. На компьютере одновременно можно запустить несколько экземпляров [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], каждый из которых выполняется независимо от других.  
  
 Дополнительные сведения см. в статье [Задание максимальной вместимости SQL Server](../maximum-capacity-specifications-for-sql-server.md).  
  
### <a name="options"></a>Параметры

**Только для экземпляров отказоустойчивых кластеров**. Укажите сетевое имя для доступа к отказоустойчивому кластеру [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Это имя идентифицирует экземпляр отказоустойчивого кластера в сети.  
  
**Выберите экземпляр по умолчанию или именованный экземпляр**. Принимая решение о типе устанавливаемого экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], следует руководствоваться приведенными далее соображениями.  
  
* Если планируется установить один экземпляр [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] на сервере базы данных, то это должен быть экземпляр по умолчанию.  
  
* Именованный экземпляр следует выбирать в тех случаях, когда на одном компьютере планируется запускать несколько экземпляров. На сервере может находиться только один экземпляр по умолчанию.  
* Любое приложение, которое производит установку выпуска [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] , должно устанавливать его как именованный экземпляр. Это позволить свести к минимуму конфликты при установке нескольких приложений на одном компьютере.
  
**Экземпляр по умолчанию**. При выборе этого параметра производится установка экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] по умолчанию. На компьютере может размещаться только один экземпляр по умолчанию; остальные должны быть именованными. Однако если экземпляр [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] по умолчанию уже установлен, то на этот же компьютер может быть установлен экземпляр служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] по умолчанию.  
  
**Именованный экземпляр**. При выборе этого параметра создается новый именованный экземпляр. При выборе имени экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] следует учитывать следующую информацию.  
  
* В именах экземпляров не учитывается регистр букв.  
  
* Имена экземпляров не могут начинаться или заканчиваться символом подчеркивания (_).  
  
* Имя экземпляра не может содержать слово Default и другие зарезервированные ключевые слова. Если в имени экземпляра встретится зарезервированное ключевое слово, возникнет ошибка установки. Дополнительные сведения см. в статье [Зарезервированные ключевые слова (Transact-SQL)](../../t-sql/language-elements/reserved-keywords-transact-sql.md).  
  
* Если в качестве имени экземпляра указано значение MSSQLSERVER, создается экземпляр по умолчанию.  
  
* [!INCLUDE[ssGeminiLong](../../includes/ssgeminilong-md.md)] всегда устанавливается как именованный экземпляр "[!INCLUDE[ssGemini](../../includes/ssgemini-md.md)]". Вы не можете указать другое имя экземпляра для этой роли компонента.  
  
* Длина имени экземпляра ограничена шестнадцатью символами.  
  
* Имя экземпляра должно начинаться с буквы. Оно может состоять из букв, определенных стандартом Юникод 2.0. Сюда входят символы a-z, A-Z и буквы из других языков.  
  
* Следующими за первым символом могут быть буквы, определенные Юникодом 2.0, десятичные числа из набора символов Basic Latin и других национальных скриптов, знак доллара ($) и символ подчеркивания (_).  
  
* Нельзя включать в имена экземпляров символы пробелов и другие специальные символы. В число недопустимых символов входят символы обратной косой черты (\\), запятой (,), двоеточия (:), точки с запятой (;), одиночной кавычки ('), амперсанда (&), дефиса (-) и "собаки" (@).  
  
  В именах экземпляров [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] могут применяться только те символы, которые являются допустимыми в текущей кодовой странице Windows. При использовании неподдерживаемого символа Юникода возникает ошибка установки.  
  
**Обнаруженные экземпляры и компоненты**. Просмотр перечня установленных экземпляров и компонентов [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] на компьютере, где запущена настройка [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .  
  
**Идентификатор экземпляра**. По умолчанию в качестве идентификатора экземпляра используется его имя. Этот идентификатор используется для обозначения каталогов установки и разделов реестра для экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Это поведение применяется для экземпляров по умолчанию и для именованных экземпляров. Для экземпляра по умолчанию именем и идентификатором экземпляра является MSSQLSERVER. Чтобы использовать идентификатор, отличный от значения по умолчанию, укажите его в поле **Идентификатор экземпляра**.  
  
> [!IMPORTANT]  
>  С [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] SysPrep на странице **Конфигурация экземпляра** отображается идентификатор экземпляра, который вы указали на шаге подготовки образа процесса [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] SysPrep. Вы не можете указать другой идентификатор экземпляра на этапе завершения подготовки образа.

> [!NOTE]  
>  Идентификаторы экземпляров, начинающиеся с символа подчеркивания (_), содержащие символ решетки (#) или знак доллара ($), не поддерживаются.  
  
Дополнительные сведения о каталогах, расположениях файлов и именовании идентификаторов экземпляров см. в статье [Расположение файлов для экземпляра по умолчанию и именованных экземпляров SQL Server](file-locations-for-default-and-named-instances-of-sql-server.md).  
  
Все компоненты экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] управляются как единое целое. Все отдельные обновления и пакеты обновления [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] применяются к каждому из компонентов экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].  
  
Все компоненты [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , разделяющие одно и то же имя экземпляра, должны соответствовать следующим критериям.  
  
* Одинаковая версия
* Одинаковый выпуск
* Одинаковые параметры языка
* Одинаковое состояние кластеризации
* Одинаковая операционная система  
  
> [!NOTE]  
> [!INCLUDE[ssRSnoversion](../../includes/ssrsnoversion-md.md)] не имеет ограничений на кластеризацию.  

## <a name="analysis-services-configuration---account-provisioning-page"></a>Настройка служб Analysis Services — страница подготовки учетных записей
  
На этой странице можно выбрать режим сервера и предоставить административные разрешения пользователям или службам, которым требуется неограниченный доступ к службам [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]. Программа установки не добавляет автоматически локальную группу Windows BUILTIN\Administrators в роль администратора сервера служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] устанавливаемого экземпляра. Если к роли администратора сервера требуется добавить локальную группу администраторов, необходимо явно указать эту группу.  
  
При установке [!INCLUDE[ssGeminiShort](../../includes/ssgeminishort-md.md)] не забудьте предоставить административные разрешения администраторам ферм SharePoint или администраторам служб, отвечающим за развертывание сервера [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] в ферме [!INCLUDE[SPS2010](../../includes/sps2010-md.md)].  
  
### <a name="options"></a>Параметры

**Режим сервера**. Режим сервера указывает тип баз данных [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], которые могут быть развернуты на этом сервере. Режимы сервера задаются во время установки, впоследствии изменить их невозможно. Все режимы являются взаимоисключающим, а значит вам потребуются два экземпляра [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] в разных режимах, чтобы обеспечить поддержку классических решений OLAP и табличных моделей.  
  
**Определить администраторов**. Для экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] необходимо указать хотя бы одного администратора сервера. Указанные здесь пользователи или группы станут членами роли администратора сервера устанавливаемого экземпляра служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]. Эти члены должны иметь учетные записи пользователей домена Windows в том же домене, где зарегистрирован компьютер, на который выполняется установка программного обеспечения.  
  
> [!NOTE]  
> Контроль учетных записей (UAC) представляет собой средство безопасности Windows, которое требует, чтобы администратор явно одобрил административные действия или приложения, прежде чем будет разрешено их выполнение. Поскольку контроль учетных записей включен по умолчанию, администратор получает запрос на разрешение определенных операций, требующих более высокого уровня привилегий. Вы можете настроить контроль учетных записей, изменив поведение по умолчанию, или задать определенную конфигурацию для конкретных программ. Дополнительные сведения о контроле учетных записей и его настройке см. на страницах [Пошаговое руководство по контролю учетных записей](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc709691(v=ws.10)) и [User Account Control (Wikipedia)](https://go.microsoft.com/fwlink/?linkid=196351).  
  
### <a name="see-also"></a>См. также раздел
  
* [Настройка учетных записей служб (службы Analysis Services)](/analysis-services/instances/configure-service-accounts-analysis-services)
* [Настройка учетных записей службы Windows и разрешений](../../database-engine/configure-windows/configure-windows-service-accounts-and-permissions.md)  

## <a name="analysis-services-configuration---data-directories-page"></a>Настройка служб Analysis Services — страница каталогов данных

Приведенные в следующей таблице каталоги по умолчанию можно изменить с помощью программы установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Разрешение на доступ к этим файлам предоставляется локальным администраторам и членам группы безопасности SQLServerMSASUser$\<instance>, которая создается и настраивается во время установки.  
  
### <a name="ui-element-list"></a>Список элементов пользовательского интерфейса  
  
|Описание|Каталог по умолчанию|Рекомендации|  
|-----------------|-----------------------|---------------------|  
|**Корневой каталог данных**|\<Drive:>\Program Files\Microsoft SQL Server\MSAS *nn*.\<InstanceID>\OLAP\Data\ |Убедитесь, чтобы папка \Program files\Microsoft SQL Server\ была защищена ограниченными разрешениями. Во многих конфигурациях производительность служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] зависит от производительности хранилища, в котором размещается каталог данных. Поместите этот каталог в доступном хранилище с самым высоким быстродействием. При установке отказоустойчивых кластеров каталоги данных должны находиться на общем диске.|  
|**Каталог файла журнала**.|\<Drive:>\Program Files\Microsoft SQL Server\MSAS *nn*.\<InstanceID>\OLAP\Log\ |Это каталог для файлов журнала служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], в котором размещается журнал FlightRecorder. При увеличении времени существования «черного ящика» позаботьтесь о том, чтобы в каталоге журнала было достаточно места.|  
|**Каталог временных файлов**.|\<Drive:>\Program Files\Microsoft SQL Server\MSAS *nn*.\<InstanceID>\OLAP\Temp\ |Разместите каталог Temp в высокопроизводительной подсистеме хранения.|  
|**Каталог резервного копирования**|\<Drive:>\Program Files\Microsoft SQL Server\MSAS *nn*.\<InstanceID>\OLAP\Backup\ |В этом каталоге сохраняются файлы резервной копии [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] по умолчанию. Здесь же системная служба [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] кэширует файлы данных [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] для [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] в установках SharePoint.<br /><br /> Убедитесь, что заданы соответствующие разрешения, чтобы предотвратить потерю данных, а также что группа пользователей для [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] имеет достаточные разрешения для записи в каталог резервных копий. Использование подключенных дисков для размещения каталогов резервного копирования не поддерживается.|  
  
### <a name="considerations"></a>Рекомендации  
  
* Если экземпляры [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] развернуты в ферме SharePoint, они хранят файлы приложений, файлы данных и свойства в базах данных содержимого и базах данных приложений служб.  
  
* При добавлении компонентов в существующую конфигурацию невозможно ни изменить расположение ранее установленного компонента, ни указать расположение нового.  

* Может потребоваться настроить программное обеспечение, например антивирусное и антишпионское приложения, чтобы исключить из проверки типы файлов и папки SQL Server. Дополнительные сведения см. в этой статье службы поддержки: [Настройка антивирусного программного обеспечения на компьютерах, где выполняется SQL Server](https://support.microsoft.com/kb/309422).
  
* Если при установке были указаны каталоги, отличающиеся от каталогов по умолчанию, проверьте их уникальность для данного экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Ни один из каталогов, заданных в этом диалоговом окне, не должен совпадать с каталогами, указанными для других экземпляров [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Компонент [!INCLUDE[ssDE](../../includes/ssde-md.md)] и службы [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] должны быть установлены на экземпляре [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] в разные каталоги.  
  
* Программные файлы и файлы данных невозможно установить:  
  
  * на съемный диск  
  * в файловую систему, использующую сжатие  
  * в каталог, в котором находятся системные файлы  
  
### <a name="see-also"></a>См. также раздел

Дополнительные сведения о каталогах, расположениях файлов и именовании идентификаторов экземпляров см. в статье [Расположение файлов для экземпляра по умолчанию и именованных экземпляров SQL Server](file-locations-for-default-and-named-instances-of-sql-server.md).  
  
### <a name="analysis-services-configuration---data-directories-page"></a>Настройка служб Analysis Services — страница каталогов данных

Приведенные в следующей таблице каталоги по умолчанию можно изменить с помощью программы установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Разрешение на доступ к этим файлам предоставляется локальным администраторам и членам группы безопасности SQLServerMSASUser$\<instance>, которая создается и настраивается во время установки.  
  
#### <a name="ui-element-list"></a>Список элементов пользовательского интерфейса
  
|Описание|Каталог по умолчанию|Рекомендации|  
|-----------------|-----------------------|---------------------|  
|**Корневой каталог данных** |\<Drive:>\Program Files\Microsoft SQL Server\MSAS *nn*.\<InstanceID>\OLAP\Data |Убедитесь, чтобы папка \Program files\Microsoft SQL Server\ была защищена ограниченными разрешениями. Во многих конфигурациях производительность служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] зависит от производительности хранилища, в котором размещается каталог данных. Поместите этот каталог в доступном хранилище, имеющем самое высокое быстродействие. При установке отказоустойчивых кластеров каталоги данных должны находиться на общем диске.|  
|**Каталог файла журнала**.|\<Drive:>\Program Files\Microsoft SQL Server\MSAS *nn*.\<InstanceID>\OLAP\Log |Это каталог для файлов журнала служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], в котором размещается журнал FlightRecorder. При увеличении периода сохранения данных позаботьтесь о том, чтобы в каталоге журнала было достаточно места.|  
|**Каталог временных файлов**.|\<Drive:>\Program Files\Microsoft SQL Server\MSAS *nn*.\<InstanceID>\OLAP\Temp |Разместите каталог Temp в высокопроизводительной подсистеме хранения.|  
|**Каталог резервного копирования**|\<Drive:>\Program Files\Microsoft SQL Server\MSAS *nn*.\<InstanceID>\OLAP\Backup |В этом каталоге сохраняются файлы резервной копии [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] по умолчанию. Здесь же системная служба [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] кэширует файлы данных [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] для [!INCLUDE[ssGemini](../../includes/ssgemini-md.md)] в установках SharePoint.<br /><br /> Убедитесь, что заданы соответствующие разрешения, чтобы предотвратить потерю данных, а также что группа пользователей для служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] имеет достаточные разрешения для записи в каталог резервных копий. Использование подключенных дисков для размещения каталогов резервного копирования не поддерживается.|  
  
#### <a name="considerations"></a>Рекомендации
  
* Если экземпляры [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] развернуты в ферме SharePoint, они хранят файлы приложений, файлы данных и свойства в базах данных содержимого и базах данных приложений служб.  
  
* При добавлении компонентов в существующую конфигурацию невозможно ни изменить расположение ранее установленного компонента, ни указать расположение нового.  

* Может потребоваться настроить программное обеспечение, например антивирусное и антишпионское приложения, чтобы исключить из проверки типы файлов и папки SQL Server. Подробнее см. статью о [настройке антивирусного программного обеспечения на компьютерах, где выполняется SQL Server](https://support.microsoft.com/kb/309422).
  
* Если при установке были указаны каталоги, отличающиеся от каталогов по умолчанию, проверьте их уникальность для данного экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Ни один из каталогов, заданных в этом диалоговом окне, не должен совпадать с каталогами, указанными для других экземпляров [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Компонент [!INCLUDE[ssDE](../../includes/ssde-md.md)] и службы [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] должны быть установлены на экземпляре [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] в разные каталоги.  
  
* Программные файлы и файлы данных невозможно установить:  
  
  * на съемный диск  
  * в файловую систему, использующую сжатие  
  * в каталог, в котором находятся системные файлы  
  
#### <a name="see-also"></a>См. также раздел

* Дополнительные сведения о каталогах, расположениях файлов и именовании идентификаторов экземпляров см. в статье [Расположение файлов для экземпляра по умолчанию и именованных экземпляров SQL Server](file-locations-for-default-and-named-instances-of-sql-server.md).  
* [Разрешения общего доступа и NTFS на файловом сервере](/iis/web-hosting/configuring-servers-in-the-windows-web-platform/configuring-share-and-ntfs-permissions)

## <a name="database-engine-configuration---server-configuration-page"></a><a name="serverconfig"></a> Настройка ядра СУБД — страница конфигурации сервера

Эта страница служит для задания режима безопасности [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], а также для добавления пользователей или групп Windows в качестве администраторов компонента [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)].  
  
### <a name="considerations-for-running-sscurrent"></a>Рекомендации по запуску [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]

В предыдущих версиях [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] группа BUILTIN\Administrators применялась в качестве имени входа в компонент [!INCLUDE[ssDE](../../includes/ssde-md.md)], а члены локальной группы "Администраторы" могли входить в систему со своими учетными данными. Но мы не рекомендуем использовать повышенные разрешения.

В [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] группа BUILTIN\Administrators не используется в качестве имени входа. Поэтому следует создать имя входа [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] для каждого административного пользователя и добавить это имя входа в предопределенную роль сервера **sysadmin** во время установки нового экземпляра [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]. Сделайте то же самое для учетных записей Windows, которые выполняют задания агента [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], включая задания агента репликации.  
  
### <a name="options"></a>Параметры

**Режим безопасности**. Выберите для установки режим **Проверка подлинности Windows** или **Смешанный режим проверки подлинности**.  
  
**Подготовка участника Windows**. В предыдущих версиях [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] локальная группа Windows BUILTIN\Administrators помещалась в роль сервера [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] **sysadmin**, что предоставляло администраторам Windows доступ к экземпляру [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. В [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] не выполняется подготовка группы BUILTIN\Administrators для роли сервера **sysadmin**. Вместо этого необходимо выполнить явную подготовку администраторов [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] для новых экземпляров во время установки.  
  
> [!IMPORTANT]  
> Во время установки необходимо явно указать администраторов [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] для новых экземпляров. Программа установки не позволит продолжить установку, пока вы не выполните этот шаг.
  
**Определить администраторов [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]** . Необходимо указать по крайней мере одного участника Windows для этого экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Чтобы добавить учетную запись, с помощью которой выполняется программа установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], нажмите кнопку **Добавить текущего пользователя**. Чтобы добавить или удалить учетные записи из списка системных администраторов, выберите действие **Добавить** или **Удалить**, затем измените список пользователей, групп или компьютеров, которые будут иметь права администраторов для этого экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].  
  
После завершения изменения списка щелкните **ОК** и затем проверьте список администраторов в диалоговом окне конфигурации. После завершения работы со списком нажмите кнопку **Далее**.  
  
При выборе параметра **Смешанный режим проверки подлинности** следует предоставить учетные данные входа для встроенной учетной записи системного администратора [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] (**sa**).  
  
> [!IMPORTANT]  
> [!INCLUDE[ssNoteStrongPass](../../includes/ssnotestrongpass-md.md)]  
  
**Режим проверки подлинности Windows**. Когда пользователь выполняет подключение с пользовательской учетной записью Windows, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] проверяет имя учетной записи и пароль с помощью токена участника Windows в операционной системе. Проверка подлинности Windows выбирается как режим по умолчанию и обеспечивает более высокий уровень безопасности, чем смешанный режим проверки подлинности. Режим проверки подлинности Windows использует протокол безопасности Kerberos, обеспечивает соблюдение политики паролей при условии проверки сложности для надежных паролей, обеспечивает блокировки учетных записей и проверки истечения срока действия пароля.  
  
> [!IMPORTANT]  
> [!INCLUDE[ssNoteWinAuthentication](../../includes/ssnotewinauthentication-md.md)]  

> [!IMPORTANT]  
> [!INCLUDE[ssNoteStrongPass](../../includes/ssnotestrongpass-md.md)] Не оставляйте поле для ввода пароля пустым и не используйте слабый пароль для учетной записи **системного администратора**.  
  
**Смешанный режим (проверка подлинности Windows или проверка подлинности [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)])** . Возможность подключения пользователей с помощью режима проверки подлинности Windows или проверки подлинности [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Пользователи, которые подключаются под учетной записью Windows, могут использовать доверенные соединения, которые проверяются Windows.  
  
Если вам нужно использовать смешанный режим проверки подлинности и имена для входа SQL, чтобы обеспечить работу устаревших приложений, необходимо установить надежные пароли для всех учетных записей [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].  
  
> [!NOTE]  
> Проверка подлинности [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] поддерживается только для обратной совместимости. [!INCLUDE[ssNoteWinAuthentication](../../includes/ssnotewinauthentication-md.md)]  
  
**Введите пароль**. Введите и подтвердите имя входа для системного администратора (**sa**). Пароли являются основным способом защиты компьютера от несанкционированного доступа, поэтому для обеспечения безопасности системы обязательна настройка надежных паролей. Не оставляйте поле для ввода пароля пустым и не используйте слабый пароль для учетной записи **системного администратора**.  
  
> [!NOTE]  
> пароли [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] могут содержать от 1 до 128 символов, включая любое сочетание букв, символов и цифр. При выборе смешанного режима проверки подлинности необходимо ввести надежный пароль **системного администратора**, прежде чем мастер установки перейдет на следующую страницу.  
  
#### <a name="strong-password-guidelines"></a>Правила создания надежных паролей
  
Надежными считаются пароли, которые человек не может легко угадать, а компьютерная программа не может легко взломать. Для создания надежных паролей нельзя использовать определенные принципы и слова, в том числе:  
  
* незаполненный или ПУСТОЙ;
* "Пароль".
* Admin;
* Administrator;
* sa;
* sysadmin.

Надежный пароль не может содержать следующие термины, связанные с компьютером установки:  
  
* имя пользователя, зарегистрированного в компьютере в настоящий момент;
* Имя компьютера  
  
Надежный пароль должен состоять не менее чем из восьми символов и удовлетворять как минимум трем из следующих четырех критериев.  
  
* Он должен включать прописные буквы.
* Он должен включать строчные буквы.  
* Он должен включать цифры.
* Он должен содержать неалфавитные символы, например #, % или ^.  
  
Пароли, введенные на этой странице, должны отвечать требованиям политики надежных паролей. При использовании автоматизации с функцией проверки подлинности [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] убедитесь, что пароль отвечает требованиям политики надежных паролей.  
  
### <a name="see-also"></a>См. также раздел

Дополнительные сведения о выборе между проверкой подлинности Windows и проверкой подлинности [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] см. в разделе [Выбор режима проверки подлинности](../../relational-databases/security/choose-an-authentication-mode.md).  

Дополнительные сведения о выборе учетной записи для выполнения служб [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] см. в статье [Настройка учетных записей и разрешений для служб Windows](../../database-engine/configure-windows/configure-windows-service-accounts-and-permissions.md).

## <a name="database-engine-configuration---data-directories-page"></a><a name ="datadir"></a> Настройка ядра СУБД — страница каталогов данных

На этой странице указывается расположение для установки программных файлов и файлов данных компонента [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssDE](../../includes/ssde-md.md)]. В зависимости от типа установки в качестве хранилища можно использовать локальный диск, общее хранилище или файловый сервер SMB.  
  
Чтобы указать общую папку SMB в качестве каталога, необходимо вручную ввести путь в поддерживаемом формате UNC. Выбор общей папки SMB с помощью графического интерфейса не поддерживается. Следующий пример демонстрирует поддерживаемый формат UNC для общей папки SMB:

`\\<ServerName>\<ShareName>\...`

### <a name="standalone-instance-of-ssnoversion"></a>Автономный экземпляр [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]
  
В следующей таблице указаны поддерживаемые типы хранилища и каталоги по умолчанию для изолированных экземпляров [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], которые можно настроить в процессе установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].  
  
### <a name="ui-element-list"></a>Список элементов пользовательского интерфейса
  
|Описание|Поддерживаемые типы хранилища|Каталог по умолчанию|Рекомендации|  
|-----------------|----------------------------|-----------------------|---------------------|  
|**Корневой каталог данных**|Локальный диск, файловый сервер SMB, общее хранилище* |\<Drive:>\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\ |Программа установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] в процессе настройки определит списки управления доступом для каталогов [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] и отменит наследование.|  
|**Каталог пользовательской базы данных**|Локальный диск, файловый сервер SMB, общее хранилище*|\<Drive:>\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL *nn*.\<InstanceID>\MSSQL\Data |Рекомендации пользователю каталогов данных зависят от рабочей нагрузки и требований производительности.|  
|**Каталог журналов пользовательской базы данных**|Локальный диск, файловый сервер SMB, общее хранилище*|\<Drive:>\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL *nn*.\<InstanceID>\MSSQL\Data|Убедитесь, что каталог журнала имеет достаточно свободного места.|  
|**Каталог резервного копирования**|Локальный диск, файловый сервер SMB, общее хранилище*|\<Drive:>\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL *nn*.\<InstanceID>\MSSQL\Backup|Установите необходимые разрешения для предотвращения потери данных и удостоверьтесь, что учетная запись пользователя службы [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] имеет достаточно разрешений для записи в каталог резервного копирования. Использование подключенных дисков для размещения каталогов резервного копирования не поддерживается.|  
  
[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Несмотря на поддержку общих дисков, мы не рекомендуем использовать их для изолированных экземпляров \*.  
  
### <a name="failover-cluster-instance-of-ssnoversion"></a>Экземпляр отказоустойчивого кластера [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]

В следующей таблице указаны поддерживаемые типы хранилища и каталоги по умолчанию для экземпляра отказоустойчивого кластера [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], которые можно настроить в процессе установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].  
  
|Описание|Поддерживаемые типы хранилища|Каталог по умолчанию|Рекомендации|  
|-----------------|----------------------------|-----------------------|---------------------|  
|**Корневой каталог данных**|Общее хранилище, файловый сервер SMB|\<Drive:>\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\\<br /><br /> **Совет**. Если на странице **Выбор диска кластера** был указан **общий диск**, по умолчанию используется первый общий диск. Если на странице **Выбор диска кластера** не указано значение, это поле по умолчанию остается пустым.|Программа установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] в процессе настройки определит списки управления доступом для каталогов [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] и отменит наследование.|  
|**Каталог пользовательской базы данных**|Общее хранилище, файловый сервер SMB|\<Drive:>Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL *nn*.\<InstanceID>\MSSQL\Data<br /><br /> **Совет**. Если на странице **Выбор диска кластера** был указан **общий диск**, по умолчанию используется первый общий диск. Если на странице **Выбор диска кластера** не указано значение, это поле по умолчанию остается пустым.|Рекомендации пользователю каталогов данных зависят от рабочей нагрузки и требований производительности.|  
|**Каталог журналов пользовательской базы данных**|Общее хранилище, файловый сервер SMB|\<Drive:>\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL *nn*.\<InstanceID>\MSSQL\Data<br /><br /> **Совет**. Если на странице **Выбор диска кластера** был указан **общий диск**, по умолчанию используется первый общий диск. Если на странице **Выбор диска кластера** не указано значение, это поле по умолчанию остается пустым.|Убедитесь, что каталог журнала имеет достаточно свободного места.|  
|**Каталог резервного копирования**|Локальный диск, общее хранилище, файловый сервер SMB|\<Drive:>\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL *nn*.\<InstanceID>\MSSQL\Backup<br /><br /> **Совет**. Если на странице **Выбор диска кластера** был указан **общий диск**, по умолчанию используется первый общий диск. Если на странице **Выбор диска кластера** не указано значение, это поле по умолчанию остается пустым.|Установите необходимые разрешения для предотвращения потери данных и удостоверьтесь, что учетная запись пользователя службы SQL Server имеет достаточно разрешений для записи в каталог резервного копирования. Использование подключенных дисков для размещения каталогов резервного копирования не поддерживается.|  
  
### <a name="security-considerations"></a>Вопросы безопасности
  
Программа установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] настроит ACL для каталогов и отменит наследование как часть конфигурации.  
  
В отношении файловых серверов SMB действуют следующие рекомендации.  
  
* При использовании файлового сервера SMB учетная запись службы [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] должна быть учетной записью домена.  
  
* Учетная запись, используемая для установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], должна иметь разрешение полного контроля NTFS на общую папку файлов SMB, которая используется в качестве каталога данных.  
  
* Учетная запись, используемая для установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , должна обладать правами SeSecurityPrivilege на файловом сервере SMB. Для предоставления этого права используйте консоль локальной политики безопасности на файловом сервере, чтобы добавить учетную запись установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] в политику **Управления журналом аудита и безопасности** . Этот параметр находится в разделе **Назначение прав пользователя** в узле **Локальные политики** консоли "Локальная политика безопасности".

### <a name="considerations"></a>Рекомендации
  
* При добавлении компонентов к уже установленной конфигурации вы не можете изменить расположение ранее установленного компонента или указать расположение нового компонента.  
  
* Если при установке были указаны каталоги, отличающиеся от каталогов по умолчанию, проверьте их уникальность для данного экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Ни один из каталогов, заданных в этом диалоговом окне, не должен совпадать с каталогами, указанными для других экземпляров [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Компонент [!INCLUDE[ssDE](../../includes/ssde-md.md)] и службы [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] должны быть установлены на экземпляре [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] в разные каталоги.  
  
* Программные файлы и файлы данных невозможно установить:  
  
  * на съемный диск
  * в файловую систему, использующую сжатие
  * в каталог, в котором находятся системные файлы
  * На подключенном сетевом диске экземпляра отказоустойчивого кластера  
  
## <a name="a-nametempdb-database-engine-configuration---tempdb-page"></a><a name="tempdb"><a/> Настройка ядра СУБД — страница TempDB

С помощью этой страницы можно указать расположение данных и файла журнала, размер, параметры увеличения и количество файлов в базе данных **tempdb** для [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssDE](../../includes/ssde-md.md)]. В зависимости от типа установки в качестве хранилища можно использовать локальный диск, общее хранилище или файловый сервер SMB.  
  
Чтобы указать общую папку SMB в качестве каталога, необходимо вручную ввести путь в поддерживаемом формате UNC. Выбор общей папки SMB с помощью графического интерфейса не поддерживается. Следующий пример демонстрирует поддерживаемый формат UNC для общей папки SMB:

`\\<ServerName>\<ShareName>\....`
  
### <a name="data-and-log-directories-for-a-standalone-instance-of-ssnoversion"></a>Каталоги данных и журналов для изолированного экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]

В следующей таблице указаны поддерживаемые типы хранилища и каталоги по умолчанию, которые можно настроить в процессе установки для изолированных экземпляров [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].  
  
|Описание|Поддерживаемый тип хранилища|Каталог по умолчанию|Рекомендации|  
|-----------------|----------------------------|-----------------------|---------------------|  
|**Каталоги данных**|Локальный диск, файловый сервер SMB, общее хранилище* |\<Drive:>\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL *nn*.\<InstanceID>\MSSQL\Data|Программа установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] в процессе настройки определит списки управления доступом для каталогов [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] и отменит наследование.<br /><br /> Рекомендации для каталогов **temdb** будут разными в зависимости от рабочей нагрузки и требований к производительности. Чтобы распределить файлы данных на несколько томов, укажите несколько папок (дисков).|  
|**Каталог журналов**|Локальный диск, файловый сервер SMB, общее хранилище*|\<Drive:>\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL *nn*.\<InstanceID>\MSSQL\Data|Убедитесь, что каталог журнала имеет достаточно свободного места.|  
  
[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Несмотря на поддержку общих дисков, мы не рекомендуем использовать их для изолированных экземпляров \*.  
  
### <a name="data-and-log-directories-for-a-failover-cluster-instance-of-ssnoversion"></a>Каталоги данных и журналов для экземпляра отказоустойчивого кластера [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]

В следующей таблице указаны поддерживаемые типы хранилища и каталоги по умолчанию для экземпляра отказоустойчивого кластера [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], которые можно настроить в процессе установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].  
  
|Описание|Поддерживаемый тип хранилища|Каталог по умолчанию|Рекомендации|  
|-----------------|----------------------------|-----------------------|---------------------|  
|**Каталог данных tempdb**|Локальный диск, общее хранилище, файловый сервер SMB|\<Drive:>\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL *nn*.\<InstanceID>\Data<br /><br /> **Совет**. Если на странице **Выбор диска кластера** был указан **общий диск**, по умолчанию используется первый общий диск. Если на странице **Выбор диска кластера** не указано значение, это поле по умолчанию остается пустым.|Программа установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] в процессе настройки определит списки управления доступом для каталогов [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] и отменит наследование.<br /><br /> Убедитесь, что указанный каталог (или каталоги, если указано несколько файлов) допустим для всех узлов кластера. Если во время отработки отказа каталоги **tempdb** недоступны на целевом узле отработки отказа, то ресурсы SQL Server не смогут нормально включиться.|  
|**Каталог журнала tempdb**|Локальный диск, общее хранилище, файловый сервер SMB|\<Drive:>\Program Files\\[!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]\MSSQL *nn*.\<InstanceID>\MSSQL\Data<br /><br /> **Совет**. Если на странице **Выбор диска кластера** был указан **общий диск**, по умолчанию используется первый общий диск. Если на странице **Выбор диска кластера** не указано значение, это поле по умолчанию остается пустым.|Рекомендации пользователю каталогов данных зависят от рабочей нагрузки и требований производительности.<br /><br /> Указанный каталог должен быть допустимым для всех узлов кластера. Если во время отработки отказа каталоги **tempdb** недоступны на целевом узле отработки отказа, то ресурсы SQL Server не смогут нормально включиться.<br /><br /> Убедитесь, что каталог журнала имеет достаточно свободного места.|  
  
### <a name="ui-element-list"></a>Список элементов пользовательского интерфейса

Настройте параметры для **tempdb** в соответствии с рабочей нагрузкой и требованиями. Следующие параметры применимы к файлам данных **tempdb** .  
  
* **Число файлов** — общее количество файлов данных для **tempdb**. По умолчанию используется меньшее из следующих двух значений: 8 или число логических ядер, обнаруженных программой установки. Как правило, если число логических процессоров не превышает 8, следует использовать столько же файлов данных, сколько логических процессоров. Если число логических процессоров больше 8, используйте 8 файлов данных. Если возникают проблемы с состязанием, увеличивайте число файлов данных приращениями по 4 (но не более числа логических процессоров), пока состязание не уменьшится до приемлемого уровня, или внесите изменения в рабочую нагрузку или код.
  
* **Начальный размер (МБ)**  — исходный размер в МБ для каждого файла данных **tempdb**. Значение по умолчанию — 8 МБ (или 4 МБ для [!INCLUDE[ssexpress](../../includes/ssexpress_md.md)]). [!INCLUDE[sssqlv14](../../includes/sssqlv14-md.md)] представляет максимальный начальный размер файла — 262 144 МБ (256 ГБ). Максимальный размер исходного файла для [!INCLUDE[sssql15](../../includes/sssql16-md.md)] составляет 1024 МБ. Все файлы данных **tempdb** имеют одинаковый исходный размер. Так как база данных **tempdb** создается заново при каждом запуске или отработке отказа SQL Server, следует указать размер, близкий к размеру, необходимому для нормальной работы при рабочей нагрузке. Чтобы оптимизировать создание **tempdb** во время запуска, включите параметр [Мгновенная инициализация файлов базы данных](../../relational-databases/databases/database-instant-file-initialization.md).  
  
* **Общий исходный размер (МБ)**  — это совокупный размер всех файлов данных **tempdb**.  
  
* **Автоматическое увеличение (МБ)**  — это значение объема в мегабайтах, на которое будет автоматически увеличиваться файл данных **tempdb** при исчерпании свободного места. В [!INCLUDE[sssql15](../../includes/sssql16-md.md)] и более поздних версиях все файлы данных увеличиваются одновременно на величину, указанную для этого параметра.  
  
* **Общее автоматическое увеличение (МБ)** — это совокупный размер каждого события автоматического увеличения.  
* **Каталоги данных** — это параметр, отображающий все каталоги, которые содержат файлы данных **tempdb**. При наличии нескольких каталогов файлы данных помещаются в каталоги методом циклического перебора. Например, если создать три каталога и указать восемь файлов данных, файлы данных 1, 4 и 7 будут созданы в первом каталоге. Файлы данных 2, 5 и 8 будут созданы во втором каталоге. Файлы данных 3 и 6 будут созданы в третьем каталоге.  
  
* Чтобы добавить каталоги, щелкните элемент **Добавить...**  
  
* Чтобы удалить каталог, выберите каталог и щелкните **Удалить**.  
  
**Файл журнала TempDB** содержит имя файла журнала. Этот файл создается автоматически. Следующие параметры применимы только к файлам данных **tempdb** .  
  
* **Начальный размер (МБ)** — это исходный размер файла журнала **tempdb** . Значение по умолчанию — 8 МБ (или 4 МБ для [!INCLUDE[ssexpress](../../includes/ssexpress_md.md)]). [!INCLUDE[sssqlv14](../../includes/sssqlv14-md.md)] представляет максимальный начальный размер файла — 262 144 МБ (256 ГБ). Максимальный размер исходного файла для [!INCLUDE[sssql15](../../includes/sssql16-md.md)] составляет 1024 МБ. Так как база данных **tempdb** создается заново при каждом запуске или отработке отказа SQL Server, следует указать размер, близкий к размеру, необходимому для нормальной работы при рабочей нагрузке. Чтобы оптимизировать создание **tempdb** во время запуска, включите параметр [Мгновенная инициализация файлов базы данных](../../relational-databases/databases/database-instant-file-initialization.md).  
  
  > [!NOTE]
  > **Tempdb** использует минимальное протоколирование. Резервное копирование журнала **tempdb** выполнить невозможно. Он создается заново при каждом запуске SQL Server и при отработке отказа экземпляра кластера.

* **Автоматическое увеличение (МБ)** — это шаг увеличения журнала **tempdb** в мегабайтах.  Значение по умолчанию в 64 МБ создает оптимальное количество виртуальных файлов журнала во время инициализации.  

  > [!NOTE]
  > Файлы журнала **tempdb** не используют мгновенную инициализацию файлов.
  
* **Каталог журнала** — это каталог, в котором создаются файлы журналов **tempdb** . Существует только один каталог журнала **tempdb**.  
  
### <a name="security-considerations"></a>Вопросы безопасности
  
Программа установки в процессе настройки определит списки управления доступом для каталогов [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] и отменит наследование.  

В отношении файлового сервера SMB действуют следующие рекомендации.  
  
* При использовании файлового сервера SMB учетная запись службы [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] должна быть учетной записью домена.  
  
* Учетная запись, используемая для установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], должна иметь разрешение **полного контроля** NTFS на общую папку файлов SMB, которая используется в качестве каталога данных.  
  
* Учетная запись, используемая для установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , должна обладать правами SeSecurityPrivilege на файловом сервере SMB. Для предоставления этого права используйте консоль локальной политики безопасности на файловом сервере, чтобы добавить учетную запись установки [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] в политику **Управления журналом аудита и безопасности** . Этот параметр находится в разделе **Назначение прав пользователя** в узле **Локальные политики** консоли "Локальная политика безопасности".  
  
> [!NOTE]
> Если при установке были указаны каталоги, отличающиеся от каталогов по умолчанию, проверьте их уникальность для данного экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Ни один из каталогов, заданных в этом диалоговом окне, не должен совпадать с каталогами, указанными для других экземпляров [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Компонент [!INCLUDE[ssDE](../../includes/ssde-md.md)] и службы [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] должны быть установлены на экземпляре [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] в разные каталоги.
  
### <a name="see-also"></a>См. также раздел

* [Настройка учетных записей службы Windows и разрешений](../../database-engine/configure-windows/configure-windows-service-accounts-and-permissions.md)
* [Разрешения общего доступа и NTFS на файловом сервере](/iis/web-hosting/configuring-servers-in-the-windows-web-platform/configuring-share-and-ntfs-permissions)  

<!--
The MaxDOP setting applies only to SQL Server 2019 and later.
-->

::: moniker range=">=sql-server-ver15"

## <a name="a-namemaxdop-database-engine-configuration---maxdop-page"></a><a name="maxdop"><a/> Настройка ядра СУБД — страница MaxDOP

**Максимальная степень параллелизма (MaxDOP)** определяет максимальное число процессоров, которое может использовать отдельная инструкция. В [!INCLUDE[sql-server-2019](../../includes/sssqlv15-md.md)] появилась возможность настроить этот параметр во время установки. [!INCLUDE[sql-server-2019](../../includes/sssqlv15-md.md)] также автоматически вычисляет рекомендуемое для сервера значение MaxDOP в зависимости от числа ядер.  

Если эта страница пропускается во время установки, значением MaxDOP по умолчанию является рекомендуемое значение, отображаемое на этой странице вместо значения по умолчанию [!INCLUDE[ssde_md](../../includes/ssde_md.md)] для предыдущих версий (0). Вы можете также вручную настроить этот параметр на этой странице или изменить его после установки. 

### <a name="ui-element-list"></a>Список элементов пользовательского интерфейса

* **Максимальная степень параллелизма (MaxDOP)** определяет максимальное число процессоров, используемых при параллельном выполнении одной инструкции. Значение по умолчанию будет соответствовать рекомендациям по максимальной степени параллелизма, приведенным в разделе [Рекомендации](../../database-engine/configure-windows/configure-the-max-degree-of-parallelism-server-configuration-option.md#Guidelines).

## <a name="a-namememory-database-engine-configuration---memory-page"></a><a name="memory"><a/> Настройка ядра СУБД — страница ресурсов памяти

**Min Server Memory** определяет минимальный объем памяти, который будет использоваться [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] для буферного пула и других кэшей. Значение по умолчанию равно 0, как и рекомендуемое значение. Дополнительные сведения о последствиях изменения **Min Server Memory** см. в [руководстве по архитектуре управления памятью](../../relational-databases/memory-management-architecture-guide.md#effects-of-min-and-max-server-memory).

**Max Server Memory** определяет максимальный объем памяти, который будет использоваться [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] для буферного пула и других кэшей. Значение по умолчанию равно 2 147 483 647 мегабайт (МБ), а вычисляемые рекомендуемые значения будут соответствовать рекомендациям из статьи [Параметры конфигурации памяти сервера](../../database-engine/configure-windows/server-memory-server-configuration-options.md#manually) для изолированного экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] на основе имеющейся системной памяти. Дополнительные сведения о последствиях изменения **Max Server Memory** см. в [руководстве по архитектуре управления памятью](../../relational-databases/memory-management-architecture-guide.md#effects-of-min-and-max-server-memory).

Если эта страница пропускается во время настройки, для параметра **Max Server Memory** используется значение [!INCLUDE[ssde_md](../../includes/ssde_md.md)] по умолчанию (2 147 483 647 мегабайт). Вы можете вручную настроить эти параметры на этой странице, выбрав переключатель **Рекомендуется**, или изменить эти настройки после установки. Дополнительные сведения см. в статье [Параметры конфигурации сервера Server Memory](../../database-engine/configure-windows/server-memory-server-configuration-options.md).

### <a name="ui-element-list"></a>Список элементов пользовательского интерфейса
  
**По умолчанию**: Этот переключатель выбран по умолчанию и задает значения [!INCLUDE[ssde_md](../../includes/ssde_md.md)] по умолчанию для параметров **Min Server Memory** и **Max Server Memory**. 

**Рекомендуется**. Этот переключатель нужно выбрать, чтобы принять рекомендуемые вычисляемые значения или заменить вычисляемые значения на значения, задаваемые пользователем.  
  
**Min Server Memory (MБ)** . Чтобы заменить вычисляемые значения на значения, задаваемые пользователем, укажите требуемое значение для параметра **Min Server Memory**.  
  
**Max Server Memory (MБ)** . Чтобы заменить вычисляемые значения на значения, задаваемые пользователем, укажите требуемое значение для параметра **Max Server Memory**.  

**Щелкните здесь, чтобы принять рекомендуемые конфигурации памяти для ядра СУБД SQL Server**. Установите этот флажок, чтобы принять вычисляемые рекомендуемые конфигурации памяти на этом сервере. Если выбран переключатель **Рекомендуется**, процесс установки нельзя продолжить, не установив этот флажок.

::: moniker-end

## <a name="database-engine-configuration---filestream-page"></a>Настройка ядра СУБД — страница FILESTREAM

Эта страница используется, чтобы включить FILESTREAM для этой установки [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)]. Хранилище FILESTREAM объединяет компонент [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] с файловой системой NTFS, размещая данные больших двоичных объектов (BLOB) типа **varbinary(max)** в файловой системе в виде файлов. [!INCLUDE[tsql](../../includes/tsql-md.md)] можно вставлять, обновлять, запрашивать, искать и создавать резервные копии данных FILESTREAM. Интерфейсы файловой системы Win32 предоставляют потоковый доступ к этим данным. 
  
### <a name="ui-element-list"></a>Список элементов пользовательского интерфейса
  
**Разрешить FILESTREAM при доступе через Transact-SQL**. Выберите, чтобы включить FILESTREAM для доступа [!INCLUDE[tsql](../../includes/tsql-md.md)] . Обязательно установите этот флажок, чтобы стали доступны другие параметры.  
  
**Разрешить FILESTREAM при потоковом доступе файлового ввода-вывода**. Выберите, чтобы разрешить потоковый доступ Win32 для FILESTREAM.  
  
**Имя общего ресурса Windows**. Указывает имя общей папки Windows, в которой будут храниться данные FILESTREAM.  
  
**Разрешить удаленным клиентам потоковый доступ к данным FILESTREAM**. Установите этот флажок, чтобы разрешить удаленным клиентам доступ к данным FILESTREAM на этом сервере.  
  
### <a name="see-also"></a>См. также раздел

* [Включение и настройка FILESTREAM](../../relational-databases/blob/enable-and-configure-filestream.md)
* [sp_configure (Transact-SQL)](../../relational-databases/system-stored-procedures/sp-configure-transact-sql.md)  

## <a name="database-engine-configuration---user-instance-page"></a>Конфигурация ядра СУБД — страница пользовательского экземпляра

Страница **Пользовательский экземпляр** позволяет сделать следующее:

* создавать отдельный экземпляр [!INCLUDE[ssDE](../../includes/ssde-md.md)] для пользователей, не имеющих разрешений администратора;
* добавлять пользователей к роли администратора.  
  
### <a name="options"></a>Параметры
  
**Разрешить пользовательские экземпляры**. По умолчанию этот параметр включен. Чтобы отключить возможность включения пользовательских экземпляров, снимите этот флажок.  
  
Пользовательский экземпляр, который называют также дочерним или клиентским, является экземпляром [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , который создается родительским экземпляром (основным экземпляром, работающим как служба, например [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)]) от лица пользователя. Пользовательский экземпляр запускается как пользовательский процесс в контексте безопасности этого пользователя. Пользовательский экземпляр изолирован от родительского и любых других пользовательских экземпляров, выполняющихся на компьютере. Функцию пользовательского экземпляра часто называют "запуском от имени обычного пользователя" (Run As Normal User, RANU).  
  
> [!NOTE]  
> Имена пользователей, подготавливаемые в ходе установки в качестве членов предопределенной роли сервера **sysadmin**, имеют права администратора в базе данных образцов. Они являются членами предопределенной роли сервера **sysadmin** на пользовательском экземпляре, если вы их не удалите.  
  
**Добавление пользователя к роли администратора [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]** .  По умолчанию этот параметр отключен. Чтобы добавить к роли администратора [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] пользователя, выполняющего установку, установите этот флажок.  
  
Пользователи [!INCLUDE[wiprlhext](../../includes/wiprlhext-md.md)], которые являются членами группы BUILTIN\Administrators, не добавляются автоматически к предопределенной роли сервера **sysadmin** при соединении с [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)]. [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] могут администрировать только пользователи [!INCLUDE[wiprlhext](../../includes/wiprlhext-md.md)], явно добавленные к роли администратора на уровне сервера. С экземпляром [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] может соединяться любой член группы Built-In\Users, но у него будут ограниченные разрешения для выполнения задач в базе данных. По этой причине пользователям, чьи права доступа на [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] наследуются от групп BUILTIN\Administrators и Built-In\Users из предыдущих версий Windows, должны быть явно предоставлены права доступа администратора на экземплярах [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)] под управлением [!INCLUDE[wiprlhext](../../includes/wiprlhext-md.md)].  
  
Чтобы изменить роли пользователей после завершения программы установки, примените [SQL Server Management Studio](../../relational-databases/security/authentication-access/join-a-role.md) или [Transact-SQL](../../t-sql/statements/alter-role-transact-sql.md).