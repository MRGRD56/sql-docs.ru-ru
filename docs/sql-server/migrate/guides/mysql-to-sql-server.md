---
title: Руководство по миграции из MySQL в SQL Server
description: 'Из этого руководства вы узнаете, как перенести базы данных MySQL в Microsoft SQL Server с использованием Помощника по миграции SQL Server для MySQL (SSMA для MySQL). '
ms.prod: sql
ms.reviewer: ''
ms.technology: migration-guide
ms.custom: ''
ms.devlang: ''
ms.topic: how-to
author: MashaMSFT
ms.author: mathoma
ms.date: 03/19/2021
ms.openlocfilehash: 454466e2f387f7bc11d80660eb0534f67aecb7a8
ms.sourcegitcommit: 0310fdb22916df013eef86fee44e660dbf39ad21
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/20/2021
ms.locfileid: "104751584"
---
# <a name="migration-guide-mysql-to-sql-server"></a>Руководство по миграции. Перенос баз данных MySQL в SQL Server
[!INCLUDE[sqlserver](../../../includes/applies-to-version/sqlserver.md)]

Это руководств поможет вам перенести базы данных MySQL в SQL Server. 

Другие руководства по миграции см. в разделе [Перенос базы данных](https://datamigration.microsoft.com/). 

## <a name="prerequisites"></a>Предварительные требования 

Чтобы перенести базу данных MySQL в SQL Server, необходимо:

- подключение к исходной базе данных MySQL для выполнения оценки и преобразования;
- [Помощник по миграции SQL Server для MySQL](https://aka.ms/ssmaformysql).

## <a name="pre-migration"></a>Подготовка к миграции 

После выполнения необходимых условий можно приступать к анализу исходной среды MySQL и оценке возможности миграции.

### <a name="assess"></a>Оценка 

Чтобы создать оценку с помощью [SSMA для MySQL](https://aka.ms/ssmaformysql), выполните указанные ниже действия. 

1. Откройте Помощник по миграции SQL Server для MySQL. 
1. В меню **Файл** выберите пункт **Новый проект**. Укажите имя проекта, расположение для сохранения проекта и целевой объект миграции. Для параметра **Перенести в** выберите значение **SQL Server**. 

   ![Создать проект](./media/mysql-to-sql-server/new-project.png)

1. Укажите сведения о подключении в диалоговом окне **Подключение к MySQL** и подключитесь к серверу MySQL. 

   ![Подключение к MySQL](./media/mysql-to-sql-server/connect-to-mysql.png)

1. Щелкните правой кнопкой мыши схему MySQL в **обозревателе метаданных MySQL** и выберите команду **Создать отчет**. Кроме того, команду **Создать отчет** можно выбрать на верхней панели навигации. 

   ![Создавать отчет](./media/mysql-to-sql-server/create-report.png)

1. Ознакомьтесь с отчетом в формате HTML, чтобы получить сведения о статистике преобразований, ошибках и предупреждениях. Проанализируйте отчет, чтобы понять, какие проблемы с преобразованиями имеются и как их устранить. 

   Этот отчет можно также открыть из папки проектов SSMA, как показано на первом экране. В приведенном выше примере найдите файл report.xml в следующей папке:

   `drive:\Users\<username>\Documents\SSMAProjects\MySQLMigration\report\report_2016_11_12T02_47_55\`
 
   и откройте его в Excel, чтобы получить список объектов MySQL и действий, необходимых для преобразования схемы.

   ![Отчет о преобразовании](./media/mysql-to-sql-server/conversion-report.png)

### <a name="validate-type-mappings"></a>Проверка сопоставлений типов

Проверьте сопоставления типов данных по умолчанию и измените их в зависимости от требований, если это необходимо. Для этого выполните следующие действия. 

1. В главном меню выберите **Сервис**. 
1. Выберите **Параметры проекта**. 
1. Перейдите на вкладку **Сопоставления типов**. 

   ![Сопоставление типов](./media/mysql-to-sql-server/type-mappings.png)

1. Сопоставление типов для каждой таблицы можно изменить, выбрав таблицу в **обозревателе метаданных MySQL**. 


Дополнительные сведения о параметрах преобразования в SSMA см. в статье [Параметры проекта (преобразование) (MySQLToSQL)](../../../ssma/mysql/project-settings-conversion-mysqltosql.md).

### <a name="convert-schema"></a>Преобразовать схему

Преобразование объектов баз данных происходит следующим образом: определения объектов берутся из MySQL, преобразуются в аналогичные объекты SQL Server, а затем эти сведения загружаются в метаданные SSMA. Сведения не загружаются в экземпляр SQL Server. Затем можно просмотреть объекты и их свойства в обозревателе метаданных SQL Server.

Во время преобразования SSMA выводит сообщения о результатах в области "Вывод" и сообщения об ошибках в области "Список ошибок". На основе выходных данных и сведений об ошибках можно определить, нужно ли изменить базы данных MySQL или процесс преобразования, чтобы получить нужные результаты.

Чтобы преобразовать схему, выполните следующие действия.

1. (Необязательно) Чтобы преобразовать динамические или нерегламентированные запросы, щелкните узел правой кнопкой мыши и выберите команду **Добавить инструкцию**. 
1. На верхней панели навигации выберите **Подключение к SQL Server** и укажите сведения об SQL Server. Можно выбрать подключение к существующей базе данных или указать новое имя. В этом случае база данных будет создана на целевом сервере.

   ![Подключение к SQL](./media/mysql-to-sql-server/connect-to-sql-server.png)

1. Щелкните правой кнопкой мыши схему MySQL в **обозревателе метаданных MySQL** и выберите команду **Преобразовать схему**. Кроме того, команду **Преобразовать схему** можно выбрать на верхней панели навигации. 

   ![Преобразовать схему](./media/mysql-to-sql-server/convert-schema.png)

1. Сравните и изучите структуру схемы для поиска потенциальных проблем. 

   Сравнение преобразованных объектов с исходными: 

   ![Сравнение и проверка объекта](./media/mysql-to-sql-server/table-comparison.png)

   Сравнение преобразованных представлений с исходными: 

   ![Сравнение и проверка преобразованного кода](./media/mysql-to-sql-server/procedure-comparison.png)
   
   
   В меню **Файл** выберите команду **Сохранить проект**. Таким образом можно оценить исходную и целевую схемы в автономном режиме и исправить проблемы перед публикацией схемы в SQL Server.

Дополнительные сведения см. в статье [Преобразование баз данных MySQL (MySQLToSQL)](../../../ssma/mysql/converting-mysql-databases-mysqltosql.md).

## <a name="migration"></a>Миграция 

Выполнив необходимые условия и задачи, связанные с этапом **подготовки к миграции**, можно приступить к переносу схемы и данных.

Есть два варианта переноса данных.

- **Перенос данных на стороне клиента**.
     -   Для **переноса данных на стороне клиента** в диалоговом окне **Параметры проекта** выберите вариант **Подсистема переноса данных на стороне клиента**.

    > [!NOTE]
    > Если целевой базой данных является выпуск SQL Express Edition, то разрешен только перенос данных на стороне клиента. Перенос данных на стороне сервера не поддерживается.

- **Перенос данных на стороне сервера**.
    -   Прежде чем выполнять перенос данных на стороне сервера, необходимо выполнить следующие требования:
        - пакет расширений SSMA для MySQL должен быть установлен в экземпляре SQL Server;
        - служба агента SQL Server должна быть запущена в экземпляре SQL Server. 
    -   Для **переноса данных на стороне сервера** в диалоговом окне **Параметры проекта** выберите вариант **Подсистема переноса данных на стороне сервера**.

> [!IMPORTANT]  
> Если используется подсистема переноса данных на стороне сервера, то перед переносом необходимо установить пакет расширения SSMA для MySQL и поставщики MySQL на компьютере, на котором выполняется SSMA. Кроме того, должна быть запущена служба агента SQL Server. Дополнительные сведения об установке пакета расширения см. в разделе [Установка компонентов SSMA в SQL Server (миграция из MySQL в SQL)](../../../ssma/mysql/installing-ssma-components-on-sql-server-mysqltosql.md).  

Чтобы опубликовать схему и перенести данные, выполните указанные ниже действия. 

1. Щелкните правой кнопкой мыши базу данных в **обозревателе метаданных SQL Server** и выберите пункт **Синхронизировать с базой данных**.  Это действие публикует схему MySQL в экземпляре SQL Server.

   ![Синхронизация с базой данных](./media/mysql-to-sql-server/synchronize-database.png)

   Проверка синхронизации с базой данных:

   ![Синхронизация с базой данных — проверка](./media/mysql-to-sql-server/synchronize-database-review.png)

1. Щелкните правой кнопкой мыши схему MySQL в **обозревателе метаданных MySQL** и выберите команду **Перенос данных**.  Кроме того, команду **Перенос данных** можно выбрать на верхней панели навигации. 

   ![Перенос данных](./media/mysql-to-sql-server/migrate-data.png)

1. После завершения миграции просмотрите **отчет о переносе данных**: 

   ![Отчет о миграции данных](./media/mysql-to-sql-server/migration-report.png)

1. Проверьте результат миграции, просмотрев данные и схему экземпляра SQL Server с помощью SQL Server Management Studio (SSMS).

   ![Проверка в SSMA](./media/mysql-to-sql-server/validate-in-ssms.png)



## <a name="post-migration"></a>После миграции 

После успешного завершения этапа **миграции** необходимо выполнить ряд задач, чтобы обеспечить бесперебойную и эффективную работу всех компонентов.

### <a name="remediate-applications"></a>Исправление приложений

После переноса данных в целевую среду все приложения, которые раньше использовали источник, должны приступить к приему целевого объекта. Для этого в некоторых случаях потребуется внести изменения в приложения.

### <a name="perform-tests"></a>Выполнение тестов

Тестирование переноса базы данных включает указанные ниже действия.

1. **Разработка проверочных тестов**. Чтобы протестировать перенос базы данных, необходимо использовать SQL-запросы. Необходимо создать запросы проверки, которые будут выполняться как в исходной, так и в целевой базах данных. Запросы на проверку должны охватывать определенную область.

2. **Настройка тестовой среды**. Тестовая среда должна содержать копию исходной и целевой баз данных. Не забудьте изолировать тестовую среду.

3. **Выполнение проверочных тестов**. Выполните проверочные тесты для источника и целевого объекта, а затем проанализируйте результаты.

4. **Выполнение тестов производительности**. Запустите тест производительности для источника и целевого объекта, а затем проанализируйте и сравните результаты.


### <a name="optimize"></a>Оптимизация

Проверка после миграции — очень важный шаг, позволяющий добиться точности и полноты данных, а также выявить проблемы с производительностью рабочей нагрузки.

> [!NOTE] 
> Дополнительные сведения об этих проблемах и мерах по их устранению см. в [руководстве по проверке и оптимизации после миграции](https://docs.microsoft.com/sql/relational-databases/post-migration-validation-and-optimization-guide).

## <a name="migration-assets"></a>Ресурсы, посвященные миграции 

Дополнительные сведения о выполнении сценария миграции см. на следующих ресурсах, которые были разработаны с учетом поддержки реального проекта миграции.

| Название со ссылкой                    | Описание            |
| ----------------------------- | ---------------------- |
| [Модель и средство оценки рабочей нагрузки данных](https://github.com/Microsoft/DataMigrationTeam/tree/master/Data%20Workload%20Assessment%20Model%20and%20Tool) | Это средство предоставляет предлагаемые "оптимальные" целевые платформы, готовность к переходу в облако и уровень исправления приложения/базы данных для конкретной рабочей нагрузки. Оно обеспечивает простое и быстрое вычисление и создание отчетов, которое помогает ускорить оценку больших объемов, предоставляя, автоматизируя и унифицируя процесс принятия решения относительно целевой платформы.                |

Эти ресурсы были разработаны в рамках программы Data SQL Ninja, которая спонсируется группой разработчиков Azure Data Group. Основная часть программы Data SQL Ninja заключается в разрешении и ускорении сложной модернизации и реализация перехода на платформу данных Microsoft Azure. Если вы считаете, что ваша организация заинтересована в участии в программе Data SQL Ninja, обратитесь в службу поддержки своей учетной записи и попросите отправить заявку.

## <a name="next-steps"></a>Следующие шаги

- Дополнительные сведения о переносе баз данных MySQL в SQL Server см. в [документации по SSMA для MySQL](../../../ssma/mysql/sql-server-migration-assistant-for-mysql-mysqltosql.md).

- Матрицу служб и средств Майкрософт и сторонних производителей, доступных для помощи в различных сценариях переноса баз данных и данных, а также специальных задачах, см. в статье [Службы и средства для переноса данных](https://docs.microsoft.com/azure/dms/dms-tools-matrix).

- Другие руководства по миграции см. в разделе [Перенос базы данных](https://datamigration.microsoft.com/). 

