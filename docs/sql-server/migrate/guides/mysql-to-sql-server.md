---
title: Перенос баз данных MySQL в SQL Server
description: 'Из этого руководства вы узнаете, как перенести базы данных MySQL в Microsoft SQL Server с использованием Помощника по миграции SQL Server для MySQL (SSMA для MySQL). '
ms.prod: sql
ms.reviewer: ''
ms.technology: migration-guide
ms.custom: ''
ms.devlang: ''
ms.topic: conceptual
author: MashaMSFT
ms.author: mathoma
ms.date: 03/19/2021
ms.openlocfilehash: f944cca6674abf9488729c945dbd4a53aee9ef27
ms.sourcegitcommit: ecf074e374426c708073c7da88313d4915279fb9
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/16/2021
ms.locfileid: "103603315"
---
# <a name="migration-guide-mysql-to-sql-server"></a>Руководство по миграции. Перенос баз данных MySQL в SQL Server

Это руководств поможет вам перенести базы данных MySQL в SQL Server. 

Другие руководства по миграции см. в разделе [Перенос базы данных](https://datamigration.microsoft.com/). 

## <a name="prerequisites"></a>Предварительные требования 

Чтобы перенести базу данных MySQL в SQL Server, необходимо:

- подключение к исходной базе данных MySQL для выполнения оценки и преобразования;
- [Помощник по миграции SQL Server для MySQL](https://aka.ms/ssmaformysql).

## <a name="pre-migration"></a>Подготовка к миграции 

После выполнения необходимых условий можно приступать к анализу исходной среды MySQL и оценке возможности миграции.
Перед началом миграции с помощью SSMA необходимо выполнить следующие действия:

1.  Создайте новый проект.  
2.  подключиться к базе данных MySQL.
3.  После успешного подключения в обозревателе метаданных MySQL отобразятся схемы MySQL. Щелкните правой кнопкой мыши объект в обозревателе метаданных MySQL, чтобы выполнить такие задачи, как создание отчетов для оценки преобразований в SQL Server.

### <a name="assess"></a>Оценка 


Чтобы создать оценку с помощью [SSMA для MySQL](https://aka.ms/ssmaformysql), выполните указанные ниже действия. 

1. Откройте Помощник по миграции SQL Server для MySQL. 
1. В меню **Файл** выберите пункт **Новый проект**. Укажите имя проекта, расположение для сохранения проекта и целевой объект миграции.
1. Для параметра **Перенести в** выберите значение **SQL Server**. 
1. Укажите сведения о подключении в диалоговом окне **Подключение к MySQL** и подключитесь к серверу MySQL. 
1. Щелкните правой кнопкой мыши схему MySQL в **обозревателе метаданных MySQL** и выберите команду **Создать отчет**. Кроме того, команду **Создать отчет** можно выбрать на верхней панели навигации. 
1. Ознакомьтесь с отчетом в формате HTML, чтобы получить сведения о статистике преобразований, ошибках и предупреждениях. Проанализируйте отчет, чтобы понять, какие проблемы с преобразованиями имеются и как их устранить. 

   Этот отчет можно также открыть из папки проектов SSMA, как показано на первом экране. В приведенном выше примере найдите файл report.xml в следующей папке:

   `drive:\Users\<username>\Documents\SSMAProjects\MySQLMigration\report\report_2016_11_12T02_47_55\`
 
   и откройте его в Excel, чтобы получить список объектов MySQL и действий, необходимых для преобразования схемы.

### <a name="validate-type-mappings"></a>Проверка сопоставлений типов

Перед преобразованием схемы проверьте сопоставления типов данных по умолчанию и измените их с учетом ваших требований. Для этого можно выбрать в меню **Сервис** пункт **Параметры проекта** или изменить сопоставление типов для каждой таблицы, выбрав таблицу в **обозревателе метаданных MySQL**.

Дополнительные сведения о параметрах преобразования в SSMA см. в разделе [Параметры проекта](../../../ssma/mysql/project-settings-conversion-mysqltosql.md).

### <a name="convert-schema"></a>Преобразовать схему

Преобразование объектов баз данных происходит следующим образом: определения объектов берутся из MySQL, преобразуются в аналогичные объекты SQL Server, а затем эти сведения загружаются в метаданные SSMA. Сведения не загружаются в экземпляр SQL Server. Затем можно просмотреть объекты и их свойства в обозревателе метаданных SQL Server.

Во время преобразования SSMA выводит сообщения о результатах в области "Вывод" и сообщения об ошибках в области "Список ошибок". На основе выходных данных и сведений об ошибках можно определить, нужно ли изменить базы данных MySQL или процесс преобразования, чтобы получить нужные результаты.

Чтобы преобразовать схему, выполните следующие действия.

1. (Необязательно) Чтобы преобразовать динамические или нерегламентированные запросы, щелкните узел правой кнопкой мыши и выберите команду **Добавить инструкцию**. 
1. На верхней панели навигации выберите **Подключение к SQL Server** и укажите сведения об SQL Server. Можно выбрать подключение к существующей базе данных или указать новое имя. В этом случае база данных будет создана на целевом сервере.
1. Щелкните правой кнопкой мыши схему MySQL в **обозревателе метаданных MySQL** и выберите команду **Преобразовать схему**. Кроме того, команду **Преобразовать схему** можно выбрать на верхней панели навигации. 
1. Сравните и изучите структуру схемы для поиска потенциальных проблем. 

   После преобразования схемы проект можно сохранить локально для исправления схемы в автономном режиме. В меню **Файл** выберите команду **Сохранить проект**. Таким образом можно оценить исходную и целевую схемы в автономном режиме и исправить проблемы перед публикацией схемы в SQL Server.

Дополнительные сведения см. в статье [Преобразование баз данных MySQL](../../../ssma/mysql/converting-mysql-databases-mysqltosql.md).

## <a name="migration"></a>Миграция 

Выполнив необходимые условия и задачи, связанные с этапом **подготовки к миграции**, можно приступить к переносу схемы и данных.

Есть два варианта переноса данных.

- **Перенос данных на стороне клиента**.
     -   Для **переноса данных на стороне клиента** в диалоговом окне **Параметры проекта** выберите вариант **Подсистема переноса данных на стороне клиента**.

    > [!NOTE]
    > Если целевой базой данных является выпуск SQL Express Edition, то разрешен только перенос данных на стороне клиента. Перенос данных на стороне сервера не поддерживается.

- **Перенос данных на стороне сервера**.
    -   Прежде чем выполнять перенос данных на стороне сервера, необходимо выполнить следующие требования:
        - пакет расширений SSMA для MySQL должен быть установлен в экземпляре SQL Server;
        - служба агента SQL Server должна быть запущена в экземпляре SQL Server. 
    -   Для **переноса данных на стороне сервера** в диалоговом окне **Параметры проекта** выберите вариант **Подсистема переноса данных на стороне сервера**.

> [!IMPORTANT]  
> Если используется подсистема переноса данных на стороне сервера, то перед переносом необходимо установить пакет расширения SSMA для MySQL и поставщики MySQL на компьютере, на котором выполняется SSMA. Кроме того, должна быть запущена служба агента SQL Server. Дополнительные сведения об установке пакета расширения см. в разделе [Установка компонентов SSMA в SQL Server (миграция из MySQL в SQL)](../../../ssma/mysql/installing-ssma-components-on-sql-server-mysqltosql.md).  

Чтобы опубликовать схему и перенести данные, выполните указанные ниже действия. 

1. Щелкните правой кнопкой мыши базу данных в **обозревателе метаданных SQL Server** и выберите пункт **Синхронизировать с базой данных**.  Это действие публикует схему MySQL в экземпляре SQL Server.
1. Щелкните правой кнопкой мыши схему MySQL в **обозревателе метаданных MySQL** и выберите команду **Перенос данных**.  Кроме того, команду **Перенос данных** можно выбрать на верхней панели навигации.  
1. После завершения миграции просмотрите **отчет о переносе данных**: 
1. Проверьте результат миграции, просмотрев данные и схему экземпляра SQL Server с помощью SQL Server Management Studio (SSMS).

## <a name="post-migration"></a>После миграции 

После успешного завершения этапа **миграции** необходимо выполнить ряд задач, чтобы обеспечить бесперебойную и эффективную работу всех компонентов.

### <a name="remediate-applications"></a>Исправление приложений

После переноса данных в целевую среду все приложения, которые раньше использовали источник, должны приступить к приему целевого объекта. Для этого в некоторых случаях потребуется внести изменения в приложения.

### <a name="perform-tests"></a>Выполнение тестов

Тестирование переноса базы данных включает указанные ниже действия.

1. **Разработка проверочных тестов**. Чтобы протестировать перенос базы данных, необходимо использовать SQL-запросы. Необходимо создать запросы проверки, которые будут выполняться как в исходной, так и в целевой базах данных. Запросы на проверку должны охватывать определенную область.

2. **Настройка тестовой среды**. Тестовая среда должна содержать копию исходной и целевой баз данных. Не забудьте изолировать тестовую среду.

3. **Выполнение проверочных тестов**. Выполните проверочные тесты для источника и целевого объекта, а затем проанализируйте результаты.

4. **Выполнение тестов производительности**. Запустите тест производительности для источника и целевого объекта, а затем проанализируйте и сравните результаты.


### <a name="optimize"></a>Оптимизация

Проверка после миграции — очень важный шаг, позволяющий добиться точности и полноты данных, а также выявить проблемы с производительностью рабочей нагрузки.

> [!NOTE] 
> Дополнительные сведения об этих проблемах и мерах по их устранению см. в [руководстве по проверке и оптимизации после миграции](https://docs.microsoft.com/sql/relational-databases/post-migration-validation-and-optimization-guide).

## <a name="migration-assets"></a>Ресурсы, посвященные миграции 

Дополнительные сведения о выполнении сценария миграции см. на следующих ресурсах, которые были разработаны с учетом поддержки реального проекта миграции.

| Название со ссылкой                    | Описание            |
| ----------------------------- | ---------------------- |
| [Модель и средство оценки рабочей нагрузки данных](https://github.com/Microsoft/DataMigrationTeam/tree/master/Data%20Workload%20Assessment%20Model%20and%20Tool) | Это средство предоставляет предлагаемые "оптимальные" целевые платформы, готовность к переходу в облако и уровень исправления приложения/базы данных для конкретной рабочей нагрузки. Оно обеспечивает простое и быстрое вычисление и создание отчетов, которое помогает ускорить оценку больших объемов, предоставляя, автоматизируя и унифицируя процесс принятия решения относительно целевой платформы.                |

Эти ресурсы были разработаны в рамках программы Data SQL Ninja, которая спонсируется группой разработчиков Azure Data Group. Основная часть программы Data SQL Ninja заключается в разрешении и ускорении сложной модернизации и реализация перехода на платформу данных Microsoft Azure. Если вы считаете, что ваша организация заинтересована в участии в программе Data SQL Ninja, обратитесь в службу поддержки своей учетной записи и попросите отправить заявку.

## <a name="next-steps"></a>Дальнейшие действия

- Дополнительные сведения о переносе баз данных MySQL в SQL Server см. в [документации по SSMA для MySQL](../../../ssma/mysql/sql-server-migration-assistant-for-mysql-mysqltosql.md).

- Матрицу служб и средств Майкрософт и сторонних производителей, доступных для помощи в различных сценариях переноса баз данных и данных, а также специальных задачах, см. в статье [Службы и средства для переноса данных](https://docs.microsoft.com/azure/dms/dms-tools-matrix).

- Другие руководства по миграции см. в разделе [Перенос базы данных](https://datamigration.microsoft.com/). 

