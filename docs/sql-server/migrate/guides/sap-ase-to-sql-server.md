---
title: Руководство по миграции из SAP ASE в SQL Server
description: Из этого руководства вы узнаете, как перенести базы данных SAP ASE в Microsoft SQL Server с использованием Помощника по миграции SQL Server для SAP ASE (SSMA для SAP ASE).
ms.prod: sql
ms.reviewer: ''
ms.technology: migration-guide
ms.custom: ''
ms.devlang: ''
ms.topic: how-to
author: MashaMSFT
ms.author: mathoma
ms.date: 03/19/2021
ms.openlocfilehash: 7c413bb99520e30882e1746763d803d57006e6bb
ms.sourcegitcommit: 8050df4db7a3a76e4fa03e5c79dcb49031defed7
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/08/2021
ms.locfileid: "107210935"
---
# <a name="migration-guide-sap-ase-to-sql-server"></a>Руководство по миграции из SAP ASE в SQL Server

[!INCLUDE[sqlserver](../../../includes/applies-to-version/sqlserver.md)]

Из этого руководства вы узнаете, как перенести базы данных SAP ASE в SQL Server с использованием Помощника по миграции SQL Server для SAP ASE (SSMA для SAP ASE).

Другие рекомендации по миграции см. в [руководствах по переносу баз данных в Azure](https://docs.microsoft.com/data-migration).

## <a name="prerequisites"></a>Предварительные требования

Прежде чем приступить к переносу базы данных SAP ASE в SQL Server, сделайте следующее:

- Убедитесь, что ваша исходная среда поддерживается.
- Получите [Помощник по миграции SQL Server для SAP Adaptive Server Enterprise (прежнее название — SAP Sybase ASE)](https://www.microsoft.com/download/details.aspx?id=54256).
- Получите возможность подключения и требуемые разрешения для доступа к исходному и целевому объектам.

## <a name="pre-migration"></a>Подготовка к миграции

После выполнения необходимых условий можно приступать к обнаружению топологии среды и оценке возможности миграции.

### <a name="assess"></a>Оценка

Используя SSMA для SAP ASE, можно просмотреть объекты и данные баз данных, оценить возможности переноса баз данных, перенести объекты баз данных Sybase в SQL Server, а затем перенести в SQL Server данные. Дополнительные сведения см. в статье [Помощник по миграции SQL Server для Sybase (SybaseToSQL)](../../../ssma/sybase/sql-server-migration-assistant-for-sybase-sybasetosql.md).

Чтобы создать оценку, выполните следующие действия.

1. Откройте [SSMA для SAP ASE](https://www.microsoft.com/download/details.aspx?id=54256).
1. В меню **Файл** выберите пункт **Создать проект**.
1. Введите имя проекта и расположение для сохранения проекта. Затем в раскрывающемся списке выберите **SQL Server** в качестве целевого объекта миграции и нажмите кнопку **ОК**.
1. В диалоговом окне **Подключение к Sybase** введите сведения о подключении к SAP.
1. Щелкните правой кнопкой мыши базу данных SAP, которую вы хотите перенести, и выберите пункт **Создать отчет**, чтобы создать отчет в формате HTML.
1. Ознакомьтесь с HTML-отчетом, чтобы получить сведения о статистике преобразований и любых ошибках или предупреждениях. Также можно открыть отчет в Excel, чтобы получить список объектов SAP ASE и действий, необходимых для преобразования схемы. По умолчанию отчет находится в папке report в каталоге SSMAProjects, как показано ниже.

    `drive:\<username>\Documents\SSMAProjects\MySAPMigration\report\report_<date>`.

### <a name="validate-the-type-mappings"></a>Проверка сопоставлений типов

Перед преобразованием схемы проверьте сопоставления типов данных по умолчанию и измените их с учетом ваших требований. Можно перейти к меню **Сервис** и выбрать пункт **Параметры проекта** или изменить сопоставление типов для каждой таблицы, выбрав таблицу в **обозревателе метаданных SAP ASE**.

### <a name="convert-the-schema"></a>Преобразование схемы

Чтобы преобразовать схему, выполните следующие действия.

1. (Необязательно) Чтобы преобразовать динамические или специальные запросы, щелкните узел правой кнопкой мыши и выберите команду **Добавить инструкцию**.
1. Откройте вкладку **Подключение к SQL Server** и введите сведения о SQL Server. Можно выбрать подключение к существующей базе данных или указать новое имя. В этом случае база данных будет создана на целевом сервере.
1. Щелкните правой кнопкой мыши базу данных или объект, которые требуется перенести, в разделе **Обозреватель метаданных SAP ASE** и выберите пункт **Перенести данные**. Кроме того, можно выбрать вкладку **Перенос данных**. Чтобы перенести данные для всей базы данных, установите флажок рядом с именем базы данных. Чтобы перенести данные из отдельных таблиц, разверните базу данных, разверните узел **Таблицы** и установите флажок рядом с нужной таблицей. Чтобы не переносить данные из определенной таблицы, снимите флажок.
1. Сравните и изучите структуру схемы для поиска потенциальных проблем.

   После завершения преобразования схемы проект можно сохранить локально для исправления схемы в автономном режиме. В меню **Файл** выберите команду **Сохранить проект**. Так можно оценить исходную и целевую схемы в автономном режиме и исправить проблемы перед публикацией схемы в SQL Server.

Дополнительные сведения см. в разделе [Преобразование схемы](../../../ssma/sybase/converting-sybase-ase-database-objects-sybasetosql.md).

## <a name="migrate"></a>Миграция

Выполнив необходимые условия и задачи, связанные с этапом *подготовки к миграции*, можно приступить к переносу схемы и данных.

Чтобы опубликовать схему и перенести данные, выполните следующие действия.

1. Опубликуйте схему. Для этого щелкните правой кнопкой мыши базу данных в области **Обозреватель метаданных SQL Server** и выберите пункт **Синхронизировать с базой данных**. Это действие публикует схему SAP ASE в экземпляре SQL Server.
1. Перенесите данные. Для этого щелкните правой кнопкой мыши базу данных или объект, которые требуется перенести, в разделе **Обозреватель метаданных SAP ASE** и выберите пункт **Перенести данные**. Кроме того, можно выбрать вкладку **Перенос данных**. Чтобы перенести данные для всей базы данных, установите флажок рядом с именем базы данных. Чтобы перенести данные из отдельных таблиц, разверните базу данных, разверните узел **Таблицы** и установите флажок рядом с нужной таблицей. Чтобы не переносить данные из определенной таблицы, снимите флажок.
1. После завершения миграции изучите **отчет о переносе данных**.
1. Подключитесь к экземпляру SQL Server с помощью [SQL Server Management Studio](/sql/ssms/download-sql-server-management-studio-ssms) и проверьте результаты миграции, просмотрев данные и схему.

## <a name="post-migration"></a>После миграции

После успешного завершения этапа *миграции* необходимо выполнить ряд дополнительных задач, чтобы обеспечить бесперебойную и эффективную работу всех компонентов.

### <a name="remediate-applications"></a>Исправление приложений

После переноса данных в целевую среду все приложения, которые раньше использовали источник, должны переключиться на использование целевого объекта миграции. Для этого в некоторых случаях потребуется внести изменения в приложения.

### <a name="perform-tests"></a>Выполнение тестов

Тестирование переноса базы данных включает следующие действия.

1. **Разработка проверочных тестов**. Чтобы протестировать перенос базы данных, необходимо использовать SQL-запросы. Необходимо создать запросы проверки, которые будут выполняться как в исходной, так и в целевой базах данных. Проверочные запросы должны охватывать всю определенную ранее область.
1. **Настройка тестовой среды.** Тестовая среда должна содержать копию исходной и целевой баз данных. Не забудьте изолировать тестовую среду.
1. **Выполнение проверочных тестов.** Выполните проверочные тесты в исходной и целевой базах данных, а затем проанализируйте результаты.
1. **Выполнение тестов производительности.** Запустите тесты производительности для исходной и целевой баз данных, а затем проанализируйте и сравните результаты.

### <a name="optimize"></a>Оптимизация

Проверка после миграции — очень важный шаг, позволяющий добиться точности и полноты данных и устранить проблемы с производительностью рабочей нагрузки.

> [!Note]
> Дополнительную информацию об этих проблемах и мерах по их устранению см. в [руководстве по проверке и оптимизации после миграции](../../../relational-databases/post-migration-validation-and-optimization-guide.md).

## <a name="migration-assets"></a>Ресурсы, посвященные миграции

Дополнительную помощь по этому сценарию миграции можно получить в приведенных ниже ресурсах. Они были разработаны как вспомогательные материалы по реализации реальных проектов миграции.

| Заголовок                                                                                                       | Описание                                                                                                                                                                                                                                                                                                                                                                                                     |
| --------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| [Руководство по оптимизации для приложений и данных мейнфреймов, перекомпилированных в .NET и SQL Server](https://aka.ms/dmj-wp-mainframe-optimize) | В этом руководстве предлагаются советы по максимально эффективной оптимизации уточняющих запросов к SQL Server из .NET. Клиенты, которые хотят перенести базы данных с мейнфреймов в SQL Server, могут перенести существующие конструктивные шаблоны, оптимизированные для мейнфреймов, в том числе с помощью сторонних средств (таких как компилятор Raincode) для автоматического переноса кода с мейнфреймов (например, COBOL/JCL) в T-SQL и C# .NET. |

> [!NOTE]
> Эти ресурсы разработали специалисты по разработке данных SQL. Основная задача этой команды — включить и ускорить комплексную модернизацию проектов миграции платформы данных на платформу данных Microsoft Azure.

## <a name="next-steps"></a>Дальнейшие действия

- Обзор руководства по миграции в Базу данных Azure см. в видеоролике [Использование руководства по переносу баз данных](https://azure.microsoft.com/resources/videos/how-to-use-the-azure-database-migration-guide/).
- Матрицу служб и средств, предоставляемых корпорацией Майкрософт и сторонними разработчиками для оказания помощи с разными сценариями переноса баз данных и данных, а также для специализированных задач, см. в статье [Службы и инструменты для переноса данных](https://docs.microsoft.com/azure/dms/dms-tools-matrix).
- Другие рекомендации по миграции см. в [руководствах по переносу баз данных в Azure](https://datamigration.microsoft.com/).
- См. видеоролик о миграции [Общие сведения о процессе миграции и средствах и службах, рекомендованных для выполнения оценки и миграции](https://azure.microsoft.com/resources/videos/overview-of-migration-and-recommended-tools-services/).
