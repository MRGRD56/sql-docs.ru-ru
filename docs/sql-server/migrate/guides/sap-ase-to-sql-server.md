---
title: Руководство по миграции из SAP ASE в SQL Server
description: 'Из этого руководства вы узнаете, как перенести базы данных SAP ASE в Microsoft SQL Server с использованием Помощника по миграции SQL Server для SAP ASE (SSMA для SAP ASE). '
ms.prod: sql
ms.reviewer: ''
ms.technology: migration-guide
ms.custom: ''
ms.devlang: ''
ms.topic: how-to
author: MashaMSFT
ms.author: mathoma
ms.date: 03/19/2021
ms.openlocfilehash: 89a33b91af02393fef62189d076a17eea46ffa29
ms.sourcegitcommit: 17f05be5c08cf9a503a72b739da5ad8be15baea5
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/25/2021
ms.locfileid: "105103781"
---
# <a name="migration-guide-sap-ase-to-sql-server"></a>Руководство по миграции из SAP ASE в SQL Server
[!INCLUDE[sqlserver](../../../includes/applies-to-version/sqlserver.md)]

Из этого руководства вы узнаете, как перенести базы данных SAP ASE в SQL Server с использованием Помощника по миграции SQL Server для SAP ASE.

Другие руководства по миграции см. в разделе [Перенос базы данных](https://docs.microsoft.com/data-migration). 

## <a name="prerequisites"></a>Предварительные требования 

Чтобы перенести базу данных SAP ASE в SQL Server, необходимо:

- проверить, поддерживается ли исходная среда; 
- установить [Помощник по миграции SQL Server для SAP Adaptive Server Enterprise (прежнее название — SAP Sybase ASE)](https://www.microsoft.com/download/details.aspx?id=54256). 
- иметь возможность подключения и требуемые разрешения для доступа к исходному и целевому объектам. 

## <a name="pre-migration"></a>Подготовка к миграции

После выполнения необходимых условий можно приступать к поиску топологии среды и оценить возможность миграции.

### <a name="assess"></a>Оценка

Используя Помощник по миграции SQL Server (SSMA) для SAP ASE, можно просмотреть объекты и данные баз данных, оценить возможность переноса баз данных, перенести объекты баз данных Sybase в SQL Server, а затем перенести данные в SQL Server. Дополнительные сведения см. в статье [Помощник по миграции SQL Server для Sybase (SybaseToSQL)](../../../ssma/sybase/sql-server-migration-assistant-for-sybase-sybasetosql.md).

Чтобы создать оценку, выполните следующие действия. 

1. Откройте [Помощник по миграции SQL Server для SAP ASE](https://www.microsoft.com/download/details.aspx?id=54256). 
1. Выберите **Файл**, а затем пункт **Новый проект**. 
1. Укажите имя проекта, расположение для сохранения проекта, а затем выберите из раскрывающегося списка целевой объект миграции SQL Server. Щелкните **ОК**.
1. Введите сведения о подключении к SAP в диалоговом окне **Подключение к Sybase**. 
1. Щелкните правой кнопкой мыши схему SAP, которую необходимо перенести, и выберите команду **Создать отчет**. Будет создан отчет в формате HTML.
1. Ознакомьтесь с HTML-отчетом, чтобы получить сведения о статистике преобразований и любых ошибках или предупреждениях. Также можно открыть отчет в Excel, чтобы получить список объектов SAP ASE и действий, необходимых для преобразования схемы. Расположение отчета по умолчанию находится в папке "report" в каталоге SSMAProjects.

   Например: `drive:\<username>\Documents\SSMAProjects\MySAPMigration\report\report_<date>`. 


### <a name="validate-type-mappings"></a>Проверка сопоставлений типов

Перед преобразованием схемы проверьте сопоставления типов данных по умолчанию и измените их с учетом ваших требований. Для этого можно выбрать в меню **Сервис** пункт **Параметры проекта** или изменить сопоставление типов для каждой таблицы, выбрав таблицу в **обозревателе метаданных SAP ASE**.


### <a name="convert-schema"></a>Преобразовать схему

Чтобы преобразовать схему, выполните следующие действия.

1. (Необязательно) Чтобы преобразовать динамические или нерегламентированные запросы, щелкните узел правой кнопкой мыши и выберите команду **Добавить инструкцию**. 
1. На верхней панели навигации выберите **Подключение к SQL Server** и укажите сведения об SQL Server. Можно выбрать подключение к существующей базе данных или указать новое имя. В этом случае база данных будет создана на целевом сервере.
1. Щелкните правой кнопкой мыши базу данных или объект, которые требуется перенести, в разделе **SAP ASE Metadata Explorer** (Обозреватель метаданных SAP ASE) и выберите пункт **Migrate data** (Перенести данные). Кроме того, команду **Перенос данных** можно выбрать на верхней панели навигации. Чтобы перенести данные всей базы данных, установите флажок рядом с ее именем. Чтобы перенести данные из отдельной таблицы, разверните базу данных, разверните узел "Таблицы" и установите флажок рядом с таблицей. Чтобы не переносить данные из определенной таблицы, снимите флажок. 
1. Сравните и изучите структуру схемы для поиска потенциальных проблем. 

   После преобразования схемы проект можно сохранить локально для исправления схемы в автономном режиме. В меню **Файл** выберите команду **Сохранить проект**. Таким образом можно оценить исходную и целевую схемы в автономном режиме и исправить проблемы перед публикацией схемы в SQL Server.

Дополнительные сведения см. в разделе [Преобразование схемы](../../../ssma/sybase/converting-sybase-ase-database-objects-sybasetosql.md).


## <a name="migrate"></a>Миграция 

Выполнив необходимые условия и задачи, связанные с этапом **подготовки к миграции**, можно приступить к переносу схемы и данных.

Чтобы опубликовать схему и перенести данные, выполните следующие действия: 

1. Опубликуйте схему. Для этого щелкните правой кнопкой мыши базу данных в области **SQL Server Metadata Explorer** (Обозреватель метаданных SQL Server) и выберите пункт **Synchronize with Database** (Синхронизировать с базой данных).  Это действие публикует схему SAP ASE в экземпляре SQL Server.
1. Перенесите данные. Для этого щелкните правой кнопкой мыши базу данных или объект, которые требуется перенести, в разделе **SAP ASE Metadata Explorer** (Обозреватель метаданных SAP ASE) и выберите пункт **Migrate data** (Перенести данные). Кроме того, команду **Перенос данных** можно выбрать на верхней панели навигации. Чтобы перенести данные всей базы данных, установите флажок рядом с ее именем. Чтобы перенести данные из отдельной таблицы, разверните базу данных, разверните узел "Таблицы" и установите флажок рядом с таблицей. Чтобы не переносить данные из определенной таблицы, снимите флажок.
1. После завершения миграции просмотрите **отчет о переносе данных**: 
1. Подключитесь к экземпляру SQL Server с помощью [SQL Server Management Studio](/sql/ssms/download-sql-server-management-studio-ssms) и проверьте результаты миграции, просмотрев данные и схему. 


## <a name="post-migration"></a>После миграции 

После успешного завершения этапа **миграции** необходимо выполнить ряд задач, чтобы обеспечить бесперебойную и эффективную работу всех компонентов.

### <a name="remediate-applications"></a>Исправление приложений

После переноса данных в целевую среду все приложения, которые раньше использовали источник, должны приступить к приему целевого объекта. Для этого в некоторых случаях потребуется внести изменения в приложения.

### <a name="perform-tests"></a>Выполнение тестов

Тестирование переноса базы данных включает указанные ниже действия.

1. **Разработка проверочных тестов**. Чтобы протестировать перенос базы данных, необходимо использовать SQL-запросы. Необходимо создать запросы проверки, которые будут выполняться как в исходной, так и в целевой базах данных. Запросы на проверку должны охватывать определенную область.

2. **Настройка тестовой среды**. Тестовая среда должна содержать копию исходной и целевой баз данных. Не забудьте изолировать тестовую среду.

3. **Выполнение проверочных тестов**. Выполните проверочные тесты для источника и целевого объекта, а затем проанализируйте результаты.

4. **Выполнение тестов производительности**. Запустите тест производительности для источника и целевого объекта, а затем проанализируйте и сравните результаты.

### <a name="optimize"></a>Оптимизация

Проверка после миграции — очень важный шаг, позволяющий добиться точности и полноты данных, а также выявить проблемы с производительностью рабочей нагрузки.

> [!Note]
> Дополнительные сведения об этих проблемах и мерах по их устранению см. в [руководстве по проверке и оптимизации после миграции](../../../relational-databases/post-migration-validation-and-optimization-guide.md).


## <a name="migration-assets"></a>Ресурсы, посвященные миграции

Дополнительные сведения о выполнении сценария миграции см. на следующих ресурсах, которые были разработаны с учетом поддержки реального проекта миграции.

| **Название со ссылкой**                                                                                                        | **Описание**                                                                                                                                                                                                                                                                                                                                                                                                     |
| --------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| [Руководство по оптимизации для приложений и данных мейнфреймов, перекомпилированных в .NET и SQL Server](https://aka.ms/dmj-wp-mainframe-optimize) | В этом руководстве предлагаются советы по максимально эффективной оптимизации уточняющих запросов к SQL Server из .NET. Клиенты, которые хотят перенести базы данных с мейнфреймов в SQL Server, могут перенести существующие конструктивные шаблоны, оптимизированные для мейнфреймов, в том числе с помощью сторонних средств (таких как компилятор Raincode) для автоматического переноса кода с мейнфреймов (например, COBOL/JCL) в T-SQL и C# .NET. |

> [!NOTE]
> Эти ресурсы были разработаны в рамках программы Data Migration Jumpstart Program (DM Jumpstart), которая спонсируется группой разработчиков Azure Data Group. Основная часть программы DM Jumpstart заключается в разрешении и ускорении сложной модернизации и реализация перехода на платформу данных Microsoft Azure. Если вы считаете, что ваша организация заинтересована в участии в программе DM Jumpstart, обратитесь в службу поддержки своей учетной записи и попросите отправить заявку.

## <a name="next-steps"></a>Дальнейшие действия

- Обзор руководства по миграции в Базу данных Azure см. в видеоролике [Использование руководства по переносу баз данных](https://azure.microsoft.com/resources/videos/how-to-use-the-azure-database-migration-guide/).

- Матрицу служб и средств Майкрософт и сторонних производителей, доступных для помощи в различных сценариях переноса баз данных и данных, а также специальных задачах, см. в статье [Службы и средства для переноса данных](https://docs.microsoft.com/azure/dms/dms-tools-matrix).

- Другие руководства по миграции см. в разделе [Перенос базы данных](https://datamigration.microsoft.com/). 

Видеоматериалы см. на следующей странице: 
- [Общие сведения о процессе миграции и средствах и службах, рекомендованных для выполнения оценки и миграции](https://azure.microsoft.com/resources/videos/overview-of-migration-and-recommended-tools-services/).
