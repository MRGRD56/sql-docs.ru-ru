---
title: Упорядочивание столбцов, отображаемых в трассировке
titleSuffix: SQL Server Profiler
description: Упрощение анализа выходных данных трассировки SQL Server Profiler путем группирования и агрегирования событий при определении или просмотре трассировки.
ms.prod: sql
ms.prod_service: sql-tools
ms.reviewer: ''
ms.technology: profiler
ms.topic: conceptual
ms.assetid: 6b923f94-0eb1-467e-82f6-ceed43f77017
author: markingmyname
ms.author: maghan
ms.custom: seo-lt-2019
ms.date: 03/01/2017
ms.openlocfilehash: 2727aa7ed5e95881e21eddb73a94ddef97795c08
ms.sourcegitcommit: 917df4ffd22e4a229af7dc481dcce3ebba0aa4d7
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/10/2021
ms.locfileid: "100353417"
---
# <a name="organize-columns-displayed-in-a-trace-sql-server-profiler"></a>упорядочить столбцы, отображаемые в трассировке (приложение SQL Server Profiler)

 [!INCLUDE [SQL Server](../../includes/applies-to-version/sqlserver.md)]

Столбцы данных трассировки можно сгруппировать, нажав кнопку **Систематизировать столбцы** в таблице трассировки или в диалоговом окне **Свойства трассировочного файла** или при определении трассировки. Группировка столбцов данных упрощает анализ результатов трассировки в приложении [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] . Дополнительные сведения см. в статье [Просмотр и анализ трассировок с помощью приложения SQL Server Profiler](../../tools/sql-server-profiler/view-and-analyze-traces-with-sql-server-profiler.md).  
  
 Окно **Систематизация столбцов** позволяет просто сгруппировать события трассировки или сгруппировать и посчитать количество их количество по выбранным столбцам данных.  
  
-   Чтобы просто сгруппировать события трассировки, выберите несколько столбцов данных. Если выбрано несколько столбцов данных, окно трассировки отображает события, сгруппированные по значениям в выбранных столбцах данных. Следующий пример демонстрирует, как выглядит таблица в окне трассировки, если выбраны столбцы данных **Duration** и **StartTime** . Обратите внимание, что столбец **Duration** упорядочен по возрастанию, в отличие от столбца **StartTime** .  
  
|Duration|StartTime|EventClass|ClientProcessID|  
|--------------|---------------|----------------|---------------------|  
||12/12/2006 15:16:43|SQL:StmtStarting|2124|  
|0|12/12/2006 17:39:23|Аудит входа в систему|648|  
|1|12/12/2006 17:24:44|SQL:StmtStarting|2124|  
|25|12/12/2006 17:24:44|SQL:StmtCompleted|648|  
  
-   Чтобы сгруппировать и посчитать количество событий трассировки, выберите один столбец. Если выбран только один столбец, окно трассировки отображает события, сгруппированные по значениям в этом столбце данных (все события с одинаковым признаком сворачиваются в одну строку). В выбранном столбце данных слева от события появляется знак "плюс" ( **+** ), а справа — количество событий, сгруппированных по данному признаку. В следующем примере продемонстрировано, как будет выглядеть таблица в окне трассировки, если сгруппировать события только по столбцу данных **EventClass** . Обратите внимание, что все события упорядочены в столбце данных **EventClass** . Чтобы просмотреть все события, разверните группу классов событий, щелкнув символ «+».  
  
|EventClass|StartTime|Duration|ClientProcessID|  
|----------------|---------------|--------------|---------------------|  
|+ ExistingConnection (6)||||  
|+ SQL:BatchStarting (25)||||  
|+ SQL:StmtCompleted (11)||||  
|+ SQL:SmtStarting (21)||||  
  
### <a name="to-group-data-columns-displayed-in-a-trace"></a>Группировка столбцов данных, отображенных в трассировке  
  
1.  Откройте существующий файл или таблицу трассировки.  
  
2.  В меню **Файл** выберите **Свойства**.  
  
3.  В диалоговом окне **Свойства файла трассировки** или **Свойства таблицы трассировки** перейдите на вкладку **Выбор событий** .  
  
4.  На вкладке **Выбор событий** нажмите кнопку **Систематизировать столбцы**.  
  
5.  В диалоговом окне **Систематизация столбцов** выберите столбцы, которые требуется отображать в группе, и щелкните **Вверх** , чтобы переместить их в список **Группы**. Переместив все нужные столбцы в список **Группы**, можно изменить их порядок кнопками **Вверх** и **Вниз** .  
  
     Если переместить имена столбцов в список **Группы** , то сначала будут отображаться значения первого столбца данных из списка **Группы** , затем второго столбца и т. д **.**  
  
6.  Нажмите кнопку **OК** в диалоговом окне **Систематизировать столбцы** , затем нажмите кнопку **ОК** в диалоговом окне **Свойства таблицы трассировки** или **Свойства файла трассировки** .  
  
     При нажатии кнопки **ОК** в диалоговом окне **Свойства таблицы трассировки** или **Свойства файла трассировки** порядок отображения столбцов данных в отображаемой трассировке изменится. Первым (слева направо) отображается столбец данных, который занимает верхнюю позицию в списке **Группы** . Строки трассировки сортируются по возрастанию значений столбцов данных в списке **Группы** . Столбцы, выбранные для группировки, при отображении остаются фиксированными, однако таблицу можно прокрутить влево или вправо для просмотра других столбцов.  
  
7.  Чтобы отключить группировку данных трассировки, снимите флажок **Группировка** в меню **Вид** . Чтобы восстановить группировку, заново установите флажок **Группировка** в меню **Вид** .  
  
### <a name="to-group-and-aggregate-data-columns-in-a-trace"></a>Группировка и подсчет количества событий в столбцах данных трассировки  
  
1.  Откройте существующий файл или таблицу трассировки.  
  
2.  В меню **Файл** выберите **Свойства**.  
  
3.  В диалоговом окне **Свойства файла трассировки** или **Свойства таблицы трассировки** перейдите на вкладку **Выбор событий** .  
  
4.  На вкладке **Выбор событий** нажмите кнопку **Систематизировать столбцы**.  
  
5.  В диалоговом окне **Систематизация столбцов** выберите один столбец, по которому нужно сгруппировать события трассировки и посчитать их количество. Щелкните **Вверх** , чтобы переместить имя столбца в список **Группы**. Порядок оставшихся столбцов с списке **Столбцы** можно изменить кнопками **Вверх** и **Вниз** .  
  
6.  Нажмите кнопку **OК** в диалоговом окне **Систематизировать столбцы** , затем нажмите кнопку **ОК** в диалоговом окне **Свойства таблицы трассировки** или **Свойства файла трассировки** .  
  
     При нажатии кнопки **ОК** в диалоговом окне **Свойства таблицы трассировки** или **Свойства файла трассировки** порядок отображения столбцов данных в отображаемой трассировке изменится. События в других столбцах данных будут просуммированы по столбцам в списке **Группы** . Щелкнув знак "плюс" ( **+** ) слева от события в столбце данных, можно раскрыть список событий данного типа. Столбец, по которому ведется подсчет, при отображении остается фиксированным, однако таблицу можно прокрутить влево или вправо для просмотра других столбцов.  
  
7.  Чтобы вернуться к обычному отображению данных трассировки, снимите флажок **Суммирование** в меню **Вид** . Чтобы восстановить суммирование, заново установите флажок **Суммирование** в меню **Вид** . Кроме того, можно установить флажок **Группировка** в меню **Вид** , чтобы отображать сгруппированные события трассировки, не сворачивая их.  
  
## <a name="see-also"></a>См. также:  
 [Создание трассировки (приложение SQL Server Profiler)](../../tools/sql-server-profiler/create-a-trace-sql-server-profiler.md)   
 [Открытие таблицы трассировки (приложение SQL Server Profiler)](../../tools/sql-server-profiler/open-a-trace-table-sql-server-profiler.md)   
 [Открыть файл трассировки (приложение SQL Server Profiler)](../../tools/sql-server-profiler/open-a-trace-file-sql-server-profiler.md)  
  
  
