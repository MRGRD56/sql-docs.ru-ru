---
title: Диалоговые окна приложения SQL Server Profiler
titleSuffix: SQL Server Profiler
description: Изучите команды и параметры, доступные в SQL Server Profiler, для использования в трассировках, шаблонах, файлах, таблицах, счетчиках производительности и воспроизведениях.
ms.prod: sql
ms.prod_service: sql-tools
ms.reviewer: ''
ms.technology: profiler
ms.topic: reference
ms.assetid: e57b9160-4b78-4353-abb2-bfdbdf523d7a
author: markingmyname
ms.author: maghan
ms.custom: seo-lt-2019
ms.date: 07/07/2017
ms.openlocfilehash: 6b6e67a848b365a32a1177d2655b49992ef185eb
ms.sourcegitcommit: 370cab80fba17c15fb0bceed9f80cb099017e000
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/17/2020
ms.locfileid: "97643446"
---
# <a name="sql-server-profiler-dialog-boxes"></a>Диалоговые окна приложения SQL Server Profiler

 [!INCLUDE [SQL Server](../../includes/applies-to-version/sqlserver.md)]

Программное средство [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] корпорации Майкрософт позволяет записывать с сервера события [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. События сохраняются в файле трассировки, который затем может быть проанализирован или использован для воспроизведения определенных последовательностей шагов для выявления возникших проблем. Ниже приведены команды и параметры, доступные в диалоговых окнах [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)].  
## <a name="trace-properties"></a>Свойства трассировки
### <a name="general-tab"></a>Вкладка «Общее»
Для просмотра и задания свойств трассировки используйте вкладку **Общие** диалогового окна **Свойства трассировки** .  

|Элемент|Описание
|---|---
|**Имя трассировки** |Задает имя трассировки.  
|**Имя поставщика трассировки**|Показывает имя трассируемого экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] . Это поле заполняется автоматически именем сервера, указанным при подключении. Для изменения имени поставщика трассировки щелкните **Отмена** , чтобы закрыть диалоговое окно, и запустите новую трассировку.  
|**Тип поставщика трассировки**|Показывает тип сервера, предоставляющего трассировку. Файл определения трассировки заполняет поле **Тип поставщика трассировки** автоматически. Это поле нельзя изменить.  
|**version**|Показывает версию сервера, предоставляющего трассировку. Файл определения трассировки заполняет поле **Версия** автоматически. Это поле нельзя изменить.  
|**Использовать шаблон**|Выбирает шаблон из каталога шаблонов. В каталоге содержатся шаблоны по умолчанию и пользовательские шаблоны, созданные для текущего типа поставщика трассировки.  
|**Сохранить в файл**|Собирает данные трассировки в файл с расширением TRC. Сохранение данных трассировки полезно для их просмотра и анализа в дальнейшем.  
|**Установить максимальный размер файла (МБ)**|Если выбран параметр сохранения данных трассировки в файл, необходимо задать максимальный размер этого файла. По умолчанию он составляет 5 мегабайт (МБ). Максимальный размер ограничен только файловой системой (NTFS, FAT), в которой сохраняется файл.  
|**Сохранить как**|После выбора сохранения файла этим значком можно изменить его имя.  
|**Включить операцию переключения на файл продолжения**|Разрешает создавать дополнительные файлы для данных трассировки, когда достигнут максимальный размер файла. Имя нового файла состоит из имени исходного TRC-файла с добавлением последовательного номера. Например, если превышен максимальный размер, закрывается файл **NewTrace.trc** и открывается новый файл **NewTrace_1.trc**, затем **NewTrace_2.trc** и т. д. Операция переключения на файл продолжения по умолчанию включена при сохранении трассировки в файл.  
|**Сервер обрабатывает данные трассировки**|Указывает, чтобы сервер, на котором выполняется трассировка, обрабатывал ее данные. При использовании этого параметра уменьшается потеря производительности, обусловленная трассировкой. Если этот флажок установлен, не пропускаются никакие события даже в случае нештатной ситуации. Если он снят, обработка выполняется приложением SQL Server Profiler; при этом существует вероятность, что некоторые события не будут трассироваться в случае нештатной ситуации.  
|**Сохранить в таблицу**|Собирает данные трассировки в таблицу базы данных. Сохранение данных трассировки полезно для их просмотра и анализа в дальнейшем. Однако сохранение этих данных в таблицу может привести к серьезным потерям производительности на сервере, куда записывается трассировка. По возможности не храните таблицу трассировки на трассируемом сервере.  
|**Целевая таблица**|После выбора сохранения данных трассировки в таблицу базы данных этим значком можно изменять ее имя.  
| **Максимальное число строк (тыс.)**|Задает максимальное количество строк, в которое можно сохранять данные. Значение по умолчанию составляет 1000 строк. 
|**Включить время остановки трассировки**|Задает дату и время завершения и закрытия трассировки. 

### <a name="events-selection-tab"></a>Таблица выбора событий
Вкладка **Выбор событий** диалогового окна **Свойства трассировки** используется для просмотра и указания трассируемых событий и столбцов данных.  

|Элемент|Описание
|---|---
|Столбец **События**|Укажите трассируемые события, устанавливая или снимая флажок в соответствующем столбце. **События** упорядочены по категориям событий. Классы событий, указанные в шаблоне, выбираются автоматически. Дополнительные сведения см. в разделе [SQL Server Event Class Reference](../../relational-databases/event-classes/sql-server-event-class-reference.md).  
|Столбцы данных|Укажите трассируемые столбцы данных, устанавливая флажки для соответствующих событий и столбцов данных. Для каждого из событий, включенных в трассировку, все основные столбцы отмечены по умолчанию.  
|Фильтры|Для определения фильтра щелкните заголовок столбца данных и введите критерии фильтра. Отфильтрованные столбцы данных отображаются значком фильтра слева от метки столбца в диалоговом окне **Изменение фильтра** . Дополнительные сведения см. в разделе [SQL Server Profiler - Edit Filter]().  
|**Показать все события**|Показать все доступные события. По умолчанию отображаются только те строки, которые отмечены в сетке **Выбор событий** . Снимите этот флажок, чтобы скрыть все события, не выбранные в сетке **Выбор событий** .  
|**Показать все столбцы**|Показать все доступные столбцы данных. По умолчанию отображаются только выбранные столбцы данных. Снимите этот флажок, чтобы скрыть все невыбранные столбцы данных в сетке **Выбор событий** .  
|**Фильтры столбцов**|Открывает диалоговое окно **Изменение фильтра** . Это диалоговое окно предназначено для редактирования фильтров столбцов данных.  
|**Систематизировать столбцы**|Изменяет порядок следования столбцов в трассировке и группирует результаты по одному или нескольким столбцам.  

## <a name="trace-template-properties"></a>Свойства шаблона трассировки 
### <a name="new-general-tab"></a>Создать (Вкладка "Общие")
Вкладка **Общие** диалогового окна **Свойства шаблона трассировки** используется для создания новых шаблонов трассировки с использованием следующих параметров. Чтобы открыть это диалоговое окно, в меню приложения [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] **Файл** выберите **Шаблоны**, а затем щелкните **Создать**.

|Элемент|Описание
|---|---
|**Выберите тип сервера**|Задайте тип сервера, для которого будет использоваться этот шаблон.  
|**Имя нового шаблона**|Введите описательное имя шаблона.  
|**Использовать существующий шаблон в качестве основы**|Выберите шаблон из списка, чтобы создать шаблон на основе существующего. Все выбранные события, столбцы данных и фильтры первоначально соответствуют событиям, столбцам данных и фильтрам существующего шаблона, а затем могут редактироваться по мере необходимости.  
|**Применять как шаблон по умолчанию для выбранного типа сервера**|Этот шаблон используется по умолчанию для трассировок, созданных для этого типа сервера.  

### <a name="edit-general-tab"></a>Изменить (Вкладка "Общие")
 Используйте вкладку **Общие** диалогового окна **Свойства шаблона трассировки** для просмотра и редактирования имеющихся шаблонов трассировки с помощью следующих параметров. Чтобы открыть это диалоговое окно, в меню [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] **Файл** укажите пункт **Шаблоны** и выберите команду **Изменить шаблон**.  

|Элемент|Описание
|---|---
|**Выберите тип сервера**|Задайте тип сервера, для которого будет использоваться этот шаблон.  
|**Выберите имя шаблона**|Выберите редактируемый шаблон.  
|**Применять как шаблон по умолчанию для выбранного типа сервера**|Этот шаблон используется по умолчанию для трассировок, созданных для этого типа сервера.  

### <a name="events-selection-tab"></a>Таблица выбора событий
С помощью вкладки **Выбор событий** в окне **Свойства шаблона трассировки** просмотрите, измените или задайте классы событий и столбцы данных, которые будут включены в шаблон трассировки приложения [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] .  

|Элемент|Описание
|---|---
|Столбец **События**|С помощью установки или снятия флажка в столбце событий укажите события для трассировки. События упорядочиваются по категориям событий. Если выбран параметр **Использовать существующий шаблон в качестве основы** на вкладке **Общие** , то события автоматически выбираются в соответствии с указанным шаблоном. Дополнительные сведения о классах событий см. в разделе [SQL Server Event Class Reference](../../relational-databases/event-classes/sql-server-event-class-reference.md).  
|Столбцы данных|С помощью установки флажка, соответствующего нужному событию и столбцу данных, укажите столбцы данных для трассировки. Для каждого трассируемого события по умолчанию выбираются все соответствующие столбцы событий, если установлен флажок, соответствующий этому событию. Если установлен флажок **Использовать существующий шаблон в качестве основы** на вкладке **Общие** , то столбцы данных и фильтры автоматически выбираются в соответствии с указанным шаблоном.  
|Фильтры|Для определения фильтра щелкните заголовок столбца данных и введите критерии фильтра. Отфильтрованные столбцы данных отображаются значком фильтра слева от метки столбца в диалоговом окне **Изменение фильтра** .  
|**Показать все события**|Показать все доступные события. Этот параметр включен по умолчанию при создании нового шаблона, не основанного на существующем шаблоне. Снимите флажок, чтобы скрыть все события, не выбранные в сетке **Выбор событий** .  
|**Показать все столбцы**|Показать все доступные столбцы данных. Этот параметр включен по умолчанию при создании нового шаблона, не основанного на существующем шаблоне. Снимите флажок, чтобы скрыть все столбцы данных, не выбранные в сетке **Выбор событий** .  
|**Фильтры столбцов**|Открывает окно **Изменение фильтра**, в котором слева от метки столбца данных показан значок фильтра. Используйте диалоговое окно **Изменение фильтра** для изменения фильтров столбцов.  
|**Систематизировать столбцы**|Изменяет порядок следования столбцов в трассировке и группирует результаты по одному или нескольким столбцам. 

## <a name="trace-file-properties"></a>Свойства файла трассировки 
### <a name="general-tab"></a>Вкладка «Общее»
Вкладка **Общие** диалогового окна **Свойства файла трассировки** позволяет просмотреть свойства файла трассировки.  
Для просмотра данного окна откройте файл трассировки. Затем в меню **Файл** выберите **Свойства**.  

|Элемент|Описание
|---|---
|**Имя файла**|Путь и имя файла трассировки.  
|**Имя поставщика трассировки**|Имя экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , который подлежал трассировке.  
|**Тип поставщика трассировки**|Тип сервера, обеспечившего трассировку.  
|**version**|Версия сервера, обеспечившего трассировку.  
|**Размер файла (КБ)**|Размер файла трассировки в килобайтах (KБ).  
|**Создан**|Дата и время создания файла трассировки.  
|**Изменен** |Дата и время изменения файла трассировки.  

### <a name="events-selection-tab"></a>Таблица выбора событий
Вкладка **Выбор событий** диалогового окна **Свойства шаблона файла трассировки** позволяет просматривать столбец свойств трассировки и удалять из трассировки столбцы данных.  
Для просмотра данного окна откройте файл трассировки. Затем в меню **Файл** выберите пункт **Свойства** и выберите вкладку **Выбор событий** .  

|Элемент|Описание
|---|---
|Столбец **События**|Просмотр событий трассировки, систематизированных по категориям событий. Изначально выбираются все события в трассировке. Выбор событий может быть осуществлен путем установки флажка для поля или столбца события. При установке флажка выбираются все столбцы данных, доступные для этого события. Если флажок установлен для столбца данных, автоматически устанавливается флажок для события, а также для всех других необходимых столбцов данных. При просмотре файла трассировки или таблицы снятие флажков событий и столбцов данных уменьшает количество видимых в окне трассировки данных, что облегчает их анализ. Существует также возможность изменения фильтров столбцов, что позволяет уменьшить количество видимых в окне трассировки данных. Дополнительные сведения о классах событий см. в разделе [SQL Server Event Class Reference](../../relational-databases/event-classes/sql-server-event-class-reference.md).  
|Столбцы данных|Просмотр столбцов данных трассировки. По умолчанию для каждого события, включенного в трассировку, помечаются все относящиеся к нему столбцы данных трассировки.  
|Фильтры|Для определения фильтра щелкните заголовок столбца данных и введите критерии фильтра. Отфильтрованные столбцы данных отображаются значком фильтра слева от метки столбца в диалоговом окне **Изменение фильтра** .  
|**Показать все события**|Показать все доступные события. По умолчанию отображаются только те строки, которые отмечены в сетке **Выбор событий** . Снимите этот флажок, чтобы скрыть все события, не выбранные в сетке **Выбор событий** . Если установлен флажок **Показать все события** и идет просмотр файла или таблицы трассировки, то все события, фиксировавшиеся в ходе трассировки, отображаются в окне трассировки.  
|**Показать все столбцы**|Показать все доступные столбцы данных. По умолчанию отображаются только выбранные столбцы данных. Снимите этот флажок, чтобы скрыть все невыбранные столбцы данных в сетке **Выбор событий** .  
|**Фильтры столбцов**|Открывает диалоговое окно **Изменить фильтр** , отображающее значок фильтра слева от метки фильтруемых столбцов данных. Используйте диалоговое окно **Изменение фильтра** для изменения фильтров столбцов.  
|**Систематизировать столбцы**|После выбора **событий** и столбцов данных для трассировки нажмите кнопку **Упорядочить столбцы**, чтобы принудительно переупорядочить столбцы в окне результатов трассировки.  

## <a name="trace-table-properties"></a>Свойства таблицы трассировки
### <a name="events-selection-tab"></a>Таблица выбора событий
Используйте вкладку **Выбор событий** в диалоговом окне **Свойства таблицы трассировки** для просмотра событий и свойств столбца данных трассировки или для удаления событий или столбцов из трассировки.  
Для просмотра данного окна используйте приложение [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] , чтобы открыть таблицу трассировки. Далее в меню **Файл** выберите пункт **Свойства** и затем перейдите на вкладку **Выбор событий** .  

|Элемент|Описание
|---|---
|Столбец **События**|Просмотр событий трассировки, систематизированных по категориям событий. Выбор событий может быть осуществлен путем установки флажка для поля или столбца события. При установке флажка выбираются все столбцы данных, доступные для этого события. Если флажок установлен для столбца данных, автоматически устанавливается флажок для события, а также для всех других необходимых столбцов данных. При просмотре файла трассировки или таблицы снятие флажков событий и столбцов данных уменьшает количество видимых в окне трассировки данных, что облегчает их анализ. Существует также возможность изменения фильтров столбцов, что позволяет уменьшить количество видимых в окне трассировки данных. Дополнительные сведения о классах событий см. в разделе [SQL Server Event Class Reference](../../relational-databases/event-classes/sql-server-event-class-reference.md).  
|Иные столбцы данных|Просмотр столбцов данных трассировки. По умолчанию для каждого события, включенного в трассировку, помечаются все относящиеся к нему столбцы данных трассировки.  
|Фильтры|Для определения фильтра щелкните заголовок столбца данных и введите критерии фильтра. Отфильтрованные столбцы данных отображаются значком фильтра слева от метки столбца в диалоговом окне **Изменение фильтра** .  
|**Показать все события**|Показать все доступные события. По умолчанию отображаются только те строки, которые отмечены в сетке **Выбор событий** . Снимите этот флажок, чтобы скрыть все события, не выбранные в сетке **Выбор событий** . Если установлен флажок **Показать все события** и идет просмотр файла или таблицы трассировки, то все события, фиксировавшиеся в ходе трассировки, отображаются в окне трассировки.  
|**Показать все столбцы**|Показать все доступные столбцы данных. По умолчанию отображаются только выбранные столбцы данных. Снимите этот флажок, чтобы скрыть все невыбранные столбцы данных в сетке **Выбор событий** .  
|**Фильтры столбцов**|Запускает диалоговое окно **Изменение фильтра**, которое показывает значок фильтра слева от метки столбца. Используйте это диалоговое окно для редактирования фильтров столбцов.  
|**Систематизировать столбцы** |После выбора **событий** и столбцов данных для трассировки нажмите кнопку **Упорядочить столбцы**, чтобы принудительно переупорядочить столбцы в окне результатов трассировки.  

## <a name="performance-counters-limit"></a>Предел для счетчиков производительности
Используйте диалоговое окно «Предел для счетчиков производительности», чтобы ограничить сведения из файла журнала производительности системного монитора при сопоставлении ее с трассировкой приложения [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] . Можно использовать это диалоговое окно, чтобы выбрать счетчики, которые следует отобразить и использовать для сопоставления.  
Диалоговое окно **Предел для счетчиков производительности** заполняется объектами производительности и счетчиками, которые содержатся в файле журнала производительности.  
### <a name="to-select-performance-objects-and-counters-to-correlate-with-a-trace"></a>Выбор объектов производительности и счетчиков для сопоставления с трассировкой  
1.  Разверните объект производительности, чтобы увидеть, какие счетчики включены в файл журнала производительности.  
2.  Установите флажки рядом со счетчиками, которые необходимо сопоставить с файлом трассировки приложения [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] .  

Если нужно выбрать все счетчики объекта производительности, установите пометку на флажке рядом с объектом производительности. Пометив самый верхний узел, обозначающий компьютер, можно выбрать все объекты производительности и счетчики, содержащиеся в файле журнала производительности. 
## <a name="toolsoptions-general-options-page"></a>Сервис/параметры (страница "Общие параметры")
Диалоговое окно **Общие параметры** используется для просмотра или указания следующих параметров.  
### <a name="display-options"></a>Параметры отображения  

|Элемент|Описание
|---|---
|**Имя шрифта**|Выводит имя шрифта, который во время трассировки используется в сетке результатов трассировки.  
|**Размер шрифта**|Выводит размер шрифта, который во время трассировки используется в сетке результатов трассировки.  
|**Выбор шрифта**|Открывает диалоговое окно для изменения параметров шрифта.  
|**Использовать региональные настройки при показе значений даты и времени**|Выводит значения даты и времени согласно региональным настройкам компьютера. Если не выбрать этот параметр, значения даты и времени будут отображаться в фиксированном формате, используемом Microsoft [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], который включает миллисекунды. Примечание. При установке и снятии этого флажка изменяется формат отображения столбцов времени, таких как **StartTime** и **EndTime**. Однако это не приводит к изменению значений параметров **DateTime**, передаваемых в языковых событиях или удаленных вызовах процедур (вызовах RPC).  
|**Показывать значения в столбце «Длительность» в микросекундах**|Выводит значения в миллисекундах в столбце данных трассировок **Продолжительность** . По умолчанию в столбце **Продолжительность** отображаются значения в миллисекундах.  

### <a name="tracing-options"></a>Параметры трассировки  

|Элемент|Описание
|---|---
|**Начать трассировку немедленно после установки соединения**|Начать трассировку с помощью шаблона по умолчанию сразу после установки соединения.  
|**Обновить определение трассировки при изменении версии поставщика**|Применить для [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] самое последнее определение трассировки, если обновляется поставщик. Этот элемент выключен по умолчанию. Тем самым приложение [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] принудительно запрашивает определение трассировки с сервера и заново создает соответствующий файл на диске, если таковой имеется.  

### <a name="file-rollover-options"></a>Параметры переключения на файл продолжения  

|Элемент|Описание
|---|---
|**Загружать все файлы продолжения по порядку без дополнительных запросов**|Загружать файлы продолжения автоматически при открытии файла трассировки. Если во время трассировки было создано более одного файла, то при выборе этого параметра автоматически загружаются все файлы продолжения.  
|**Запрашивать перед загрузкой файлов продолжения**|При открытии файла трассировки перед добавлением файла продолжения выдается запрос приложения [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] .  
|**Никогда не загружать последующие файлы продолжения**|[!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] никогда не загружает последующие файлы продолжения при открытии файла трассировки.  

### <a name="replay-options"></a>Параметры воспроизведения  

|Элемент|Описание
|---|---
|**Число потоков воспроизведения по умолчанию**|Задайте число потоков воспроизведения, используемых одновременно. При более высоком значении потребляется больше ресурсов, но при этом увеличивается параллелизм воспроизведения.  
|**Интервал опроса монитора исправности по умолчанию (сек)**|Задает интервал ожидания воспроизведения в секундах. По умолчанию — 3 600 секунд (1 час). Этот параметр влияет на продолжительность времени, которое разрешается для выполнения потока, прежде чем его завершит монитор исправности.  
|**Интервал опроса монитора исправности по умолчанию (сек)**|Задайте интервал опроса монитора исправности во время воспроизведения в секундах. По умолчанию — 60 секунд. Это значение дает возможность пользователю определить, как часто монитор исправности выполняет опрос кандидатов на завершение.

## <a name="source-table-database-engine-tuning-advisor-select-workload-table"></a>Исходная таблица (помощник по настройке ядра СУБД — выбор таблицы рабочей нагрузки)
Microsoft SQL Server Profiler и помощник по настройке используют это диалоговое окно для выбора таблиц.  
- В Profiler диалоговое окно **Исходная таблица** используется для задания исходной таблицы для таблицы трассировки. Это таблица, из которой загружается трассировка, и содержимое которой просматривается или используется для воспроизведения трассировки.  
- В помощнике по настройке диалоговое окно **Выбор таблицы рабочей нагрузки** используется для выбора таблицы базы данных, содержащей данные трассировки профилировщика, для использования в качестве рабочей нагрузки при настройке или для предварительного просмотра содержимого таблицы перед началом анализа настройки.  

|Элемент|Описание
|---|---
|**SQL Server**|Указывает экземпляр SQL Server, к которому в данный момент установлено подключение. Это поле заполняется автоматически и не может быть изменено.  
|**База данных**|Задайте базу данных, в которой расположена таблица трассировки.  
|**Владелец**|Specifies the owner of the trace table. Это поле автоматически заполняется значением **dbo**.  
|**Таблица**|Задайте имя таблицы трассировки, из которой должна читаться трассировка.  

## <a name="destination-table"></a>Целевая таблица
Диалоговое окно **Целевая таблица** используется для указания таблицы, в которой необходимо хранить трассировку.  

|Элемент|Описание
|---|---
|**SQL Server**|Указывает экземпляр [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , к которому в данный момент установлено подключение. Это поле заполняется автоматически и не может быть изменено. Чтобы изменить сервер, нажмите **Отмена** и подключитесь к экземпляру [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , на котором необходимо хранить таблицу трассировки.  
|**База данных**|Позволяет указать базу данных, в которой необходимо хранить таблицу трассировки.  
|**Владелец**|Specifies the owner of the trace table. Это поле автоматически заполняется значением **dbo**.  
|**Таблица**|Позволяет указать имя таблицы, в которой необходимо хранить трассировку.  

## <a name="replay-configuration"></a>Конфигурация воспроизведения
### <a name="basic-replay-options"></a>Основные параметры воспроизведения
В диалоговом окне **Конфигурация воспроизведения** страница **Основные параметры воспроизведения** используется для указания способа воспроизведения файла или таблицы трассировки.  
Для просмотра этого окна используйте приложение [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] для открытия файла трассировки или таблицы, содержащей события, предназначенные для воспроизведения. Дополнительные сведения см. в разделе [Replay Requirements](../../tools/sql-server-profiler/replay-requirements.md). Когда файл или таблица трассировки открыты, в меню **Воспроизведение** щелкните **Начать**, a затем подключитесь к экземпляру [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , на котором необходимо воспроизвести трассировку.  

|Элемент|Описание
|---|---
|**Сервер воспроизведения**|Отображает экземпляр сервера [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] для подключения с целью воспроизведения.  
|**Изменить...**|Запускает диалоговое окно **Соединение с сервером** для подключения к другому серверу.  
|**Сохранить в файл** |Сохраняет результаты воспроизведения в файл. [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] отображает стандартное диалоговое окно, в котором можно указать место для сохранения файла.  
|**Сохранить в таблицу**|Сохраняет результаты воспроизведения в таблицу. [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] отображает диалоговое окно выбора таблицы, в котором можно указать место для сохранения таблицы.  
|**Число потоков воспроизведения**|Задайте число потоков воспроизведения, используемых одновременно. Чем больше это число, тем больше ресурсов потребляется при воспроизведении, но при этом воспроизведение ускоряется и возрастает его параллельность.  
|**Воспроизвести события в порядке трассировки**|Позволяет воспроизвести события последовательно. Используйте этот параметр, если трассировка воспроизводится с целью отладки.  
|**Воспроизвести события, используя несколько потоков** |Позволяет воспроизвести события параллельно. Этот параметр позволяет воспроизводить события быстрее, чем в последовательном режиме, но при этом отключается возможность отладки. События упорядочиваются по их системным идентификаторам процессов (SPID).  
|**Отобразить результаты воспроизведения**|Отображает результаты воспроизведения в приложении [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)]. 

### <a name="advanced-replay-options"></a>Дополнительные параметры воспроизведения
В диалоговом окне **Конфигурация воспроизведения** используйте вкладку **Дополнительные параметры воспроизведения** для задания способа воспроизведения файла трассировки.  
Для просмотра этого окна используйте приложение [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] для открытия файла трассировки или таблицы, содержащей события, предназначенные для воспроизведения. Дополнительные сведения см. в разделе [Replay Requirements](../../tools/sql-server-profiler/replay-requirements.md). После открытия файла трассировки или таблицы в меню **Воспроизвести** выберите команду **Запустить**, соединитесь с экземпляром SQL Server, содержащим необходимую трассировку, и перейдите на вкладку **Дополнительные параметры воспроизведения** .  

|Элемент|Описание
|---|---
|**Воспроизвести системные SPID**|Указывает, воспроизводит ли приложение [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] идентификаторы системных процессов (SPID).  
|**Воспроизвести только один SPID**|Воспроизводится только деятельность в файле трассировки источника, относящемся к выбранному SPID.  
|**SPID для воспроизведения**|Задает SPID для воспроизведения.  
|**Ограничить воспроизведение по дате и времени**|Установите для воспроизведения только части файла трассировки источника.  
|**Время начала**|Дата и время из файла трассировки источника, когда должно начаться воспроизведение.  
|**Время завершения**|Дата и время из файла трассировки источника, когда должно завершиться воспроизведение.  
|**Интервал ожидания монитора исправности (сек)**|Задает интервал ожидания воспроизведения в секундах. По умолчанию — 3 600 секунд (1 час). Эта установка влияет на количество времени, предоставляемое для выполнения процесса, по истечении которого монитор исправности прерывает процесс.  
|**Интервал опроса монитора исправности (сек)**|Задайте интервал опроса монитора исправности во время воспроизведения в секундах. По умолчанию — 60 секунд. Это значение дает возможность пользователю определить, как часто монитор исправности выполняет опрос кандидатов на завершение.  
|**Включить монитор заблокированных процессов SQL Server**|Включает процесс, который ищет блокированные или блокирующие процессы.  
|**Интервал ожидания монитора заблокированных процессов (сек)**|Устанавливает, как часто монитор заблокированных процессов ищет заблокированные или блокирующие процессы.  

## <a name="find-dialog-box"></a>диалоговое окно «Поиск»
Диалоговое окно **Поиск** предназначено для поиска в трассировках по заданным символам или словам. Чтобы отменить поиск во время выполнения, нажмите клавишу ESC.  
 Чтобы открыть это диалоговое окно в приложении [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)], в меню **Правка** выберите команду **Найти**.  

|Элемент|Описание
|---|---
|**Найти**|Введите текст, который требуется найти. Условию поиска соответствует любая строка, содержащая заданную строку. Например, условию поиска "Completed" соответствует строка "SQL:BatchCompleted". Знаки подстановки (*, ? и т. д.) не поддерживаются.  
|**Искать в столбце**|Щелкните столбец данных, в котором нужно выполнить поиск, либо установите флажок **\<All columns>** , чтобы искать во всех столбцах данных трассировки.  
|**Учитывать регистр**|Поиск текста в том же регистре, что и в поле **Найти** . Чтобы искать в трассировке строки как в верхнем, так и в нижнем регистре, снимите этот флажок.  
|**Слово целиком**|Ограничение поиска целыми словами. Чтобы найти символы в слове, снимите флажок **Слово целиком** .  
|**Следующий**|Ищет следующее вхождение символов, указанных в поле **Найти** .  
|**Найти ранее**|Производит поиск в трассировке в обратном направлении, чтобы найти предыдущее вхождение символов, указанных в поле **Найти** .  

 ## <a name="organize-columns"></a>Упорядочение столбцов
Диалоговое окно **Упорядочение столбцов** используется для выбора столбцов данных для событий группирования и статистической обработки, которые отображаются в трассировке. Это позволяет упростить просмотр и анализ больших файлов и таблиц трассировки.  
- Статистическая обработка переносит и сворачивает все события трассировки под элемент соответствующего типа класса событий. Знак "плюс" ( **+** ) отображается слева от имени класса события. Щелкнув по значку «плюс», можно раскрыть класс события и увидеть все события этого типа.  
- Группирование систематизирует все классы событий определенного типа вместе при отображении в окне трассировки. Однако события не сворачиваются под элементом типа класса события.  

При выполнении группирования или статистической обработки событий, отображаемых в трассировочном окне, столбцы, выбранные для группирования или статистической обработки, остаются зафиксированными в окне просмотра, но можно прокрутить окно влево или вправо для просмотра других столбцов данных.  
Для доступа в данное диалоговое окно откройте существующий файл или таблицу трассировки и выберите пункт **Свойства** в меню **Файл** [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)]. В диалоговом окне **Свойства трассировки** перейдите на вкладку **Выбор событий** и выберите **Упорядочение столбцов**. Также можно выбрать **Упорядочение столбцов** на вкладке **Выбор событий** при создании новой трассировки.  
Перемещение имен столбцов данных на панели **Группы** для группирования или статистической обработки классов событий в окне трассировки.
- Для статистической обработки событий переместите столбец данных на панель **Группы**. Это приведет к тому, что в окне трассировки все события определенного типа будут свернуты под одним именем типа класса событий. Знак "плюс" ( **+** ) отображается слева от имени класса события. Щелкнув по знаку «плюс», можно раскрыть тип класса событий, чтобы посмотреть все события класса. Можно включить или выключить статистическую обработку и группирование, выбрав пункт **Агрегированное представление** или **Сгруппированное представление** в меню **Вид** .
- Для группировки событий переместите более одного столбца данных на панель **Группы**. Это приведет к тому, что все события определенного типа будут в окне трассировки сгруппированы вместе, но события не будут свернуты под каждым именем типа класса события. Можно включать и выключать группированное представление, выбирая пункт **Сгруппированное представление** в меню «Вид». Когда на панель **Группы** перемещают более одного столбца данных, то возможность переключаться на **Агрегированное представление** становится недоступной.

|Элемент|Описание
|---|---
|**Столбцы**|Список столбцов данных, доступных для перемещения на панель **Группы**. Щелкните символ "плюс" ( **+** ) слева от параметра **Столбцы** для раскрытия списка.  
|**Работает**.|После выбора столбца данных нажмите **Вверх** для перемещения столбца данных вверх на панель **Группы**. Можно также нажать **Вверх** для изменения порядка показа столбцов в окне трассировки.  
|**Вниз**|После выбора столбца данных нажмите **Вниз** для перемещения столбца данных с панели **Группы**. Можно также нажать **Вниз** для изменения порядка показа столбцов в окне трассировки.  

## <a name="edit-filter"></a>Изменить фильтр
Диалоговое окно **Изменить фильтр** используется для создания и изменения фильтров столбцов данных в трассировке. Нажмите имя столбца данных в списке, и в соседней панели будут отображены критерии фильтра, доступные для этого столбца. Введите критерии фильтра и нажмите кнопку **ОК** для применения их к выделенному столбцу данных. Если слева от имени столбца данных в списке выводится значок фильтра, то для этого столбца уже имеется сконфигурированный фильтр.  
 >[!NOTE]
 >Для столбцов данных строкового типа критерии фильтрации будут показаны как строковое значение LIKE или NOT LIKE.  

## <a name="select-template-name"></a>Выберите имя шаблона
Диалоговое окно **Выбор имени шаблона** позволяет выбрать существующий шаблон трассировки приложения [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] для экспорта в один из файлов в операционной системе. Это диалоговое окно позволяет также выбрать или ввести другое имя, чтобы сохранить шаблон трассировки, как при редактировании существующего шаблона трассировки. Чтобы открыть это диалоговое окно при экспорте шаблона, в меню приложения [!INCLUDE[ssSqlProfiler](../../includes/sssqlprofiler-md.md)] **Файл** наведите курсор на пункт **Шаблоны** и выберите команду **Экспорт шаблона**. Чтобы получить доступ к этому диалоговому окну при изменении имени шаблона, в меню **Файл** укажите курсор на пункт **Шаблоны**, затем на пункт **Изменить шаблон** и после выберите команду **Сохранить как**.  

|Элемент|Описание
|---|---
|**Тип сервера**|Выберите тип сервера, на котором необходимо выбрать шаблон. Этот параметр доступен, только если осуществляется экспорт шаблона.  
|**Имя шаблона**|Введите имя нового шаблона или выберите имя шаблона из списка. Если осуществляется экспорт шаблона, можно лишь выбрать имя шаблона из списка. 

## <a name="see-also"></a>См. также раздел 
[Приложение SQL Server Profiler](../../tools/sql-server-profiler/sql-server-profiler.md)   
[Мониторинг производительности и действий сервера](../../relational-databases/performance/server-performance-and-activity-monitoring.md)  
  
