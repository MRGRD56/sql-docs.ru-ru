---
description: CREATE MINING MODEL (расширения интеллектуального анализа данных)
title: СОЗДАНИЕ МОДЕЛИ ИНТЕЛЛЕКТУАЛЬНОГО АНАЛИЗА ДАННЫХ (DMX) | Документация Майкрософт
ms.date: 06/07/2018
ms.prod: sql
ms.technology: analysis-services
ms.custom: dmx
ms.topic: reference
ms.author: owend
ms.reviewer: owend
author: minewiskan
ms.openlocfilehash: 35382c7d1d7301d35d8517b62bac352a4ae9fb47
ms.sourcegitcommit: c7f40918dc3ecdb0ed2ef5c237a3996cb4cd268d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/05/2020
ms.locfileid: "91726328"
---
# <a name="create-mining-model-dmx"></a>CREATE MINING MODEL (расширения интеллектуального анализа данных)
[!INCLUDE[ssas](../includes/applies-to-version/ssas.md)]

  Позволяет создать в базе данных новую модель и структуру интеллектуального анализа данных. Модель можно создать либо путем определения новой модели в инструкции, либо с помощью языка разметки моделей прогнозов (Predictive Model Markup Language, PMML). Второй параметр рекомендуется использовать только опытным пользователям.  
  
 Имя структуры интеллектуального анализа данных формируется путем добавления строки «_structure» к имени модели, что гарантирует несовпадение имени структуры и модели.  
  
 Чтобы создать модель интеллектуального анализа данных для существующей структуры интеллектуального анализа данных, используйте инструкцию [ALTER MINING structure &#40;DMX&#41;](../dmx/alter-mining-structure-dmx.md) .  
  
## <a name="syntax"></a>Синтаксис  
  
```  
  
CREATE [SESSION] MINING MODEL <model>  
(  
    [(<column definition list>)]  
)  
USING <algorithm> [(<parameter list>)] [WITH DRILLTHROUGH]  
CREATE MINING MODEL <model> FROM PMML <xml string>  
```  
  
## <a name="arguments"></a>Аргументы  
 *model*  
 Уникальное имя модели.  
  
 *Список определений столбцов*  
 Список определений столбцов с разделителями-запятыми.  
  
 *Microsof*  
 Имя алгоритма интеллектуального анализа данных, определенное текущим поставщиком.  
  
> [!NOTE]  
>  Список алгоритмов, поддерживаемых текущим поставщиком, можно получить с помощью [DMSCHEMA_MINING_SERVICES набора строк](/previous-versions/sql/sql-server-2012/ms126251(v=sql.110)). Сведения о алгоритмах, поддерживаемых в текущем экземпляре [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] , см. в разделе [Свойства интеллектуального анализа данных](/analysis-services/server-properties/data-mining-properties).  
  
 *список параметров*  
 Необязательный элемент. Список параметров, определенных поставщиком для алгоритма и разделенный запятыми.  
  
 *строка XML*  
 (Только для расширенного использования.) Модель в формате XML (PMML). Строка должна быть заключена в одиночные кавычки (').  
  
 Предложение **Session** позволяет создать модель интеллектуального анализа данных, которая автоматически удаляется с сервера при закрытии соединения или при истечении времени ожидания сеанса. Модели интеллектуального анализа данных **сеанса** полезны, поскольку им не требуется, чтобы пользователь был администратором базы данных и использовал место на диске только в том случае, если соединение открыто.  
  
 Предложение **WITH DRILLTHROUGH** обеспечивает детализацию по новой модели интеллектуального анализа данных. Включить детализацию можно только при создании модели. Для некоторых типов моделей требуется детализация для просмотра модели в пользовательском средстве просмотра. Детализация не требуется для прогноза или просмотра модели с помощью средства просмотра деревьев содержимого общего вида (Майкрософт).  
  
 Инструкция **Создание модели интеллектуального анализа данных** создает новую модель интеллектуального анализа данных на основе списка определений столбцов, алгоритма и списка параметров алгоритма.  
  
### <a name="column-definition-list"></a>Список определений столбца  
 Структура модели, использующей список определений столбца, определяется путем включения следующих данных в каждый столбец:  
  
-   имя (обязательно);  
  
-   Тип данных (обязательно)  
  
-   Distribution  
  
-   Список флагов моделирования  
  
-   Тип содержимого (обязательно)  
  
-   Прогнозирующий запрос, указывающий алгоритму для прогнозирования этого столбца, определяемый предложением **Predict** или **PREDICT_ONLY**  
  
-   Связь с столбцом атрибутов (является обязательной только при применении), обозначенной предложением **related to**  
  
 Чтобы определить один столбец, используйте следующий синтаксис для списка определений столбцов:  
  
```  
<column name>    <data type>    [<Distribution>]    [<Modeling Flags>]    <Content Type>    [<prediction>]    [<column relationship>]   
```  
  
 Чтобы определить столбец вложенной таблицы, используйте следующий синтаксис списка определений столбцов:  
  
```  
<column name>    TABLE    [<prediction>] ( <non-table column definition list> )  
```  
  
 Для определения столбца можно использовать не более одного предложения каждого типа, за исключением флагов моделирования. Для любого столбца можно задать несколько флагов моделирования.  
  
 Список типов данных, типов содержимого, распределений столбцов и флагов моделирования, используемых при определении столбца, см. в следующих разделах.  
  
-   [Типы данных (интеллектуальный анализ данных)](/analysis-services/data-mining/data-types-data-mining)  
  
-   [Типы содержимого (интеллектуальный анализ данных)](/analysis-services/data-mining/content-types-data-mining)  
  
-   [Распределения столбцов (интеллектуальный анализ данных)](/analysis-services/data-mining/column-distributions-data-mining)  
  
-   [Флаги моделирования (интеллектуальный анализ данных)](/analysis-services/data-mining/modeling-flags-data-mining)  
  
 К инструкции можно добавить предложение, описывающее связь между двумя столбцами. [!INCLUDE[ssASnoversion](../includes/ssasnoversion-md.md)] поддерживает использование следующего \<Column relationship> предложения.  
  
 **СВЯЗАНО**  
 Эта форма указывает на иерархию значений. Назначением столбца RELATED TO может быть ключевой столбец вложенной таблицы, столбец с дискретными значениями из строки вариантов или какой-либо другой столбец с предложением RELATED TO, указывающим на более глубокий уровень иерархии.  
  
 Для описания использования прогнозируемого столбца используйте прогнозирующее предложение. В следующей таблице приводится описание двух возможных предложений.  
  
|Предложение \<prediction>|Описание|  
|---------------------------|-----------------|  
|**PREDICT**|Этот столбец может быть спрогнозирован моделью и может включаться во входные варианты для прогноза значений других прогнозируемых столбцов.|  
|**PREDICT_ONLY**|Данный столбец может быть спрогнозирован с помощью модели, однако его нельзя использовать во входных вариантах для вычисления значений других прогнозируемых столбцов.|  
  
### <a name="parameter-definition-list"></a>Список определений параметров  
 Список параметров может использоваться для настройки производительности и функциональности модели интеллектуального анализа данных. Синтаксис списка параметров следующий:  
  
```  
[<parameter> = <value>, <parameter> = <value>,...]  
```  
  
 Список параметров, связанных с каждым алгоритмом, см. в разделе [алгоритмы интеллектуального анализа данных &#40;Analysis Services-&#41;интеллектуального анализа данных ](/analysis-services/data-mining/data-mining-algorithms-analysis-services-data-mining).  
  
## <a name="remarks"></a>Комментарии  
 Если необходимо создать модель со встроенным набором проверочных данных, следует после ALTER MINING STRUCTURE использовать инструкцию CREATE MINING STRUCTURE. При этом не все типы моделей поддерживают набор контрольных данных. Дополнительные сведения см. в статье [CREATE MINING STRUCTURE (DMX)](../dmx/create-mining-structure-dmx.md).  
  
 Пошаговое руководство по созданию модели интеллектуального анализа данных с помощью инструкции КРЕАТЕМОДЕЛ см. в разделе Учебник по DMX-анализу [временных рядов](/previous-versions/sql/sql-server-2016/cc879270(v=sql.130)).  
  
## <a name="naive-bayes-example"></a>Пример упрощенного алгоритма Байеса  
 В следующем примере [!INCLUDE[msCoName](../includes/msconame-md.md)] упрощенный алгоритм Байеса используется для создания новой модели интеллектуального анализа данных. Столбец Bike Buyer определяется как прогнозируемый атрибут.  
  
```  
CREATE MINING MODEL [NBSample]  
(  
    CustomerKey LONG KEY,   
    Gender TEXT DISCRETE,  
    [Number Cars Owned] LONG DISCRETE,  
    [Bike Buyer] LONG DISCRETE PREDICT  
)  
USING Microsoft_Naive_Bayes  
```  
  
## <a name="association-model-example"></a>Пример модели взаимосвязей  
 В следующем примере используется [!INCLUDE[msCoName](../includes/msconame-md.md)] алгоритм взаимосвязей для создания новой модели интеллектуального анализа данных. Преимуществом инструкции является возможность вложения таблицы внутри определения модели с помощью табличного столбца. Модель изменяется с помощью параметров *MINIMUM_PROBABILITY* и *MINIMUM_SUPPORT* .  
  
```  
CREATE MINING MODEL MyAssociationModel (  
    OrderNumber TEXT KEY,  
    [Products] TABLE PREDICT (  
        [Model] TEXT KEY  
    )  
)  
USING Microsoft_Association_Rules (Minimum_Probability = 0.1, MINIMUM_SUPPORT = 0.01)  
```  
  
## <a name="sequence-clustering-example"></a>Пример кластеризации последовательностей  
 В следующем примере [!INCLUDE[msCoName](../includes/msconame-md.md)] алгоритм кластеризации последовательностей используется для создания новой модели интеллектуального анализа данных. Чтобы определить модель, используются два ключа. Столбец OrderNumber используется в качестве ключа варианта и задает отдельные заказы. Столбец LineNumber используется в качестве ключа вложенной таблицы и задает последовательность добавления пунктов в заказ.  
  
```  
CREATE MINING MODEL BuyingSequence (  
    [Order Number] TEXT KEY,  
    [Products] TABLE   
     (  
        [Line Number] LONG KEY SEQUENCE,  
        [Model] TEXT DISCRETE PREDICT  
    )  
)  
USING Microsoft_Sequence_Clustering  
```  
  
## <a name="time-series-example"></a>Пример алгоритма временных рядов  
 В следующем примере [!INCLUDE[msCoName](../includes/msconame-md.md)] алгоритм временных рядов используется для создания новой модели интеллектуального анализа данных с помощью алгоритма ARTxp. ReportingDate – это ключевой столбец для временного ряда, а ModelRegion – ключевой столбец для ряда данных. В этом примере предполагается, что периодичность данных составляет 12 месяцев. Таким образом, параметру *PERIODICITY_HINT* присваивается значение 12.  
  
> [!NOTE]  
>  Параметр *PERIODICITY_HINT* необходимо указать с помощью фигурных скобок. Более того, поскольку значение является строкой, оно должно быть заключено в одинарные кавычки: "{ \<numeric value> }".  
  
```  
CREATE MINING MODEL SalesForecast (  
        ReportingDate DATE KEY TIME,  
        ModelRegion TEXT KEY,  
        Amount LONG CONTINUOUS PREDICT,  
        Quantity LONG CONTINUOUS PREDICT  
)  
USING Microsoft_Time_Series (PERIODICITY_HINT = '{12}', FORECAST_METHOD = 'ARTXP')  
```  
  
## <a name="see-also"></a>См. также  
 [Расширения интеллектуального анализа данных &#40;инструкции расширений интеллектуального анализа данных&#41; DDL](../dmx/dmx-statements-data-definition.md)   
 [Расширения интеллектуального анализа данных &#40;инструкции расширений интеллектуального анализа данных&#41;](../dmx/dmx-statements-data-manipulation.md)   
 [Справочник по расширениям интеллектуального анализа данных (расширения интеллектуального анализа данных)](../dmx/data-mining-extensions-dmx-statements.md)  
  
