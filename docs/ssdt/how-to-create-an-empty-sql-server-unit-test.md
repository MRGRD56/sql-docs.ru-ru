---
title: создать пустой модульный тест SQL Server
description: Узнайте, как создавать модульные тесты SQL Server. Узнайте, как использовать те же скрипты TestInitialize и TestCleanup, которые применяются в других тестах, и как использовать другие скрипты.
ms.prod: sql
ms.technology: ssdt
ms.topic: conceptual
f1_keywords:
- sql.data.tools.unittesting.createtest
ms.assetid: b6f3cd5a-3389-42d6-a93f-97b3ddf31b95
author: markingmyname
ms.author: maghan
ms.reviewer: “”
ms.custom: seo-lt-2019
ms.date: 02/09/2017
ms.openlocfilehash: 30869fbd4c9a57c068b56d638495cce76ac23789
ms.sourcegitcommit: a41e1f4199785a2b8019a419a1f3dcdc15571044
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/13/2020
ms.locfileid: "91988698"
---
# <a name="how-to-create-an-empty-sql-server-unit-test"></a>Руководство. создать пустой модульный тест SQL Server

Чтобы убедиться, что изменения, внесенные в объекты баз данных, не нарушают работу функций, включите в проект базы данных модульные тесты. Следующие процедуры позволяют создавать модульные тесты SQL Server для любого объекта базы данных. SQL Server Data Tools включает дополнительную поддержку функций базы данных, триггеров и хранимых процедур. Дополнительные сведения см. в разделе [Как создавать модульные тесты SQL Server для функций, триггеров и хранимых процедур](../ssdt/how-to-create-unit-tests-for-functions-triggers-stored-procedures.md).  
  
Если для создания модульного теста SQL Server используется первая процедура, тестовый проект будет создан автоматически в случае его отсутствия. Если тестовые проекты уже имеются, можно добавить новый тест в один из таких проектов или же создать новый тестовый проект. Дополнительные сведения о проектах тестов см. в разделе [Как создать тестовый проект для модульного тестирования базы данных SQL Server](../ssdt/how-to-create-a-test-project-for-sql-server-database-unit-testing.md).  
  
У вас есть два варианта создания модульных тестов SQL Server.  
  
-   Создание модульного теста SQL Server в новом тестовом классе.  
  
    Все модульные тесты SQL Server из одного тестового класса используют одинаковые скрипты TestInitialize и TestCleanup. Создание нового класса тестов, если нужно, чтобы модульный тест использовал скрипты TestInitialize и TestCleanup, отличные от тех, которые используются другими модульными тестами. См. дополнительные сведения см. о [скриптах в модульных тестах SQL Server](../ssdt/scripts-in-sql-server-unit-tests.md).  
  
-   Создание модульного теста SQL Server в существующем тестовом классе.  
  
    Выберите этот вариант, если необходимо, чтобы модульный тест использовал такие же скрипты TestInitialize и TestCleanup, которые используются другими модульными тестами из этого класса.  
  
### <a name="to-create-a-sql-server-unit-test-inside-a-new-test-class"></a>Создание модульного теста SQL Server в новом тестовом классе  
  
1.  В меню **Тест** выберите **Создать тест**.  
  
    Откроется диалоговое окно **Добавление нового теста**.  
  
2.  В разделе **Шаблоны** щелкните **Модульный тест SQL Server**.  
  
3.  В поле **Имя теста** введите имя этого теста.  
  
4.  В поле **Добавить в тестовый проект** выберите существующий тестовый проект, к которому будет добавлен этот тест. Если тестовых проектов нет или нужно создать новый проект, выберите **Создать тестовый проект <language>** .  
  
5.  Нажмите кнопку **ОК**.  
  
    Если вы создали новый тестовый проект, откроется диалоговое окно **Новый тестовый проект**. Задайте для проекта имя и щелкните **ОК**.  
  
    Если это новый или еще не настроенный тестовый проект, откроется диалоговое окно **Конфигурация теста SQL Server <ProjectName>** . В этом диалоговом окне можно задать следующие сведения для проекта тестов:  
  
    -   Подключение к базе данных, используемое для выполнения тестов.  
  
    -   Подключение к базе данных, используемое для проверки результатов тестов, развертывания базы данных и формирования данных.  
  
    -   Автоматическое развертывание проекта базы данных и всех связанных изменений схемы по данной конфигурации проекта до выполнения модульных тестов.  
  
    Дополнительные сведения см. в разделе [Как настроить выполнение модульного теста SQL Server](../ssdt/how-to-configure-sql-server-unit-test-execution.md).  
  
6.  Введите данные для настройки проекта и щелкните **ОК**.  
  
    \- или -  
  
    Щелкните **Отмена**, чтобы создать модульный тест без настройки тестового проекта.  
  
    Пустой тест откроется в **конструкторе модульных тестов SQL Server**. В зависимости от языка, который вы указали при создании тестового проекта, в проект добавляется файл с исходным кодом на Visual Basic или Visual C\#. Этот файл содержит класс модульных тестов SQL Server, который SQL Server Data Tools генерирует для только что созданного модульного теста. Тестовый класс может содержать один или несколько модульных тестов, которые можно добавлять с помощью кода или конструктора модульных тестов SQL Server в виде новых методов теста в классе тестов.  
  
    Также можно добавить дополнительные тесты следующими способами.  
  
    -   В **обозревателе решений** щелкните тестовый проект правой кнопкой мыши, выберите **Добавить**, **Новый тест** и **Модульный тест SQL Server**.  
  
    -   В обозревателе объектов SQL Server щелкните "Создать модульные тесты".  
  
    Когда вы выберете этот файл в **обозревателе решений**, по умолчанию он откроется в конструкторе модульных тестов SQL Server. Для просмотра или изменения кода для добавления дополнительных функций в модульные тесты щелкните файл правой кнопкой мыши и выберите **Просмотреть код**.  
  
### <a name="to-create-a-sql-server-unit-test-inside-an-existing-test-class"></a>Создание модульного теста SQL Server в существующем тестовом классе  
  
1.  Откройте существующий класс модульного теста SQL Server в **конструкторе модульных тестов SQL Server**. Чтобы открыть **конструктор модульных тестов SQL Server**, дважды щелкните файл исходного кода для модульного теста в **обозревателе решений**.  
  
2.  Щелкните значок плюса ( **+** ) на панели навигации, чтобы открыть диалоговое окно **Имя модульного теста**.  
  
3.  Введите имя и щелкните **ОК**.  
  
    Новый модульный тест SQL Server можно выбрать в раскрывающемся списке на панели навигации. Он также добавляется в виде нового метода теста в класс тестов. Для просмотра методов теста в коде щелкните файл класса правой кнопкой мыши и выберите **Просмотреть код**. Имя текущего файла тестового класса отображается на вкладке в верхней части **конструктора модульных тестов**.  
  
После настройки тестового проекта и создания модульного теста необходимо выполнить следующие шаги.  
  
-   Добавление сценария теста Transact\-SQL.  
  
-   Определение действий, выполняемых до теста и после него.  
  
-   Добавление тестовых условий или другого оператора контроля для проверки результатов скрипта.  
  
> [!NOTE]  
> Условие теста Inconclusive по умолчанию добавляется во все тесты. Оно указывает на то, что проверка теста не выполнена. Удалите это условие из теста после добавления других условий. Дополнительные сведения см. в разделе [Как добавлять условия теста в модульные тесты SQL Server](/previous-versions/visualstudio/visual-studio-2010/aa833242(v=vs.100)).  
  
## <a name="see-also"></a>См. также:  
[Руководство. выполнять модульные тесты SQL Server](../ssdt/how-to-run-sql-server-unit-tests.md)  
[Создание и определение модульных тестов SQL Server](../ssdt/creating-and-defining-sql-server-unit-tests.md)  
[Создание модульных тестов](/previous-versions/visualstudio/visual-studio-2008/ms182523(v=vs.90))  
