---
title: Заметки о выпуске SQL Server Data Tools (SSDT)
description: Просмотрите заметки о выпуске для всех версий SQL Server Data Tools (SSDT), которые работают с Visual Studio 2017 и более ранними версиями Visual Studio.
ms.prod: sql
ms.prod_service: sql-tools
ms.technology: ssdt
ms.topic: conceptual
ms.assetid: b071f8b8-c8e5-44e0-bbb6-04804dd1863a
author: dzsquared
ms.author: drskwier
ms.reviewer: maghan
ms.custom: seo-lt-2019
ms.date: 12/15/2019
monikerRange: '>=aps-pdw-2016||=azuresqldb-current||=azure-sqldw-latest||>=sql-server-2016||=sqlallproducts-allversions||=azuresqldb-mi-current'
ms.openlocfilehash: 83d50d14f47c5b25de4bc3749bd2fd06dffff3df
ms.sourcegitcommit: fe5dedb2a43516450696b754e6fafac9f5fdf3cf
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/31/2020
ms.locfileid: "89195130"
---
# <a name="release-notes-for-sql-server-data-tools-ssdt"></a>Заметки о выпуске SQL Server Data Tools (SSDT)

[!INCLUDE[SQL Server Azure SQL Database Synapse Analytics PDW ](../includes/applies-to-version/sql-asdb-asdbmi-asa-pdw.md)]

Это заметки о выпуске [SQL Server Data Tools (SSDT)](download-sql-server-data-tools-ssdt.md) для Visual Studio.

<!--
Hello.  We have switched to a newer standardized format for Release Notes articles.
Basically we have switched from bullet lists to a 2-column table.
And we have shortened the H2 titles, to reduce wrapping in the rightNav.
And we have renamed the .md file to the standard format, from 'changelog-for-sql-server-data-tools-ssdt.md' to 'release-notes-ssdt.md'.
The presently latest H2 section (## 15.9.0) has been converted to the new format.
But the older sections are too numerous and long to warrant conversion.

REQUEST_1:  Please use the newer 2-column table format from now onward, for each new release section.

REQUEST_2:  Please consider whether it is time to erase perhaps the oldest 25% of these H2 sections.
Or maybe move all but the latest 9 (of 25) H2 sections to a new file perhaps named 'release-notes-history-ssdt.md', and link to it from the bottom of this file.

For questions, contact CraigG or SStein or GeneMi.

GeneMi , 2019/03/22.

P.S.  there's no need to keep this large HTML comment indefinitely.
-->

## <a name="1596nbsp-ssdt-for-vs-2017"></a>15.9.6,&nbsp; SSDT для VS 2017

_Выпущено_: &nbsp; 31 августа 2020 г.  
_Номер сборки_: &nbsp; 14.0.16222.0  
_SSDT для Visual Studio 2017_.

### <a name="whats-new"></a>Новые возможности

| Добавления | Сведения |
|-----------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Службы Integration Services (SSIS) | Исправлена проблема, когда кнопка **Предварительный просмотр** не работает в источнике OLE DB при подключении к источнику данных SQL Server Analysis Services (SSAS). |
| Службы Integration Services (SSIS) | Исправлена проблема, из-за которой удаление входных или выходных данных компонента потока данных перед удалением связанного пути может вызвать ошибку COMException. |
| Службы Integration Services (SSIS) | Исправлена проблема, из-за которой задача обработки SSAS не может подключиться к рабочей области Power BI и обновить ее модели. |
| Службы Integration Services (SSIS) | Исправлена проблема, из-за которой Visual Studio зависает при отладке задачи или компонента скрипта в среде выполнения x64 для SQL Server 2017. |
| Службы Integration Services (SSIS) | Исправлена проблема, из-за которой мастер импорта и экспорта аварийно завершает работу при выборе драйвера MySQL в некоторых средах. |
| Службы Integration Services (SSIS) | Устранены некоторые проблемы, связанные с доступностью и высоким разрешением. |
| Службы Integration Services (SSIS) | Пользователям разрешено пропускать проверку при открытии пакетов, что повышает производительность. Дополнительные сведения см. в разделе [Ускорение открытия пакетов служб SSIS в SSDT](https://techcommunity.microsoft.com/t5/sql-server-integration-services/accelerate-the-opening-of-ssis-package-in-ssdt/ba-p/1607099). |
| Службы Integration Services (SSIS) | Заблокировано развертывание в Azure SSIS, если версия целевого сервера отличается от SQL Server 2017. |

### <a name="known-issues"></a>Известные проблемы

| Известная проблема | Сведения |
| :---------- | :------ |
| Задача запуска пакетов в службах SSIS не поддерживает отладку, если параметр ExecuteOutOfProcess имеет значение True. | Эта проблема относится только к отладке. Она не влияет на сохранение, развертывание и запуск с использованием DTExec.exe или каталога SSIS. |
| Источник Power Query может не поддерживать протокол OData версии 4, если службы SQL Server Integration Services и SQL Server Analysis Services установлены в одном экземпляре Visual Studio. | &nbsp; |
| Источник Power Query может не поддерживать подключение к Oracle с помощью ODBC, если службы SQL Server Integration Services и SQL Server Analysis Services установлены в одном экземпляре Visual Studio. | &nbsp; |
| Источник Power Query не локализован. | &nbsp; |
| &nbsp; | &nbsp; |

## <a name="1595nbsp-ssdt-for-vs-2017"></a>15.9.5,&nbsp; SSDT для Visual Studio 2017

_Выпущено_: &nbsp; 27 мая 2020 года  
_Номер сборки_: &nbsp; 14.0.16218.0  
_SSDT для Visual Studio 2017_.

### <a name="whats-new"></a>Новые возможности

| Добавления | Сведения |
|-----------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Службы Integration Services (SSIS) | Добавлена поддержка поиска задач и компонентов конвейера путем добавления поля поиска в панель элементов служб SSIS. |
| Службы Integration Services (SSIS) | Добавлен индикатор выполнения при переключении версии целевого сервера. |
| Службы Integration Services (SSIS) | Добавлена дополнительная конфигурация облака для проекта с поддержкой Azure, а также добавлена поддержка проверки подлинности Windows для исполнения пакетов в Azure. |
| Службы Integration Services (SSIS) | Добавлена оценка пакетов для выполнения в Azure в проекте с поддержкой Azure. |
| Службы Integration Services (SSIS) | Исправлена проблема, при которой в некоторых случаях невозможно указать экземпляры Visual Studio в установщике |
| Службы Integration Services (SSIS) | Исправлена проблема, при которой невозможно удалить эту рабочую среду, если экземпляр VS был удален. |
| Службы Integration Services (SSIS) | Исправлена проблема, из-за которой компонент скрипта, скопированный из другого компонента в том же пакете, невозможно правильно загрузить во время отладки, если версия целевого сервера ниже SQL Server 2019. |
| Службы Integration Services (SSIS) | Исправлена проблема со специальными возможностями, при которой коэффициенты яркости для линий соединителя компонентов в окне конструктора пакетов составляет менее 3 : 1. |
| Службы Integration Services (SSIS) | Исправлена проблема со специальными возможностями, при которой коэффициент яркости в элементе управления "Вписать представление в окно" в окне конструктора пакетов составляет менее 3 : 1. |
| Службы Integration Services (SSIS) | Исправлена проблема, из-за которой задача "Передача базы данных" не работает, если база данных содержит файловые группы, содержащие файловый поток. |
| Службы Integration Services (SSIS) | Исправлена проблема, из-за которой при использовании компонентов ODBC в компоненте "Цикл foreach" компонент ODBC выдает ошибку последовательности функций во втором цикле во время выполнения пакета. |
| Службы Integration Services (SSIS) | Исправлена проблема, из-за которой пользовательский интерфейс задачи перестроения индекса обрезается в режиме низкого разрешения. |
| Службы Integration Services (SSIS) | Исправлена проблема, при которой кнопка "Войти" не отображается в режиме высокого разрешения. |
| Службы Integration Services (SSIS) | Исправлена проблема, при которой элементы диспетчера подключений отображаются слишком большими в режиме высокого разрешения. |
| Службы Integration Services (SSIS) | Исправлена проблема, при которой результаты выполнения помещаются поверх друг друга в режиме высокого разрешения. |

### <a name="known-issues"></a>Известные проблемы

| Известная проблема | Сведения |
| :---------- | :------ |
| Задача запуска пакетов в службах SSIS не поддерживает отладку, если параметр ExecuteOutOfProcess имеет значение True. | Эта проблема относится только к отладке. Она не влияет на сохранение, развертывание и запуск с использованием DTExec.exe или каталога SSIS. |
| Источник Power Query может не поддерживать протокол OData версии 4, если службы SQL Server Integration Services и SQL Server Analysis Services установлены в одном экземпляре Visual Studio. | &nbsp; |
| Источник Power Query может не поддерживать подключение к Oracle с помощью ODBC, если службы SQL Server Integration Services и SQL Server Analysis Services установлены в одном экземпляре Visual Studio. | &nbsp; |
| Источник Power Query Source не локализован | &nbsp; |
| При нацеливании на SQL Server 2017 и SxS с SQL Server 2017 с исправлением CU19 или более поздней версии, отладка пакетов, содержащих задачу или компонент сценария с точками останова, зависает, если Run64BitRuntime имеет значение true. | &nbsp; |
| &nbsp; | &nbsp; |

## <a name="1594nbsp-ssdt-for-vs-2017"></a>15.9.4,&nbsp; SSDT для Visual Studio 2017

_Выпущено_: &nbsp; 26 марта 2020 г.  
_Номер сборки_: &nbsp; 14.0.16214.0  
_SSDT для Visual Studio 2017_.

### <a name="whats-new"></a>Новые возможности

| Добавления | Сведения |
|-----------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Службы Integration Services (SSIS) | Исправлена проблема, из-за которой VS может аварийно завершить работу при перемещении строк ограничений потока управления в контейнере. |
| Службы Integration Services (SSIS) | Исправлена проблема, из-за которой пользовательский интерфейс задач плана обслуживания не может вывести список диспетчеров подключений ADO.NET, созданных за пределами пользовательского интерфейса задачи. |
| Службы Integration Services (SSIS) | Исправлена проблема, из-за которой не отображается страница интерактивного входа в Azure при развертывании проекта служб SSAS, входящего в решение, в которое также загружены проекты SSIS. |
| Службы Integration Services (SSIS) | Исправлена проблема, из-за которой при нажатии кнопки свойств драйвера MSOLAP происходит сбой мастера DTS, если SQL Server не установлен. |
| Службы Integration Services (SSIS) | Исправлена проблема, из-за которой драйвер MSOLEDBSQL не поддерживает проверку подлинности AAD в мастере DTS. |
| Службы Integration Services (SSIS) | Исправлена проблема, из-за которой источник XML и назначение ADO.NET невозможно правильно сохранить при нацеливании на SQL Server 2012. |
| Службы Integration Services (SSIS) | Исправлена проблема, из-за которой кнопка "Загрузить WSDL" в редакторе задач веб-службы может отображаться неправильно. |
| Службы Integration Services (SSIS) | Исправлена проблема, из-за которой на странице диспетчера подключений в редакторе преобразования уточняющих запросов невозможно выбрать таблицу. |
| Службы Integration Services (SSIS) | Исправлена проблема, из-за которой макет редактора преобразования кэша может отображаться некорректно. |
| Службы Integration Services (SSIS) | Исправлена проблема, из-за которой область "Диспетчеры подключений" в редакторе пакетов отображается некорректно. |
| Службы Integration Services (SSIS) | Исправлена проблема, из-за которой значок состояния может неправильно отображаться в мастере преобразования в модель развертывания пакетов. |
| Службы Integration Services (SSIS) | Установщик заменен на полноценный, который не требует загрузки из Интернета. |

### <a name="known-issues"></a>Известные проблемы

| Известная проблема | Сведения |
| :---------- | :------ |
| Задача запуска пакетов в службах SSIS не поддерживает отладку, если параметр ExecuteOutOfProcess имеет значение True. | Эта проблема относится только к отладке. Она не влияет на сохранение, развертывание и запуск с использованием DTExec.exe или каталога SSIS. |
| Источник Power Query может не поддерживать протокол OData версии 4, если службы SQL Server Integration Services и SQL Server Analysis Services установлены в одном экземпляре Visual Studio. | &nbsp; |
| Источник Power Query может не поддерживать подключение к Oracle с помощью ODBC, если службы SQL Server Integration Services и SQL Server Analysis Services установлены в одном экземпляре Visual Studio. | &nbsp; |
| Источник Power Query Source не локализован | &nbsp; |
| &nbsp; | &nbsp; |

## <a name="1593nbsp-ssdt-for-vs-2017"></a>15.9.3,&nbsp; SSDT для Visual Studio 2017

_Выпущено_: &nbsp; 3 января 2020 г.  
_Номер сборки_: &nbsp; 14.0.16203.0  
_SSDT для Visual Studio 2017_.

### <a name="whats-new"></a>Новые возможности

| Добавления | Сведения |
|-----------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Службы Integration Services (SSIS) | Источник Power Query для SQL Server 2017 удален из списка стандартных компонентов. Теперь мы объявили источник Power Query для SQL Server 2017 и 2019 как отдельный компонент, который можно скачать [здесь](https://www.microsoft.com/en-us/download/details.aspx?id=100619). |
| Службы Integration Services (SSIS) | Соединитель для Oracle (Майкрософт) для SQL Server 2019 удален из списка стандартных компонентов. Теперь мы объявили соединитель для Oracle (Майкрософт) для SQL Server 2019 как отдельный компонент, который можно скачать [отсюда](https://www.microsoft.com/en-us/download/details.aspx?id=58228). |
| Службы Integration Services (SSIS) | Исправлена проблема, из-за которой в некоторых случаях запуск отладчика служб SSIS заканчивался сбоем из-за отсутствия регистрации интерфейса IDtsHost при версии целевого сервера SQL Server 2017 или 2019. |
| Службы Integration Services (SSIS) | Исправлены основные проблемы макета пользовательского интерфейса в режиме высокого разрешения. |
| Службы Integration Services (SSIS) | .NET Framework обновлено до версии 4.7 для задачи или компонента скрипта, если версия целевого сервера — SQL Server 2019. |
| Службы Integration Services (SSIS) | В диспетчере соединений ODBC добавлено свойство ConnectByProxy, так как оно поддерживает включение локальной среды выполнения интеграции в качестве прокси-сервера в диспетчере соединений ODBC. |
| Службы Integration Services (SSIS) | Исправлена проблема из-за которой пользователи не могли добавлять новые источники данных в режиме развертывания пакета. |
| Службы Integration Services (SSIS) | Исправлена проблема, из-за которой пользователи не могли отлаживать задачу или компонент скрипта, если в коде использовались какие-либо новые синтаксисы, введенные после версии .NET 4.5. |
| Службы Integration Services (SSIS) | Исправлена проблема, из-за которой при создании первой Фабрики данных в подписке Azure с помощью мастера создания среды выполнения интеграции мог возникнуть сбой из-за отсутствия регистрации поставщика ресурсов Фабрики данных. |
| Службы Integration Services (SSIS) | Исправлена проблема, из-за которой служба SSIS в мастере подключения ADF не могла правильно отобразить список учетных записей хранения Azure, если в подписке была только файловая учетная запись хранения. |
| Службы Integration Services (SSIS) | Исправлена проблема, когда функция"Execute in Azure" (Выполнить в Azure) не работала, если пакет включал контейнер. |
| Службы Integration Services (SSIS) | Исправлена проблема, из-за которой char (n char) и varchar2(n char) сопоставлены с неверными типами DTS в соединителе Oracle. |

### <a name="known-issues"></a>Известные проблемы

| Известная проблема | Сведения |
| :---------- | :------ |
| Задача запуска пакетов в службах SSIS не поддерживает отладку, если параметр ExecuteOutOfProcess имеет значение True. | Эта проблема относится только к отладке. Она не влияет на сохранение, развертывание и запуск с использованием DTExec.exe или каталога SSIS. |
| Источник Power Query может не поддерживать протокол OData версии 4, если службы SQL Server Integration Services и SQL Server Analysis Services установлены в одном экземпляре Visual Studio. | &nbsp; |
| Источник Power Query может не поддерживать подключение к Oracle с помощью ODBC, если службы SQL Server Integration Services и SQL Server Analysis Services установлены в одном экземпляре Visual Studio. | &nbsp; |
| Источник Power Query Source не локализован | &nbsp; |
| &nbsp; | &nbsp; |

## <a name="1592nbsp-ssdt-for-vs-2017"></a>15.9.2,&nbsp; SSDT для Visual Studio 2017

_Выпущено_: &nbsp; 17 июля 2019 г.  
_Номер сборки_: &nbsp; 14.0.16194.0  
_SSDT для Visual Studio 2017_.

### <a name="whats-new"></a>Новые возможности

| Добавления | Сведения |
|-----------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Службы Integration Services (SSIS) | Добавлена функция AzureEnabled. Пакеты проекта могут выполняться на основе решения "платформа как услуга" (PaaS) SSIS в фабрике данных Azure. |
| Службы Integration Services (SSIS) | Устранена проблема, которая заключалась в невозможности задать свойства соединителя Oracle из переменного выражения. |
| Службы Integration Services (SSIS) | Устранена проблема, которая заключалась в возникновении ошибки VS_NEEDSNEWMETATDATA в соединителе Oracle при отладке пакетов, предназначенных для более ранних версий, чем SQL Server 2019. |
| Службы Integration Services (SSIS) | Устранена проблема, которая заключалась в том, что соединителю Oracle не удавалось перевести пакет или проект на более позднюю или более раннюю версию, если в этом пакете или проекте для свойств диспетчера подключений применялись выражения. |
| Службы Integration Services (SSIS) | Устранена проблема, которая заключалась в том, что кнопка "Загрузить WSDL" в редакторе задачи " Веб-служба" не поддерживала протокол TLS 1.1 и 1.2 (для SQL Server 2019). |
| Службы Integration Services (SSIS) | Устранена проблема, которая заключалась в невозможности загрузить пакеты, содержащие диспетчер подключений DQS, после сохранения. |

### <a name="known-issues"></a>Известные проблемы

| Известная проблема | Сведения |
| :---------- | :------ |
| Задача запуска пакетов в службах SSIS не поддерживает отладку, если параметр ExecuteOutOfProcess имеет значение True. | Эта проблема относится только к отладке. Она не влияет на сохранение, развертывание и запуск с использованием DTExec.exe или каталога SSIS. |
| Не удается создать или изменить источники данных в модели развертывания пакета. | Не удается открыть мастер источников данных. |
| Источник Power Query может не поддерживать протокол OData версии 4, если службы SQL Server Integration Services и SQL Server Analysis Services установлены в одном экземпляре Visual Studio. | &nbsp; |
| Источник Power Query может не поддерживать подключение к Oracle с помощью ODBC, если службы SQL Server Integration Services и SQL Server Analysis Services установлены в одном экземпляре Visual Studio. | &nbsp; |
| Источник Power Query Source не локализован | &nbsp; |
| &nbsp; | &nbsp; |

## <a name="1591nbsp-ssdt-for-vs-2017"></a>15.9.1,&nbsp;SSDT для Visual Studio 2017

_Выпущено_: &nbsp; 27 апреля 2019 г.  
_Номер сборки_: &nbsp; 14.0.16191.0  
_SSDT для Visual Studio 2017_.

### <a name="whats-new"></a>Новые возможности

| Добавления | Сведения |
|-----------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Службы Integration Services (SSIS) | Устранена проблема, из-за которой части пакета невозможно было правильно сохранить из-за выбора предыдущей целевой версии SQL Server. |
| Службы Integration Services (SSIS) | Устранена проблема, из-за которой использование части пакета не позволяло добавить выражения в элемент управления очередностью. |
| Службы Integration Services (SSIS) | Устранена проблема, из-за которой кнопка "Справка" диспетчера источников и подключений Power Query не ссылалась на нужный документ. |
| Службы Integration Services (SSIS) | Устранена проблема, из-за которой версия сборки служб SSIS не отображалась в окне справки VS. |
| Службы Integration Services (SSIS) | Добавлено свойство ConnectByProxy для диспетчера подключений OLE DB и неструктурированных файлов, которое позволяет предоставить доступ к данным в локальной среде выполнения интеграции в Azure-SSIS IR. |
| Службы Integration Services (SSIS) | Устранена проблема, из-за которой компоненты ODBC неправильно сопоставляли тип данных DT_DBDATE. |
| Службы Integration Services (SSIS) | Добавлено свойство ConnectUsingManagedIdentity для диспетчера подключений ADO.NET и OLE DB, которое поддерживает проверку подлинности по управляемому удостоверению для подключения к источнику данных в Azure-SSIS IR. |

### <a name="known-issues"></a>Известные проблемы

| Известная проблема | Сведения |
| :---------- | :------ |
| Задача запуска пакетов в службах SSIS не поддерживает отладку, если параметр ExecuteOutOfProcess имеет значение True. | Эта проблема относится только к отладке. Она не влияет на сохранение, развертывание и запуск с использованием DTExec.exe или каталога SSIS. |
| Не удается создать или изменить источники данных в модели развертывания пакета. | Не удается открыть мастер источников данных. |
| Источник Power Query может не поддерживать протокол OData версии 4, если службы SQL Server Integration Services и SQL Server Analysis Services установлены в одном экземпляре Visual Studio. | &nbsp; |
| Источник Power Query может не поддерживать подключение к Oracle с помощью ODBC, если службы SQL Server Integration Services и SQL Server Analysis Services установлены в одном экземпляре Visual Studio. | &nbsp; |
| Источник Power Query Source не локализован. | &nbsp; |
| &nbsp; | &nbsp; |

## <a name="1590nbsp-ssdt-for-vs-2017"></a>15.9.0,&nbsp;SSDT для Visual Studio 2017

_Выпущено_: &nbsp;28 января 2019 г.  
_Номер сборки_: &nbsp;14.0.16186.0  
_SSDT для Visual Studio 2017_.

### <a name="whats-new"></a>Новые возможности

| Добавления | Сведения |
|-----------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Службы Integration Services (SSIS) | Добавлен источник Power Query (предварительная версия) для SQL Server Integration Services в ADF 2017. |
| Службы Integration Services (SSIS) | Возвращена поддержка SQL Server 2012. |
| Службы Integration Services (SSIS) | Добавлены источник и назначение Oracle для SQL Server 2019. |
| Службы Integration Services (SSIS) | Источник и назначение Oracle, предназначенные для SQL Server 2019, уже установлены в SSDT. <br/></br> Чтобы создать пакет, предназначенный для SQL Server 2017 или более ранней версии, скачайте соединитель Oracle соответствующей версии с сайта загрузки корпорации Майкрософт и установите его на компьютере с SSDT. <br/></br> [Соединитель версии 5.0 для Oracle от Attunity (Microsoft), предназначенный для SQL Server 2017](https://www.microsoft.com/download/details.aspx?id=55179 ) <br/></br> [Соединитель версии 4.0 для Oracle от Attunity (Microsoft), предназначенный для SQL Server 2016](https://www.microsoft.com/download/details.aspx?id=52950 )<br/></br> [Соединитель версии 3.0 для Oracle от Attunity (Microsoft), предназначенный для SQL Server 2014](https://www.microsoft.com/download/details.aspx?id=44582 )<br/></br> [Соединитель версии 2.0 для Oracle от Attunity (Microsoft), предназначенный для SQL Server 2012](https://www.microsoft.com/download/details.aspx?id=29283 ) |
| Службы Integration Services (SSIS) | Устранена проблема с загрузкой задачи или компонента скрипта при миграции с предыдущих версий служб SQL Server Integration Services. |
| Службы Integration Services (SSIS) | Устранена проблема, из-за которой средство просмотра данных не работало в Windows 7 с пакетом обновления 1 (SP1) и Windows 8.1. |
| Службы Integration Services (SSIS) | Устранена проблема, из-за которой в некоторых случаях сохранение пакета вызывало аварийное завершение работы Visual Studio. |
| Службы Integration Services (SSIS) | Устранена проблема, связанная с невозможностью выполнить пакет в некоторых случаях. |
| Службы Integration Services (SSIS) | Эта проблема возникала, если выполнялись два таких условия:< br />< br /> &bull;   уровень защиты — EncryptSensitiveWithPassword;< br/>< br /> &bull;   версия целевого сервера — ниже SQL Server 2017.          |
| Службы Integration Services (SSIS) | Устранена проблема, из-за которой заметки со шрифтом по умолчанию не отображались в SSDT. |
| Службы Integration Services (SSIS) | ISDeploymentWizard поддерживает проверку подлинности SQL, встроенную проверку подлинности Azure Active Directory и проверку пароля Azure Active Directory в режиме командной строки. |

### <a name="known-issues"></a>Известные проблемы

| Известная проблема | Сведения |
| :---------- | :------ |
| Задача запуска пакетов в службах SSIS не поддерживает отладку, если параметр ExecuteOutOfProcess имеет значение True. | Эта проблема относится только к отладке. Она не влияет на сохранение, развертывание и запуск с использованием DTExec.exe или каталога SSIS. |
| Источник Power Query может не поддерживать протокол OData версии 4, если службы SQL Server Integration Services и SQL Server Analysis Services установлены в одном экземпляре Visual Studio. | &nbsp; |
| Источник Power Query может не поддерживать подключение к Oracle с помощью ODBC, если службы SQL Server Integration Services и SQL Server Analysis Services установлены в одном экземпляре Visual Studio. | &nbsp; |
| Источник Power Query Source не локализован. | &nbsp; |
| &nbsp; | &nbsp; |

## <a name="1582nbsp-ssdt-for-vs-2017"></a>15.8.2,&nbsp;SSDT для Visual Studio 2017

_Выпущено_: &nbsp;5 ноября 2018 г.  
_Номер сборки_: &nbsp;14.0.16182.0  
_SSDT для Visual Studio 2017_.

### <a name="whats-new"></a>Новые возможности
**SSIS**

Устранена проблема, когда при развертывании в Azure-SSIS проекта SSIS с пакетами, содержащими задачу Script с назначением в виде неструктурированного файла, пакеты в Azure-SSIS не запускались. 

### <a name="known-issues"></a>Известные проблемы:

- Задача запуска пакетов в службах SSIS не поддерживает отладку, если параметр ExecuteOutOfProcess имеет значение True. Эта проблема относится только к отладке. Она не влияет на сохранение, развертывание и запуск с использованием DTExec.exe или каталога SSIS.

## <a name="1581nbsp-ssdt-for-vs-2017"></a>15.8.1,&nbsp;SSDT для Visual Studio 2017

_Выпущено_: &nbsp;27 сентября 2018 г.  
_Номер сборки_: &nbsp;14.0.16179.0  
_SSDT для Visual Studio 2017_.

### <a name="whats-new"></a>Новые возможности

**SSIS**

1. Добавлена поддержка [!INCLUDE[sql-server-2019](../includes/sssqlv15-md.md)].
2. Удалена поддержка SQL Server 2012.

### <a name="known-issues"></a>Известные проблемы:

- Задача запуска пакетов в службах SSIS не поддерживает отладку, если параметр ExecuteOutOfProcess имеет значение True. Эта проблема относится только к отладке. Она не влияет на сохранение, развертывание и запуск с использованием DTExec.exe или каталога SSIS.
- При развертывании в Azure-SSIS проекта SSIS с пакетами, содержащими задачу Script с назначением в виде неструктурированного файла, пакеты в Azure-SSIS не запускаются.

## <a name="158nbsp-ssdt-for-vs-2017"></a>15.8,&nbsp;SSDT для Visual Studio 2017

_Выпущено_: &nbsp;5 сентября 2018 г.  
_Номер сборки_: &nbsp;14.0.16174.0  
_SSDT для Visual Studio 2017_.

### <a name="whats-new"></a>Новые возможности

**SSIS**

1. Исправлена регрессия в VS 15.8, из-за которой при сохранении компонента или задачи скрипта происходила ошибка компиляции.
1. Исправлена регрессия в VS 15.8, из-за которой не работал мастер развертывания.
1. Устранена проблема, из-за которой диспетчер подключений ADO.NET не поддерживал сторонний поставщик ADO.NET.

**Установщик:**

- Реализована перезагрузка в процессе установки SSDT в Windows 10.


### <a name="known-issues"></a>Известные проблемы:

- Задача запуска пакетов в службах SSIS не поддерживает отладку, если параметр ExecuteOutOfProcess имеет значение True. Эта проблема относится только к отладке. Она не влияет на сохранение, развертывание и запуск с использованием DTExec.exe или каталога SSIS.

## <a name="1571nbsp-ssdt-for-vs-2017"></a>15.7.1,&nbsp;SSDT для Visual Studio 2017

_Выпущено_: &nbsp;2 июля 2018 г.  
_Номер сборки_: &nbsp; 14.0.16167.0  
_SSDT для Visual Studio 2017_.

### <a name="whats-new"></a>Новые возможности

**SSIS**

- Добавлена поддержка нового центра Azure AAD для государственных организаций (login.microsoftonline.us) для использования с задачами AS.
- Устранена проблема, когда задача обработки AS отображает ошибку "Метод не найден" при использовании целевого сервера SQL Server версии 2016.
- Устранена проблема, когда некоторые компоненты конвейера нельзя выполнить при использовании целевого сервера SQL Server версии 2012.

**Установщик:**

- Отфильтруйте список экземпляров VS, чтобы исключить экземпляры, не поддерживающие установку SSDT.

### <a name="known-issues"></a>Известные проблемы:

- Задача запуска пакетов в службах SSIS не поддерживает отладку, если параметр ExecuteOutOfProcess имеет значение True. Эта проблема относится только к отладке. Она не влияет на сохранение, развертывание и запуск с использованием DTExec.exe или каталога SSIS.
- При установке SSDT в Windows 10 и выборе установки нового экземпляра SQL Server Data Tools для Visual Studio 2017 установка завершится ошибкой с сообщением о том, что требуемая операция для метафайлов не поддерживается. Перезапустите компьютер и запустите установщик SSDT еще раз, чтобы продолжить установку.

## <a name="1570nbsp-ssdt-for-vs-2017"></a>15.7.0,&nbsp;SSDT для Visual Studio 2017

_Выпущено_: &nbsp;4 июня 2018 г.  
_Номер сборки_: &nbsp;14.0.16165.0  
_SSDT для Visual Studio 2017_.

### <a name="whats-new"></a>Новые возможности

**SSIS**

- Устранена проблема, связанная с неправильным отображением страницы *конструкторов служб Integration Services* в диалоговом окне "Параметры".  
- Устранена проблема с коэффициентом яркости для отображения текста в *редакторе преобразования "Сортировка"* .  
- Устранена проблема, связанная с исчезновением диалогового окна *Разрешение ссылок* при попытке изменения поля со списком.  
- Устранена проблема с нерабочей ссылкой справки F1 для *диспетчера подключений Hadoop*.  
- Устранена проблема с потерей кода задачи скрипта, если он находится в контейнере при работе в SQL Server 2016.  

**Установщик:**

- Устранена проблема, связанная с невозможностью установки служб SSAS до установки служб SSRS и SSIS в VS 15.7.2.

### <a name="known-issues"></a>Известные проблемы:

- Задача запуска пакетов в службах SSIS не поддерживает отладку, если параметр *ExecuteOutOfProcess* имеет значение *True*. Эта проблема относится только к отладке. Она не влияет на сохранение, развертывание и запуск с использованием DTExec.exe или каталога SSIS.

## <a name="1560nbsp-ssdt-for-vs-2017"></a>15.6.0,&nbsp;SSDT для Visual Studio 2017

_Выпущено_: &nbsp; 10 апреля 2018 г.  
_Номер сборки_: &nbsp;14.0.16162.0  
_SSDT для Visual Studio 2017_.

### <a name="whats-new"></a>Новые возможности

**SSIS**

- Устранена проблема, из-за которой задача обработки AS не записывает шаги обработки при выборе SQL Server 2016 и SQL Server 2017 в качестве целевых платформ.
- Устранена проблема, из-за которой при открытии в SSDT DTSX-файла с длинными локализованными именами задач предоставлялся несанкционированный доступ.
- Устранена проблема, из-за которой список переменных ScriptTask иногда пропадал из пользовательского интерфейса задач.
- Устранена проблема, из-за которой происходил сбой при добавлении копии существующего пакета, если он находился в SQL Server.
- Устранена проблема, из-за которой в некоторых диалоговых окнах редактора не удавалось выбрать пункт в поле со списком.
- Устранена проблема, из-за которой фон не менялся при переключении темы Visual Studio.
- Устранена проблема, из-за которой аннотация и метка загрузки не были видны при темной теме.
- Устранена проблема, из-за которой свойство состояния неправильно определялось для отключенных элементов панели элементов SSIS.
- Устранена проблема, из-за которой никогда не удавалось выполнить WebServiceTask.
- Устранена проблема, из-за которой происходил сбой развертывания пакета, если строке подключения присваивалась переменная, в которой выражение зависело от параметров проекта.

**Установщик:**

- В заявление о конфиденциальности добавлена ссылка "Программа улучшения качества программного обеспечения для SQL Server Data Tools".
- Устранена проблема, из-за которой при выборе параметра "Установить новую версию SQL Server Data Tools для экземпляра Visual Studio 2017" открывалось окно установщика Visual Studio.

### <a name="known-issues"></a>Известные проблемы:
- Задача запуска пакетов в службах SSIS не поддерживает отладку, если параметр ExecuteOutOfProcess имеет значение True. Эта проблема относится только к отладке. Она не влияет на сохранение, развертывание и запуск с использованием DTExec.exe или каталога SSIS.

## <a name="1552nbsp-ssdt-for-vs-2017"></a>15.5.2,&nbsp; SSDT для Visual Studio 2017

_Номер сборки_: &nbsp;14.0.16156.0  
_SSDT для Visual Studio 2017_.

### <a name="whats-new"></a>Новые возможности

**MSSQL Integration Services**
- Устранена проблема, из-за которой не удавалось перенести проекты служб SSIS 2008 при установке служб SSAS и SSIS в одном экземпляре Visual Studio 2017.
- Устранена проблема, из-за которой при установке конструктора отчетов Rdlc и служб SQL Server Integration Services в одном экземпляре Visual Studio 2017 не удавалось выполнить сборку проектов Rdlc.
- Устранена проблема, из-за которой не удавалось изменить цвет заметок.
- Устранена проблема, из-за которой некоторые строки в редакторе диспетчера подключений Hadoop усекались на других языках.
- Устранена проблема, из-за которой некоторые строки усекались в редакторе диспетчера подключений OData.
- Устранена проблема, из-за которой некоторые строки усекались в окне мастера импорта проектов Integration Services.
- Устранена проблема с заголовком в окне сведений на панели элементов служб SSIS.
- Устранена проблема, из-за которой некоторые строки усекались в окне мастера развертывания служб Integration Services. 

**Установщик**
- Устранена проблема, из-за которой скачивание полезных данных иногда завершалось ошибкой "Система не может найти указанный файл (0x80070002)".  

### <a name="known-issues"></a>Известные проблемы
- Задача запуска пакетов в службах SSIS не поддерживает отладку, если параметр *ExecuteOutOfProcess* имеет значение *True*. Эта проблема относится только к отладке. Она не влияет на сохранение, развертывание и запуск с использованием DTExec.exe или каталога SSIS.

## <a name="1551nbsp-ssdt-for-vs-2017"></a>15.5.1,&nbsp;SSDT для Visual Studio 2017

_Номер сборки_: &nbsp;14.0.16148.0  
_SSDT для Visual Studio 2017_.

### <a name="whats-new"></a>Новые возможности

Выпуск Visual Studio 2017 (15.5.1) аналогичен версии 15.5.0 за исключением исправления указанных ниже ошибок в установщике.

1. Устранена ошибка, из-за которой установщик переставал отвечать на запросы после установки служб SQL Server Integration Services.
2. Устранена проблема, когда установка завершается сбоем со следующим сообщением об ошибке: "Требуемая операция для метафайлов не поддерживается (0x800707D3)".

Помимо исправления этих двух ошибок, все приведенные ниже сведения для версии 15.5.0 также относятся к версии 15.5.1.

## <a name="1550nbsp-ssdt-for-vs-2017"></a>15.5.0,&nbsp;SSDT для Visual Studio 2017

_Номер сборки_: &nbsp;14.0.16146.0  
_SSDT для Visual Studio 2017_.

### <a name="whats-new"></a>Новые возможности

Средства SSDT для Visual Studio 2017 (15.5.0) прошли этап предварительной версии и предлагаются в виде общедоступной версии.

**Установщик**
1. Локализован пользовательский интерфейс программы установки.
1. Значок заменен на более качественный.

**Integration Services (IS)**
1. В мастере развертывания добавлен этап проверки пакетов при развертывании в среде Azure SSIS IR в ADF. Он позволяет выявить возможные проблемы с совместимостью пакетов SSIS, подлежащих выполнению в Azure SSIS IR. Дополнительные сведения см. в статье [Проверка пакетов SSIS, развертываемых в Azure](../integration-services/lift-shift/ssis-azure-validate-packages.md).
1. Локализовано расширение служб SSIS.

### <a name="bug-fixes"></a>Исправления ошибок

**Integration Services (IS)**
1. Устранена проблема, заключавшаяся в повреждении макета диспетчера подключений OLEDB и ADO.NET.
2. Устранена проблема, из-за которой при попытке изменить задачу обработки измерений возникла ошибка "Сборка не найдена".

### <a name="known-issues"></a>Известные проблемы

**Integration Services (IS)** Задача запуска пакетов в службах SSIS не поддерживает отладку, если параметр ExecuteOutOfProcess имеет значение True. Эта проблема относится только к отладке. Она не влияет на сохранение, развертывание и запуск с использованием DTExec.exe или каталога SSIS.

## <a name="173nbsp-ssdt-for-vs-2015"></a>17.3,&nbsp;SSDT для Visual Studio 2015

_Номер сборки_: &nbsp;14.0.61712.050  
_SSDT для Visual Studio 2015_.

### <a name="whats-new"></a>Новые возможности

**Проекты служб Analysis Services**
- Для табличных проектов добавлено три новых параметра ("Параметры" > "Табличный режим служб Analysis Services" > "Импорт данных").
  - "Включить устаревшие источники данных" — позволяет пользователю создавать старые источники данных с режимом совместимости 1200 в более новых режимах совместимости.
  - "Автоматическое определение типов" — если этот параметр включен, редактор запросов для современных источников данных будет пытаться определять типы данных для неструктурированных запросов при их загрузке. Если определение прошло успешно, в запрос может быть добавлен новый этап.
  - "Выполнять анализ в фоновом режиме" — если этот параметр включен, редактор запросов для современных источников данных будет выполнять запросы к источнику данных при загрузке запросов с целью анализа их выходной схемы.

**Integration Services (IS)**
- В мастере развертывания добавлен этап проверки пакетов при развертывании в среде Azure SSIS IR в ADF. Он позволяет выявить возможные проблемы с совместимостью пакетов SSIS, подлежащих выполнению в Azure SSIS IR. Дополнительные сведения см. в статье [Проверка пакетов SSIS, развертываемых в Azure](../integration-services/lift-shift/ssis-azure-validate-packages.md).

### <a name="bug-fixes"></a>Исправления ошибок

**Проекты служб Analysis Services:**
- Устранена проблема, из-за которой при возврате изменений модели в Team Foundation Server могло возникать необработанное исключение.
- Устранена проблема, из-за которой при добавлении таблицы со сложным выражением в модель 1400 могло возникать исключение.
- Устранена проблема, из-за которой при поиске метаданных в представлении схемы модели в Visual Studio могло происходить аварийное завершение работы.
- Устранена проблема с моделями 1400, из-за которой при сохранении изменений в запросы секций M могли удаляться вычисляемые столбцы из определения таблицы.
- Устранена проблема, из-за которой при использовании команды "Переименовать запрос" применительно к моделям 1400 пользовательский интерфейс получения данных в редакторе таблиц мог переставать отвечать на запросы во время проверки совместимости с текущей моделью данных.
- Устранена проблема, из-за которой при развертывании модели 1400 в службе анализа Azure возникала ошибка отсутствия ссылки на сборку Newtonsoft.
- Устранена проблема, из-за которой в некоторых случаях при импорте данных посредством Power Query в модель 1400 возникала ошибка.
- Устранена проблема с масштабированием в диалоговых окнах пользовательского интерфейса Power Query, которая возникала при задании масштабирования Windows.
- Устранена проблема с переименованием ролей.
- Устранены проблемы с конфигурациями проектов, из-за которых в некоторых случаях изменения могли не сохраняться или не синхронизироваться надлежащим образом.
- Устранена проблема в редакторе PowerQuery, из-за которой автоматически добавлялись этапы "Изменить тип".
- Устранена проблема, из-за которой могла возникать ошибка при открытии файла BIM после перехода в режим интегрированной рабочей области или выхода из него.
- Свойство MaxConnections теперь отображается для источников данных в табличных моделях.
- Увеличен начальный размер окна редактора PowerQuery.
- Ключевые слова запросов M, такие как "Источник", в редакторе PowerQuery теперь локализованы.
- При работе с моделями 1400 и структурированными источниками данных учетные данные кэшируются, что позволяет не вводить одни и те же учетные данные для каждой редактируемой таблицы.

**Проекты Reporting Services:**
- Устранена проблема, из-за которой невозможно было развернуть один отчет в проекте из нескольких отчетов.
- Устранена проблема с общими источниками данных, из-за которой при развертывании мог происходить сбой.
- Устранена проблема, из-за которой при переключении между представлением кода, представлением конструктора и представлением редактора запросов могло происходить аварийное завершение работы диспетчера отмены.
- Устранена проблема, из-за которой при возникновении ошибки во время выполнения область параметров могла исчезать.
- Устранена проблема с проектами отчетов, из-за которой могли теряться их сопоставления в системе управления версиями.

**Службы Integration Services.**
- Устранена проблема, которая могла происходить при переключении соединения для задачи обработки Analysis Services.
- Исправлена проблема, которая заключалась в том, что некоторые задачи и компоненты были плохо локализованы.
- Устранена проблема, из-за которой нарушалась работа компонентов CDC после применения исправления SQL для CDC, добавляющего столбец \__$command\_id.

## <a name="1540-previewnbsp-ssdt-for-vs-2017"></a>15.4.0 (предварительная версия),&nbsp;SSDT для Visual Studio 2017

_Номер сборки_: &nbsp;14.0.16134.0  
_SSDT для Visual Studio 2017_.
  
### <a name="whats-new"></a>Новые возможности

В этом выпуске представлен автономный веб-установщик для проектов баз данных SQL Server, Analysis Services, Reporting Services и Integration Services в Visual Studio 2017 15.4 и более поздних версиях.

### <a name="installer"></a>Установщик

- Пользователь может задавать псевдоним при установке нового экземпляра SSDT для VS2017.
- Скрытие флажков выбора компонентов установщика, если не выбрано ни одного экземпляра VS.
- Уточнены некоторые сообщения установщика на основе отзывов пользователей.
- Устранена проблема, связанная с тем, что установщик не поддерживает обновление.

### <a name="ssis"></a>Integration Services

- Устранена проблема, связанная с тем, что мастер импорта и экспорта данных не может указывать источник данных, если установлен пакет дополнительных компонентов Azure.
- Устранена проблема, связанная с тем, что при редактировании задачи процесса служб Analysis Services SSIS возникает исключение при переключении соединения.
- Устранена проблема, связанная с нарушением работы компонентов CDC после применения исправления SQL, которое добавляет столбец __$command_id.
- Устранена проблема, связанная с невозможностью изменения и выполнения стороннего пакета при использовании прежней версии SQL Server в качестве целевой платформы.
- Устранена проблема, связанная с неправильным отображением диалогового окна настройки источника неструктурированного файла при двойном щелчке DTSWizard.exe и выборе источника неструктурированного файла.
- Устранена проблема, связанная с невозможностью выполнения пакета, содержащего компонент или задачу пакета дополнительных компонентов Azure при выборе SQL Server 2017 в качестве целевой платформы.

**Известные проблемы**

- Установщик не локализован.
- Задача запуска пакетов в службах SSIS не поддерживает отладку, если параметр *ExecuteOutOfProcess* имеет значение True. Эта проблема относится только к отладке. Она не влияет на сохранение, развертывание и запуск с использованием DTExec.exe или каталога SSIS.

## <a name="1730nbsp-ssdt-for-vs-2015"></a>17.30,&nbsp;SSDT для Visual Studio 2015

_Номер сборки_: &nbsp;14.0.61709.290  
_SSDT для Visual Studio 2015_.

### <a name="whats-new"></a>Новые возможности

**Analysis Services**

- Поддержка Cosmos DB и HDI Spark в моделях уровня 1400.
- Свойства табличных источников данных
- Теперь вы можете выбрать "Пустой запрос" при создании запроса в редакторе для моделей с уровнем совместимости 1400.
- Редактор запросов для моделей режима 1400 теперь позволяет сохранять запросы без автоматической обработки новых таблиц.

**Reporting Services**

- Теперь проекты при открытии предлагают перейти на обновленный формат для поддержки сборки и развертывания с использованием MSBuild.

### <a name="known-issues"></a>Известные проблемы

**Analysis Services**

- Моделям уровня совместимости 1400 с перспективами в режиме прямого запроса не удается запрашивать или обнаруживать метаданные.

**Reporting Services**

- Формат нового проекта отчета не сохраняет привязку системы управления версиями и выдает ошибку примерно с таким сообщением:

   *Файл проекта C:\path не привязан к системе управления версиями, но решение содержит сведения о такой привязке*.

   Чтобы обойти эту проблему, при каждом открытии решения необходимо щелкнуть **Использовать привязку решения**.

- После перевода проекта на новый формат MSBuild может не работать сохранение. При этом выдается примерно такое сообщение:

   *"Параметр unevaluatedValue не может иметь значение NULL".*

   Чтобы обойти эту проблему, обновите *Конфигурации проекта* и заполните свойство *Платформа*.

### <a name="bug-fixes"></a>Исправления ошибок

**Analysis Services**

- Значительно улучшена производительность при загрузке представления схемы табличной модели.
- Исправлен ряд проблем для улучшения интеграции и работы Power Query в моделях с уровнем совместимости 1400.
   - Исправлена проблема, препятствовавшая изменению разрешений для источников файлов.
   - Исправлена проблема с невозможностью изменения источников файлов.
   - Исправлена проблема с некорректным отображением пользовательского интерфейса для источников файлов.
- Исправлена проблема, вызывавшая удаление свойства "JoinOnDate", когда связь с объединением по дате делалась неактивной.
- Функция "Новый запрос" в конструкторе запросов теперь позволяет создавать пустой запрос.
- Исправлена проблема, из-за которой правки существующего запроса источника данных не обновляли определение модели таблицы с уровнем совместимости 1400.
- Исправлены проблемы с пользовательскими выражениями контекста, которые могли вызывать исключения.
- При импорте новой таблицы с повторяющимся именем в табличных моделях уровня 1400 пользователь теперь будет получать уведомление о конфликте имен и необходимости указать уникальное имя.
- Режим олицетворения текущего пользователя удален из моделей в режиме импорта, так как это неподдерживаемый сценарий.
- Интеграция Power Query теперь поддерживает параметры для дополнительных источников данных (OData.Feed, Odbc.DataSource, Access.Database, SapBusinessWarehouse.Cubes).
- Строки параметров Power Query для источников данных теперь корректно отображают локализованный текст на основе языкового стандарта клиента.
- Представление схемы теперь отображает только что созданные столбцы из редактора запросов M в моделях с уровнем совместимости 1400.
- Редактор Power Query теперь позволяет не импортировать данные.
- Исправлена проблема с установкой картриджа данных, используемого для импорта таблиц из Oracle в многомерных моделях в Visual Studio 2017.
- Исправлена проблема, которая могла в редких случаях приводить к сбоям, когда курсор мыши покидал панель табличных формул.
- Исправлена проблема в диалоговом окне "Изменение свойств таблицы", когда при изменении имени таблицы изменялось имя исходной таблицы, вызывая непредвиденную ошибку.
- Исправлен сбой, который мог происходить в Visual Studio 2017 при попытке вызвать проверку безопасности куба в конструкторе вкладок с данными ячеек конструктора ролей в многомерных проектах.
- SSDT: не допускается изменение свойств для табличных источников данных.
- Исправлена проблема, которая могла в некоторых случаях вызывать неправильную работу сборок MSBuild и DevEnv с файлами решений.
- Значительно повышена производительность при фиксации изменений модели (изменения DAX для мер, вычисляемых столбцов), когда табличная модель содержит большой объем метаданных.
- Исправлен ряд проблем с импортом данных с помощью PowerQuery в моделях уровня совместимости 1400.
   - При нажатии кнопки "Импортировать" импорт занимает долгое время, а пользовательский интерфейс не отображает состояние
   - Очень медленная загрузка длинного списка таблиц в представлении навигатора при попытке выбрать таблицы для импорта.
   - Низкая производительность редактора запросов при работе со списком из 35 запросов в представлении редактора (также является проблемой в Power BI Desktop)
   - Импорт множества таблиц отключает панель инструментов и в некоторых случаях может не завершаться 
   - Конструктор моделей отключен и не отображает данные после импорта таблицы с помощью Power Query
   - Если отменить выбор "Создать таблицу" в пользовательском интерфейсе Power Query, таблица все равно создается
   - Источник данных папки не запрашивает учетные данные 
   - При попытке получить обновленные учетные данные для структурированного источника данных может возникать исключение "Ссылка на объект не задана"
   - Диспетчер секций с выражением M открывается слишком медленно
   - При выборе "Свойства" в таблице редактора Power Query свойства не отображаются
- Интеграция Power Query в пользовательский интерфейс сделана более надежной: учитываются исключения самого высокого уровня, и они отображаются в окне вывода.
- Исправлена проблема, когда изменение источника данных структуры не сохранялось в контекстных выражениях.
- Исправлена проблема, когда ошибки в выражениях M могли препятствовать обновлению модели, но сообщение об ошибке при этом не выводилось.
- Исправлена проблема закрытия SSDT с ошибкой "Чтобы закрыть решение, необходимо остановить сборку".
- Исправлена проблема, когда при задании некорректного режима олицетворения в модели с уровнем совместимости 1400 могло быть похоже, что Visual Studio перестал отвечать на запросы. 
- Свойства строк детализации теперь будут сериализироваться в JSON, только если они непустые (изменено поведение по умолчанию).
- В списке режима табличных запросов Direct Query теперь доступен OLEDB-драйвер Oracle.
- Добавляемые выражения M в табличных моделях с уровнем совместимости 1400 теперь отображаются и обновляются в обозревателе табличных моделей.
- Исправлена проблема, когда при попытке импорта с источником данных "Другой" в моделях с уровнем совместимости до 1400 поставщик MSOLAP не отображался в Visual Studio 2017.
- Исправлена проблема, когда при добавлении преобразования через обозреватель табличных моделей могли возникать ошибки. 
- Исправлена проблема в интерфейсе безопасности уровня объектов, приводившая в некоторых случаях к некорректному отображению и скрытию вкладки.
- Исправлена проблема, когда при попытке открыть ранее загруженную многомерную модель в диалоговом окне "Подключение к базе данных" могла возникнуть ошибка.
- Исправлена проблема, которая приводила к ошибке при добавлении в многомерную модель пользовательских сборок.

**Reporting Services**

- Исправлена проблема с компиляцией и сборкой RDLC в Visual Studio 2017.

## <a name="1530-previewnbsp-ssdt-for-vs-2017"></a>15.3.0 (предварительная версия),&nbsp;SSDT для Visual Studio 2017

_Номер сборки_: &nbsp;14.0.16121.0  
_SSDT для Visual Studio 2017_.
  
### <a name="whats-new"></a>Новые возможности

Эта предварительная версия — первая версия SSDT для Visual Studio 2017. В этом выпуске появилась поддержка автономной установки с веб-интерфейсом для проектов баз данных SQL Server, Analysis Services, Reporting Services и Integration Services в Visual Studio 2017 15.3 и более поздних версиях.

**Известные проблемы**

- Установщик не локализован.
- Службы SSIS не локализованы.
- Задача запуска пакетов в службах SSIS не поддерживает отладку, если параметр *ExecuteOutofProcess* имеет значение *True*. Эта проблема относится только к отладке. Она не влияет на сохранение, развертывание и запуск с использованием DTExec.exe или каталога SSIS.
- Для пакетов SSIS, содержащих расширения сторонних разработчиков, невозможно выбрать другие целевые версии сервера.


## <a name="172nbsp-ssdt-for-vs-2015"></a>17.2,&nbsp; SSDT для Visual Studio 2015

_Номер сборки_: &nbsp;14.0.61707.300  
_SSDT для Visual Studio 2015_.

### <a name="whats-new"></a>Новые возможности

**Проекты Analysis Services:**
- В диалоговом окне *Роли* теперь можно настроить защиту на уровне объектов, чтобы повысить безопасность табличных моделей с уровнем совместимости 1400.
- Новая возможность выбора пользователей, не имеющих адресов электронной почты, в качестве участников ролей AAD в моделях Analysis Services Azure в проектах SSDT Analysis Services для Visual Studio 2017.
- Новое свойство "Всегда запрашивать" проектов Analysis Services Azure в табличных проектах SSDT Analysis Services, позволяющее настраивать кэширование учетных данных ADAL.

### <a name="bug-fixes"></a>Исправления ошибок

**Общие сведения**
- Обновлены ссылки для SQL Server 2017.

**Проекты Analysis Services**
- Внесены исправления для существенного повышения производительности при фиксации изменений, вносимых в меры DAX, и других изменений моделей.
- Исправлен ряд проблем с интеграцией Power Query в проектах Analysis Services, в которых используются табличные модели с уровнем совместимости 1400.
- Исправлена проблема, возникавшая в многомерных проектах в Visual Studio 2017, из-за которой мог происходить сбой загрузки конструктора агрегатных схем.
- Исправлена проблема, возникавшая при перетаскивании элемента на многомерной схеме представления источника данных Analysis Services, которая могла приводить к аварийному завершению работы Visual Studio 2017.
- Исправлена проблема в проектах Analysis Services, которая заключалась в том, что диалоговое окно развертывания не всегда располагалось на переднем плане поверх окна Visual Studio.
- Магазин данных больше не доступен в качестве источника данных для импорта в Analysis Services, так как эта служба выведена из эксплуатации.
- Исправлена проблема, из-за которой конструктор таблиц оставался отключенным после импорта новой таблицы из существующего источника данных посредством обозревателя табличных моделей.
- Исправлена проблема, из-за которой пункты меню модели "Импорт из источника данных" и "Добавить источник данных" могли оставаться скрытыми в контекстах, в которых они должны были отображаться.
- При создании меры в обозревателе табличных моделей устранена необходимость в перемещении фокуса обратно на столбец, который использовался для создания меры.
- При переключении с интегрированной рабочей области в табличных проектах Analysis Services на явно заданный сервер рабочей области старые файлы базы данных теперь очищаются.
- Исправлена проблема в проектах табличных моделей Analysis Services уровня 1400, которая заключалась в том, что флажок "Безопасность на уровне строк" в пользовательском интерфейсе изначально не был установлен вне зависимости от фактического состояния базового объекта.
- Исправлена проблема, из-за которой могло создаваться необработанное исключение и происходить аварийное завершение работы при импорте текстового файла или файла Excel в табличную модель с уровнем совместимости 1400 с помощью Power Query.
- Исправлена проблема, которая могла происходить с бегунком полосы прокрутки в элементе управления редактированием формул DAX, используемым в конструкторе табличных моделей Analysis Services.
- Исправлена проблема, приводившая к невозможности изменения гибридного источника данных PowerQuery, для которого использовалась проверка подлинности по имени пользователя и паролю.
- Исправлена проблема, которая могла блокировать подключение источника данных при задании дополнительных свойств в строке подключения.
- Исправлена проблема, которая могла приводить к аварийному завершению работы Visual Studio при загрузке нескольких проектов табличных моделей Analysis Services и закрытии второго конструктора моделей перед выполнением в нем действий с какими-либо объектами.
- Исправлена проблема, из-за которой изменения, внесенные в форматирование ключевых показателей эффективности, в некоторых случаях не сохранялись.
- Исправлена проблема в пользовательском интерфейсе PowerQuery, из-за которой в меню неправильно указывалось состояние отображения строки формул.
- Исправлена проблема с табличными проектами Analysis Services с уровнем совместимости 1400, из-за которой источники данных PowerQuery могли приводить к аварийному завершению работы Visual Studio при открытии меню "Изменение источника данных" в обозревателе табличных моделей.
- Исправлена периодически возникавшая проблема, из-за которой при загрузке табличной модели уровня 1400 могла возникать ошибка *Не удалось загрузить файл или сборку Microsoft.ProBI.MashupLibrary*.

**Проекты Reporting Services**
- Выбранные пользователем настройки для полей "Линейка" и "Параметр" сохраняются в следующих сеансах Reporting Services.

**Проекты Integration Services**
- Исправлена проблема, из-за которой контейнер ForEachLoop ADO/ADO.NET отображался неправильно.
- Исправлена проблема, которая заключалась в том, что некоторые задачи, компоненты и мастеры не были локализованы.
- Последняя версия *TargetServerVersion* изменена с "SQL Server vNext" на "SQL Server 2017".

## <a name="1710nbsp-ssdt-for-vs-2015"></a>17.10,&nbsp;SSDT для Visual Studio 2015

_Номер сборки_: &nbsp;14.0.61705.170  
_SSDT для Visual Studio 2015_.

### <a name="whats-new"></a>Новые возможности
**Проекты Analysis Services:**
- Пользователи могут задавать подсказки по кодировкам столбцов в пользовательском Интерфейсе для моделей 1400.
- Технология IntelliSense, не зависящая от модели, теперь доступна в автономном режиме.
- Обозреватель табличных моделей теперь содержит узел для представления именованных M-выражений, доступных в модели (табличные модели с уровнем совместимости 1400).
- Средство выбора людей Azure Active Directory, аналогичное IAM на портале Microsoft Azure, теперь доступно и при настройке членов роли в табличных моделях.

**Проекты базы данных:**
- Обновлено до DacFx 17.1

### <a name="bug-fixes"></a>Исправления ошибок
- Исправлена проблема, из-за которой имя группы конструкторов бизнес-аналитики неправильно отображалось в параметрах Visual Studio в VS2017.
- Исправлена проблема, из-за которой возникал сбой при создании карты кода для решения с проектом отчета или проектом AS.
- Исправлен ряд проблем с интеграцией PowerQuery для табличных моделей Analysis Services с уровнем совместимости 1400.
- Исправлена проблема с новым окном редактора DAX, из-за которой оператор присваивания не мог находиться на отдельной строке при определении меры.
- Исправлена проблема, которая препятствовала обновлению отображаемых табличных мер при переименовании мер в перспективе.
- Обновлены ядро встроенной рабочей области Analysis Services и табличная модель объектов, исправлена регрессия, которая вызывала сбой при развертывании табличных проектов 1200, содержащих переводы, на сервере SQL Server 2016 Analysis Services.
- Исправлена проблема производительности, из-за которой создание и удаление новых табличных источников данных 1400 происходило очень медленно.
- Исправлена проблема, прерывавшая обработку схемы представления источника данных в многомерных моделях при быстром переключении между различными представлениями источников данных.

## <a name="dacfx-171"></a>DacFx 17.1

- Исправлена проблема, которая возникала при шифровании столбца с оптимизированными для памяти таблицами со столбцами других идентификаторов.
- Поддержка SQLDOM для параметра CATALOG_COLLATION функции CREATE DATABASE

## <a name="dacfx-1701"></a>DacFx 17.0.1

- Исправлена проблема с базами данных с асимметричным ключом HSM с использованием элемента [Connect](https://connect.microsoft.com/SQLServer/feedback/details/3132749/sqlpackage-exe-fails-when-extracting-a-database-which-contains-an-asymmetric-key-using-an-ekm-provider) от поставщика расширенного управления ключами.

## <a name="170nbsp-ssdt-for-vs-2015"></a>17.0,&nbsp;SSDT для Visual Studio 2015

_Номер сборки_: &nbsp;14.0.61704.140  
_SSDT для Visual Studio 2015_.  
_Поддержка SQL Server вплоть до версии 2017_.

### <a name="whats-new"></a>Новые возможности
**Проекты базы данных:**
- Исправлена проблема, в связи с которой кластеризованный индекс в представлении блокировал развертывание.
- В строках сравнения схем, связанных с шифрованием столбцов, теперь используются собственные имена, а не имена экземпляров.   
- Для программы SqlPackage добавлен новый параметр командной строки — ModelFilePath.  Это позволяет опытным пользователям указать внешний файл model.xml. для операций импорта, публикации или написания скриптов   
- API DacFx теперь поддерживает универсальную и многофакторную проверку подлинности (MFA) Azure AD.

**Проекты IS:**
- Источник OData SSIS и диспетчер подключений OData теперь поддерживают подключение к каналам OData в Microsoft Dynamics AX Online и Microsoft Dynamics CRM Online.
- Проект SSIS теперь поддерживает целевую версию сервера "SQL Server 2017". 
- Поддержка задач управления CDC, разделителя CDC и CDC-источника при использовании SQL Server 2017. 

**Проекты Analysis Services:**
- Интеграция PowerQuery служб Analysis Services (табличные модели с уровнем совместимости 1400):
    - Режим DirectQuery стал доступен для SQL Oracle и Teradata, если у пользователя установлены драйверы сторонних производителей.
    - Добавлены столбцы как в PowerQuery.
    - Параметры доступа к данным в моделях 1400 (свойства уровня модели, используемой подсистемой M).
        - Включить быстрое объединение (по умолчанию используется значение "ложь"; если задано значение "истина", подсистема комбинирования игнорирует уровни конфиденциальности источников данных при объединении данных)
        - Включить устаревшие перенаправления (по умолчанию используется значение "ложь"; если задано значение "истина", подсистема комбинирования будет использовать потенциально небезопасные перенаправления HTTP,  например из HTTPS в HTTP URI).  
        - Возвращать значения ошибок, равные NULL (по умолчанию используется значение "ложь"; если задано значение "истина", ошибки на уровне ячеек возвращаются со значением NULL; если задано значение false и ячейка содержит ошибку, выдается исключение).  
    - Дополнительные (файловые) источники данных с использованием PowerQuery.
        - Excel 
        - Text/CSV 
        - Xml 
        - Json 
        - Папка 
        - База данных Access 
        - хранилище BLOB-объектов Azure 
    - Локализованный пользовательский интерфейс PowerQuery
- Окно инструментов редактора DAX
    - Улучшен интерфейс редактирования DAX для мер, вычисляемых столбцов и выражений строк, доступный в представлении в меню "Другие окна" в SSDT.
    - Усовершенствования средства синтаксического анализа DAX/Intellisense


**Проекты RS:**
- Теперь доступно встраиваемое управление RVC с поддержкой SSRS 2016

### <a name="bug-fixes"></a>Исправления ошибок
**Проекты Analysis Services:**
- Исправлена приоритетность шаблонов для проектов бизнес-аналитики таким образом, чтобы они не отображались в верхней части категории новых проектов в VS.
- Устранен сбой VS, который мог происходить в редких случаях при открытии решения SSIS, SSAS или SSRS.
- Табличные: различные улучшения и исправления для повышения производительности в модуле синтаксического анализа DAX и строке формул.
- Табличные: обозреватель табличных моделей больше не отображается, если табличный проект SSAS не открыт.
- Многомерные: устранена проблема, при которой окно обработки было непригодным для использования на компьютерах с высоким разрешением.
- Табличные: исправлена ошибка, когда в SSDT возникает сбой при открытии любого проекта бизнес-аналитики, если при этом открыта среда SSMS. [Элемент Connect](https://connect.microsoft.com/SQLServer/feedback/details/3100900/ssdt-faults-when-opening-any-bi-project-when-ssms-is-already-open)
- Табличные: исправлена ошибка, из-за которой иерархии неправильно сохранялись в BIM-файл в модели 1103. [Элемент Connect](https://connect.microsoft.com/SQLServer/feedback/details/3105222/vs-2015-ssdt)
- Табличные: исправлена ошибка, при которой режим интегрированной рабочей области можно было использовать на 32-разрядных компьютерах, несмотря на то, что этот режим не поддерживается.
- Табличные: исправлена ошибка, при которой щелчок на любом элементе в режиме частичного выбора (например, при вводе выражения DAX и щелчке на измерении) мог привести к сбою.
- Табличные: исправлена ошибка, при которой мастер развертывания сбрасывал имя модели (.Name) обратно к значению Model. [Элемент Connect](https://connect.microsoft.com/SQLServer/feedback/details/3107018/ssas-deployment-wizard-resets-modelname-to-model)
- Табличные: исправлена проблема, при которой при выборе иерархии в TME отображались свойства, несмотря на то, что представление диаграммы не было выбрано.
- Табличные: исправлена ошибка, при которой при вставке текста в строку формулы DAX из определенных приложений помещались изображения или другое содержимое вместо текста.
- Табличные: исправлена ошибка, при которой в режиме 1103 некоторые старые модели не открывались из-за наличия в них измерений со специфическим определением.
- Табличные: исправлена ошибка, при которой не удавалось удалить сеансы XEvent.
- Исправлена проблема, при которой попытка создать SMPROJ-файл AS с использованием devenv.com завершалась ошибкой.
- Исправлена проблема слишком частого завершения изменений текста при использовании корейского редактора метода ввода в заголовках вкладок листов табличной модели AS.
- Исправлена проблема, при которой IntelliSense для функции DAX Related() работала неправильно, отображая столбцы из других таблиц.
- Улучшен импорт табличного проекта AS из диалогового окна базы данных за счет сортировки списка баз данных AS.
- Исправлена проблема при создании вычисляемых таблиц в табличной модели AS, когда таблицы не перечислялись как предложенные объекты в выражении.
- Исправлена ошибка в предварительной версии моделей 1400 AS при попытке открыть с помощью сервера интегрированной рабочей области после просмотра кода.
- Исправлена проблема, при которой некоторые источники данных (без поддержки исходного каталога) неправильно работали в определенных обстоятельствах. 
- Мастер развертывания применяет изменения к вычисляемым секциям таблицы даже в том случае, если включен параметр сохранения секций.
- Исправлена проблема, при которой в диалоговом окне "Дополнительные свойства" для существующего подключения AS не отображался полный список, пока оно не было выбрано повторно.
- Исправлены некоторые проблемы с усечением строк пользовательского интерфейса в некоторых локализованных сборках.
- Исправлен ряд проблем с интеграцией PowerQuery для табличных моделей Analysis Services с уровнем совместимости 1400.
- Исправлена проблема с неправильным отображением шаблонов стиля в мастере отчетов.
- Исправлена проблема с мастером отчетов, из-за которой при переходе с SQL на AS могли возникать неверные параметры источника данных.
- Исправлена проблема, которая вызывала сбой при сборке проекта Analysis Services (табличные данные) из командной строки (devenv.com\exe).
- Исправлена проблема со средством синтаксического анализа мер DAX — теперь цвет выделенного и исправленного текста, который начинается с букв перед :=, отображается верно.
- Исправлена проблема, которая вызывала ObjectRefException, если при попытке отобразить все файлы для табличного проекта в режиме интегрированной рабочей области пути становились слишком длинными.
- Исправлена проблема с конструктором источников данных, из-за которой клиентский поставщик данных Compact 4.0 отображался как недоступный.
- Исправлена проблема, которая вызывала ошибку при попытке просмотра модели интеллектуального анализа данных в VS2017.
- Исправлена проблема многомерной модели AS в VS2017, из-за которой при изменении представлений обработка схемы представления источника данных останавливалась и возникало исключение.
- Исправлена проблема с предварительным просмотром отчетов, которая вызывала сбой подключения к AS в VS2017.
 

**Проекты RS:**
- Исправлена проблема, когда во время конструирования отчетов в SSDT представление параметров, источников данных и наборов данных в виде дерева сворачивалось после внесения большинства изменений. 
- Исправлена ошибка, в которой при выборе команды "Сохранить" сохранялась текущая версия RDL, а не последняя версия.
- Исправлена ошибка, при которой SSDT RS выполняет резервное копирование файлов, когда резервное копирование выключено, и другие ошибки.
- Исправлена ошибка в построителе отчетов, которая появлялась при нажатии кнопки "Разбить ячейки". [Элемент Connect](https://connect.microsoft.com/SQLServer/feedback/details/3101818/ssdt-2015-ssrs-designer-error-by-matrix-cell-split)
- Исправлена проблема, при которой кэширование может привести к неверным данным в отчете. [Элемент Connect](https://connect.microsoft.com/SQLServer/feedback/details/3102158/ssdtbi-14-0-60812-report-preview-data-is-frequently-wrong-due-to-bad-caching)

**Проекты IS:**
- Исправлена ошибка, при которой параметр run64bitruntime не сохраняется.
- Исправлена ошибка, при которой в средстве просмотра данных не сохранялись отображаемые столбцы.
- Исправлена ошибка, при которой в разделе "Компоненты пакета" не отображались аннотации. [Элемент Connect](https://connect.microsoft.com/SQLServer/feedback/details/3106624/package-parts-hide-annotations)
- Исправлена ошибка, из-за которой в разделе "Компоненты пакета" не учитывались аннотации и макеты потока данных. [Элемент Connect](https://connect.microsoft.com/SQLServer/feedback/details/3109241/package-parts-discard-data-flow-layouts-and-annotations)
- Устранена проблема, при которой среда SSDT аварийно завершала работу при импорте проекта из SQL Server.
- Устранена проблема, связанная с тем, что после открытия сохраненного пакета SSIS и в среде выполнения параметру TimeoutInMinutes задачи "Файловая система" Hadoop по умолчанию присваивалось значение 10.

**Проекты базы данных:**
- При развертывании DACPAC-файла SSDT включается игнорирование порядка столбцов (IgnoreColumnOrder). [Элемент Connect](https://connect.microsoft.com/SQLServer/feedback/details/1221587/ssdt-dacpac-deploy-add-setting-back-in-for-ignorecolumnorder)
- Ошибка компиляции SSDT при использовании STRING_SPLIT. [Элемент Connect](https://connect.microsoft.com/SQLServer/feedback/details/2906200/ssdt-failing-to-compile-if-string-split-is-used)
- Исправлена проблема, из-за которой участники развертывания (DeploymentContributors) получали доступ к общедоступным моделям, но резервная схема еще не была инициализирована. [Проблема на GitHub](https://github.com/Microsoft/DACExtensions/issues/8)
- Временное исправление DacFx для размещения файловой группы.
- Исправление для ошибки "Неразрешенная ссылка" для внешних синонимов. 
- Always Encrypted. шифрование онлайн не отключает отслеживание изменений при отмене и работает некорректно, если отслеживание изменений не было очищено перед началом шифрования.

## <a name="165nbsp-ssdt-for-vs-2015"></a>16.5,&nbsp;SSDT для Visual Studio 2015

_Выпущено_: &nbsp;20 октября 2016 г.  
_Номер сборки_: &nbsp;14.0.61021.0  
_SSDT для Visual Studio 2015_.  
_Поддержка SQL Server вплоть до версии 2016_.

**Новые возможности**

### <a name="connection-improvements"></a>Улучшения подключения

* В новом поле поиска на вкладке **Обзор** можно фильтровать локальные и сетевые серверы, а также базы данных SQL Azure. Это удобно, если в списках отображается много серверов или баз данных.
* В контекстном меню вкладки **Журнал** добавлены функции закрепления и открепления выбранных требуемых элементов, а также новый параметр для удаления подключений из журнала.

### <a name="sqlpackage-and-dacfx-api-improvements"></a>Улучшения API SqlPackage и DacFx

Теперь с помощью SqlPackage.exe и API DacFx можно создать отчет о развертывании, скрипт для развертывания и опубликовать все это в базе данных одним действием. Это экономит время для всех, кому нужно сохранять отчет об опубликованных во время развертывания компонентах. Кроме того, для сценариев Azure создаются отдельные скрипты для базы данных master и целевой базы данных развертывания. До сих пор создавался всего лишь один скрипт, который невозможно было использовать для повторных развертываний.

Для действий Publish и Script SqlPackage добавлено два новых аргумента.

* DeployScriptPath (коротко dsp). Это дополнительный путь для записи скрипта развертывания. Если для развертывания Azure есть команды TSQL для создания или изменения базы данных, скрипт master будет записан в тот же путь, но в качестве имени выходного файла будет использоваться Filename_Master.sql.
* DeployReportPath (коротко drp). Это дополнительный путь для записи отчета по развертыванию.

Для действия Script нужно использовать либо существующие аргументы выходного пути, либо новые аргументы для конкретного скрипта или отчета, а не все эти аргументы вместе.

Ниже представлены примеры использования.

**Действие Publish**

```Sqlpackage.exe /a:Publish /tsn:(localdb)\ProjectsV13 /tdn:MyDatabase /deployscriptpath:"My\DeployScript.sql" /deployreportpath:"My\DeployReport.xml"```

**Действие Script**

```Sqlpackage.exe /a:Script /tsn:(localdb)\ProjectsV13 /tdn:MyDatabase /deployscriptpath:"My\DeployScript.sql" /deployreportpath:"My\DeployReport.xml"```

В DacFx добавлены два новых API: DacServices.Publish() и DacServices.Script(). В них также можно выполнять действия Publish, Script и Report в рамках одной операции. Ниже представлены примеры использования.

```
DacServices service = new DacServices(connectionString);
using(DacPackage package = DacPackage.Load(@"C:\My\db.dacpac")) {
var options = new PublishOptions() {
    GenerateDeploymentScript = true, // Should a deployment script be created?
    GenerateDeploymentReport = true, // Should an xml deploy report be created?
    DatabaseScriptPath = @"C:\My\OutputScript.sql", // optional path to save script to
    MasterDbScriptPath = @"C:\My\OutputScript_Master.sql", // optional path to save master script to
    DeployOptions = new DacDeployOptions()
};

// Call publish and receive deployment script & report in the results
PublishResult result = service.Publish(package, "TargetDb", options);
Console.WriteLine(result.DatabaseScript);
Console.WriteLine(result.MasterDbScript);
Console.WriteLine(result.DeploymentReport);

// Call script and receive deployment script & report in results
result = service.Script(package, "TargetDb", options);
Console.WriteLine(result.DatabaseScript);
Console.WriteLine(result.MasterDbScript);
Console.WriteLine(result.DeploymentReport);
```

**Analysis Services и Reporting Services**

Повышена производительность средства синтаксического анализа DAX конструктора таблиц SSAS при работе с крупными выражениями DAX.
Дополнительные сведения см. в [записи блога о службах Analysis Services](https://blogs.msdn.microsoft.com/analysisservices/2016/09/20/introducing-integrated-workspace-mode-for-sql-server-data-tools-for-analysis-services-tabular-projects-ssdt-tabular/).

### <a name="fixed--improved-this-month"></a>Исправления и улучшения этого месяца

**Средства работы с базами данных**

* [Ошибка подключения 3055711.](https://connect.microsoft.com/SQLServer/feedback/details/3055711/columns-can't-be-selected-from-cross-apply-openjson-with-explicit-schema) Не удалось выбрать столбцы из CROSS APPLY OPENJSON с явной схемой.
* Устранена проблема с индексами таблиц автоматически созданного журнала, из-за которой платформа DACFx удаляла индекс во время повторного развертывания.
* Средство синтаксического анализа пакетов DacFx не обрабатывает экранированные знаки скобок "]", что приводит к сбою публикации (исправлено).
* Теперь в выходных данных справки SqlPackage есть описания каждого действия (улучшение).
* Параметр "Запомнить пароль" в диалоговом окне подключения не сохранялся при изменении дополнительных параметров и строки подключения, сохраненной в публикации, сравнении схем и в других файлах (исправлено).
* Для подключений с параметром IntegratedAuthentication=true на вкладке "Журнал" в свойствах подключения поле "Проверка подлинности" было пустым (исправлено). Теперь в этом поле отображается значение "Проверка подлинности Windows".
* Изменения параметров Intellisense средств SQL Server в разделе "Средства -> Настройки -> Текстовый редактор" не сохранялись (исправлено).
* Кнопка "Закрепить" и "Открепить" в диалоговом окне подключения на вкладке "Журнал" уменьшена, чтобы сократить вероятность появления полосы прокрутки (улучшение).
* Устранены некоторые проблемы доступа в диалоговом окне подключения.

**Analysis Services и Reporting Services**

* Устранена проблема в конструкторе таблиц SSDT AS, при которой в некоторых случаях щелчок бегунка полосы прокрутки в сетке данных вызывал сбой.
* Устранена проблема, при которой невозможно олицетворить подключение в качестве текущего пользователя в конструкторе таблиц SSDT AS.
* Устранена проблема в конструкторе таблиц SSDT AS, из-за которой во время чрезмерного расширения строки формул невозможно было повторно открыть проект.
* Исправлен сбой в конструкторе таблиц SSDT AS, который происходил при нажатии кнопки в выбранной вкладке таблицы.
* Устранена проблема в проектах SSDT AS, при которой во время выбора функции "Анализ в Excel" не происходило подключение к старой версии сервера AS.

**Служба интеграции**

* Исправлена ошибка подключения  [1608896](https://connect.microsoft.com/SQLServer/feedback/details/1608896/move-multiple-integration-service-package-tasks): перемещение нескольких задач пакета службы интеграции.

## <a name="164-ssdt-for-vs-2015"></a>16.4, SSDT для Visual Studio 2015

_Выпущено_: &nbsp;20 сентября 2016 г.  
_Номер сборки_: &nbsp;14.0.60918  
_Для SQL Server 2016_.

**Новые возможности**

Теперь сравнение схем поддерживается в SqlPackage.exe и API платформы приложений уровня данных (DacFx). Дополнительные сведения см. в статье  [Schema Compare in SqlPackage and the Data-Tier Application Framework](https://blogs.msdn.microsoft.com/ssdt/2016/09/20/schema-compare-in-sqlpackage-and-the-data-tier-application-framework-dacfx/) (Сравнение схем SqlPackage и платформы приложений уровня данных).

**Analysis Services. Режим интегрированной рабочей области для табличного экземпляра SSDT (SSAS)**

Теперь табличный экземпляр SSDT включает внутренний экземпляр SSAS, который табличный экземпляр SSDT запускает в фоновом режиме автоматически, если включен режим интегрированной рабочей области. В этом режиме вы сможете добавлять и просматривать таблицы, столбцы и данные в конструкторе моделей без необходимости предоставления внешнего экземпляра сервера рабочей области. Режим интегрированной рабочей области не меняет способ работы табличного экземпляра SSDT с сервером и базой данных рабочей области. Изменяется расположение базы данных рабочей области в табличном экземпляре SSDT. Чтобы включить режим интегрированной рабочей области, выберите соответствующий параметр в диалоговом окне конструктора табличных моделей, отображаемый при создании табличного проекта. Для табличных проектов, которые сейчас используют явный сервер рабочей области, можно переключиться в режим интегрированной рабочей области, задав для соответствующего параметра значение True в окне "Свойства", которое отображается при выборе файла Model.bim в обозревателе решений. Дополнительные сведения см. в [записи блога о службах Analysis Services](https://blogs.msdn.microsoft.com/analysisservices/2016/09/20/introducing-integrated-workspace-mode-for-sql-server-data-tools-for-analysis-services-tabular-projects-ssdt-tabular/).

**Обновления и исправления**
**средств работы с базами данных**

- [Проблема подключения 3087775](https://connect.microsoft.com/SQLServer/feedback/details/3087775): неисправные темпоральные таблицы в VS Data Tools с июньским обновлением 14.0.60629.0 (ошибка "Значение не может быть равным NULL. Имя параметра: reportedElement").
- [Проблема подключения 1026648](https://connect.microsoft.com/SQLServer/feedback/details/1026648): параметр IsPersistedNullable отображается по-другому в сравнении SSDT.
- [Проблема подключения 2054735](https://connect.microsoft.com/SQLServer/feedback/details/2054735): при импорте BACPAC удостоверение сбрасывается.
- [Проблема подключения 2900167](https://connect.microsoft.com/SQLServer/feedback/details/2900167): при выполнении модульных тестов в SSDT не учитываются временные файлы.
- [Проблема подключения 1807712](https://connect.microsoft.com/SQLServer/feedback/details/1807712): сбой обратной совместимости AppLocal и Nugetization.

**Analysis Services и Reporting Services**

* Устранена проблема в SSDT, при которой всплывающие подсказки ошибки мешали во время редактирования DAX для вычисляемых столбцов DirectQuery.
* Устранена проблема в табличной сетке SSDT AS, при которой в сетке мер не отображался значок ключевого показателя эффективности, если для коэффициента масштабирования Windows указано высокое значение разрешения (больше 200 %).
* Устранена проблема в SSDT AS, при которой во время вставки табличных данных большого объема табличный проект мог перестать отвечать.
* Устранена проблема в редакторе табличных моделей SSDT AS, связанная с появлением метки о том, что в модели нужно сохранить изменения при изменении понятного имени подключения.
* Устранена проблема в табличных проектах SSDT AS, при которой невозможно было изменить ширину столбцов в диалоговом окне управления связями.
* Устранена проблема в моделях уровня 1200 табличного экземпляра SSDT, при которой во время вставки данных из Excel, для которых в качестве языкового параметра задан немецкий язык, запятая не распознавалась в качестве десятичного разделителя.
* Устранена проблема в проектах SSDT AS, из-за которой некоторые наборы значков ключевого показателя эффективности могли возвращать ошибку "Не удалось получить данные для этого визуального элемента".
* Устранена проблема с диалоговым окном свойств проекта SSDT AS. Теперь закрепление выполняется правильно при изменении размера во время масштабирования с высоким значением разрешения.
* Устранена проблема в проектах SSDT AS, которая могла вызвать ошибку при обновлении определенных моделей с вставленными таблицами.
* Устранена проблема в SSDT AS, из-за которой вставка полного листа со строками Excel происходила медленно и при этом создавалось много ненужных столбцов.
* Устранена проблема в SSDT AS, из-за которой процессы анализа и выделения больших статических выражений DataTable происходили медленно или переставали отвечать на запросы.
* Устранена проблема в SSDT AS с добавлением значений мер и ключевых показателей эффективности в текущую перспективу в редакторе.
* Устранена проблема в SSDT, при которой импорт данных в проект AS из SQL Azure поддерживал только тип схем DBO.

## <a name="163nbsp-ssdt-for-vs-2015"></a>16.3,&nbsp;SSDT для Visual Studio 2015

_Выпущено_: &nbsp;15 августа 2016 г.  
_Номер сборки_: &nbsp;14.0.60812.0  
_Для SQL Server 2016_.

**Новые возможности**

- **Управление версиями и нумерация выпусков**. Теперь версии помечаются числовым значением, а не по месяцам. Это соответствует новой политике SSMS и упрощает ситуации, в которых выходит несколько выпусков или исправлений в месяц. Текущий выпуск имеет версию 16.3. Это третье обновление после выпуска RTM. Версии последующих исправлений будут нумероваться 16.3.1 и так далее, а версия следующего обновления (запланированного на следующий месяц) будет иметь номер 16.4.
- **Службы Analysis Services. Обозреватель табличных моделей**. Обозреватель табличных моделей упрощает просмотр различных объектов метаданных в модели, например источников данных, таблиц, мер и связей. Он реализован как отдельное окно средств, которое можно отобразить, открыв меню "Вид" в Visual Studio, выбрав "Другие окна" и щелкнув "Обозреватель табличных моделей". Обозреватель табличных моделей по умолчанию отображается в области обозревателя решений на отдельной вкладке. Обозреватель табличных моделей упорядочивает объекты метаданных в древовидную структуру, которая сильно напоминает схему табличной модели 1200, а также обладает множеством новых возможностей.
- **Средства работы с базами данных. Постоянное шифрование**.  В этом выпуске представлены новые диалоговые окна [управления ключом Always Encrypted](../relational-databases/security/encryption/overview-of-key-management-for-always-encrypted.md), упрощающие добавление главных ключей или ключей шифрования столбцов в проект базы данных либо добавление динамичной базы данных в обозревателе объектов SQL Server. Этот выпуск поддерживает сертификаты в хранилище сертификатов Windows. В будущих выпусках планируется реализовать поддержку Azure Key Vault и поставщиков CNG.
    - При создании главного ключа или ключа шифрования столбцов изменения могут не отражаться в обозревателе объектов SQL Server сразу же после выбора команды "Обновить базу данных". Чтобы обойти эту проблему, обновите узел базы данных в обозревателе объектов SQL Server.
    - При попытке зашифровать столбец в таблице с данными из обозревателя объектов SQL Server может возникнуть сбой. Сейчас эта функция поддерживается только в проектах базы данных SSDT и SSMS. В будущем выпуске будет включена поддержка обозревателя объектов SQL Server.

**Обновления и исправления**
* **Средства работы с базами данных**
    - **SSDT:**
        - Ошибка подключения 1898001. [Устранена проблема с ограничением до 128 знаков в описании столбца](https://connect.microsoft.com/SQLServer/feedback/details/1898001/column-description-limited-to-128-characters).
        - Устранена проблема, при которой во время публикации базы данных из VS не применялось свойство DatabaseServiceObjective в XML профиля публикации.
        - Ошибка подключения 2900167. [Устранена проблема с неправильным сохранением временных файлов при модульном тестировании](https://connect.microsoft.com/SQLServer/feedback/details/2900167/running-ssdt-unit-tests-leaves-temp-files-behind).
        - Устранена проблема, при которой поле со списком "Срок хранения" в параметрах базы данных усекалось.
        - Устранена проблема, при которой во время изменения пароля не проверялся пустой старый пароль в свойствах проекта SQL CLR.
    - **DACFx:**
        - Устранена проблема, при которой не обновлялся уровень совместимости DACFx в случае ошибки SqlAzureV12.
        - Устранена проблема, при которой свойство IsAutoGeneratedHistoryTable исключалось из сравнения модели.

- **Analysis Services и Reporting Services**
    - **SSDT:**
        - Устранена проблема, при которой невозможно сохранить табличную модель при потере подключения к серверу.
        - Устранена проблема, при которой SSDT перестает отвечать из-за возможной проблемы с бесконечным циклом в AS.
        - Устранена проблема с выражением DAX, вызвавшая несогласованное поведение в зависимости от способа фиксации выражения.
        - Устранена проблема сбоя в VS при создании ключевых показателей эффективности.
        - Устранена проблема, при которой создавались недопустимые отчеты для SQL Server 2008 R2, 2012 и 2014.
        - Устранена проблема упорядочивания иерархии, вызывавшая ошибку бесконечного цикла для проектов в формате DWPRO.
        - Устранена проблема языка определения отчетов сервера отчетов, из-за которой для понижения версии языка определения отчетов требовалась полная перестройка, что вызывало путаницу.
        - Устранена проблема ключевого показателя эффективности, при которой функция "Скрыть из набора клиентских средств" не действовала.

## <a name="july-2016nbsp-ssdt-for-vs-2015"></a>Июль 2016,&nbsp;SSDT для Visual Studio 2015

_Выпущено_: &nbsp;30 июня 2016 г.  
_Номер сборки_: &nbsp;14.0.60629.0  
_Для SQL Server 2016_.

**Новые возможности**  
- **Поддержка постоянного шифрования**. Для баз данных со столбцами в режиме Always Encrypted в этом выпуске реализована полная поддержка функции Always Encrypted в основных API и программе командной строки (SqlPackage.exe). Вы можете создавать и публиковать проекты базы данных, полностью поддерживающие все функции постоянного шифрования.  
- **Улучшенная поддержка темпоральных таблиц**. Упрощена работа с темпоральными таблицами. Теперь ссылка на них удаляется до внесения изменений и повторно добавляется после внесения изменений. Это означает, что с точки зрения поддерживаемых операций временные таблицы имеют четность с другими типами таблиц (стандартные, в памяти). 
- **Изменения установки и SqlPackage.exe**. Внесены изменения для изоляции SSDT от ядра SQL Server и обновлений SSMS. Дополнительные сведения см. в статье [Changes to SSDT and SqlPackage.exe installation and updates](https://blogs.msdn.microsoft.com/ssdt/2016/06/30/changes-to-ssdt-and-sqlpackage-exe-installation-and-updates/) (Изменения и обновления установки SSDT и SqlPackage.exe).


**Обновления и исправления**
* **Средства работы с базами данных**
    * Теперь SSDT никогда не отключит прозрачное шифрование данных (TDE) в базе данных. Так как ранее параметр шифрования по умолчанию в параметрах проекта базы данных был отключен, шифрование отключалось. Благодаря этому исправлению шифрование можно включить и невозможно отключить во время публикации. 
    * Увеличено число повторных попыток и устойчивость при начальном подключении к базе данных SQL Azure.
    * Если в качестве типа файловой группы по умолчанию не задано значение "Первичная", произойдет сбой импорта и публикации в Azure версии 12. Теперь этот параметр игнорируется при публикации.
    * Устранена проблема, при которой во время экспорта базы данных с объектом, для которого включен заключенный в кавычки идентификатор, в некоторых случаях происходил сбой проверки экспорта.
    * Устранена проблема, при которой параметр TEXTIMAGE_ON добавлялся для создания таблицы, если это было запрещено.
    * Устранена проблема, при которой экспорт больших объемов данных занимал много времени из-за записи в файл model.xml после завершения этапа данных, что в свою очередь вызвало перезапись содержимого BACPAC-файла.
    * Устранена проблема, при которой пользователи не отображались в папке "Безопасность" для подключений к хранилищу данных SQL Azure и APS.

* **Analysis Services и Reporting Services:**
    * Устранена проблема SxS с поставщиком OLEDB MSOLAP, при которой устанавливалась только 32-разрядная версия поставщика, что влияло на подключение 64-разрядной версии Excel 2016 к SQL Server 2014 (не воспроизводится при установке с применением ClickOnce из Office 365, только при установке с помощью MSI Excel).
    * Устранена проблема с надежностью в тупиковой ситуации при обновлении модели Analysis Services со вставленными таблицами с уровнями совместимости 1103–1200, что могло приводить к ошибке "Связь использует недопустимый идентификатор столбца".
    * Устранена проблема SxS, при которой не удавалось импортировать данные модели AS после удаления SSDT 2015, если на том же компьютере была установлена версия SSDT-BI 2013 (картриджи совместно использовали параметры реестра).
    * Повышена надежность во время устранения проблем и сбоев при потере подключения к подсистеме AS (т. е. если SSDT оставить открытым на ночь, сервер перезапускался, а также другие случаи временной потери подключения). 
    * Устранены проблемы с открытием диалоговых окон не на тех экранах, на которых открыта служба VS при использовании нескольких мониторов. 
    * Реализована поддержка вставки из таблиц HTML (данные сетки) во вставленные таблицы модели AS. 
    * Устранена проблема, при которой происходит сбой обновления пустой вставленной таблицы до уровня совместимости 1200 (используется только как таблица контейнера для мер). 
    * Устранена проблема с обновлением табличной модели AS со вставленными таблицами до уровня совместимости 1200 для временного решения проблемы подсистемы AS с CalcTables (которые используются для вставленных таблиц на уровне 1200), чтобы выполнить полную обработку новых вычисляемых таблиц после обновления. 
    * Устранена проблема, при которой мог происходить сбой отмены создания вычисляемой таблицы модели 1200 AS с неполным выражением DAX. 
    * Устранена проблема импорта модели 1200 с сервера AS в проект SSDT AS с совпадающими именами базы данных и таблицы. 
    * Устранена проблема с изменением меры ключевого показателя эффективности в табличной модели 1103. 
    * Устранена проблема, связанная с тем, что ссылка на объект не указывает на исключение при вставке меры ключевого показателя эффективности в сетке для модели 1200 AS. 
    * Устранена проблема, при которой невозможно было удалить столбец из представления схемы в вычисляемой таблице в моделях 1200. 
    * Устранена проблема, связанная с тем, что ссылка на объект не указывает на исключение при просмотре свойств файла проекта model.bim в представлении кода. 
    * Устранена проблема со вставкой данных в сетку модели AS для создания вставленной таблицы, при которой возвращаются неправильные значения для языков, использующих запятую в качестве десятичного разделителя. 
    * Устранена проблема при открытии проекта RS в версии 2008 в SSDT без обновления. 
    * Устранена проблема в пользовательском интерфейсе вычисляемой таблицы моделей уровня совместимости 1200 при использовании стандартного форматирования для типа столбца, чтобы позволить изменять тип форматирования в пользовательском интерфейсе.

## <a name="june-2016nbsp-ssdt-for-vs-2015"></a>Июнь 2016,&nbsp;SSDT для Visual Studio 2015

_Выпущено_: &nbsp;1 июня 2016 г.  
_Номер сборки_: &nbsp;14.0.60525.0  
_Для SQL Server 2016_.

Выпущена общедоступная версия SSDT. В обновлении общедоступной версии SSDT за июнь 2016 г. добавлена поддержка последних обновлений SQL Server 2016 RTM, а также исправлены различные ошибки. Дополнительные сведения см. в статье [SQL Server Data Tools GA update for June 2016](https://blogs.msdn.microsoft.com/ssdt/2016/06/01/sql-server-data-tools-ga-update-for-june-2016/) (Обновление общедоступной версии SQL Server Data Tools за июнь 2016 г.).

## <a name="additional-resources"></a>Дополнительные ресурсы

- [Скачать SQL Server Data Tools &#40;SSDT&#41;](../ssdt/download-sql-server-data-tools-ssdt.md)
- [Previous releases of SQL Server Data Tools (SSDT and SSDT-BI)](../ssdt/previous-releases-of-sql-server-data-tools-ssdt-and-ssdt-bi.md) (Предыдущие выпуски SQL Server Data Tools (SSDT и SSDT-BI))
- [Новые возможности в SQL Server 2016 (ядро СУБД)](https://msdn.microsoft.com/library/bb510411.aspx)
- [Новые возможности в службах Analysis Services](https://docs.microsoft.com/analysis-services/what-s-new-in-analysis-services)
- [Новые возможности служб Integration Services в SQL Server 2016](../integration-services/what-s-new-in-integration-services-in-sql-server-2016.md)
