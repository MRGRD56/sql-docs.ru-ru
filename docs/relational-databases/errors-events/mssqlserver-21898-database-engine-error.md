---
description: MSSQLSERVER_21898
title: MSSQLSERVER_21898 | Документация Майкрософт
ms.custom: ''
ms.date: 04/04/2017
ms.prod: sql
ms.reviewer: ''
ms.technology: supportability
ms.topic: reference
helpviewer_keywords:
- 21898 (Database Engine error)
ms.assetid: 02405b21-3d4e-4c2d-b4b3-d7b1ec05edb4
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: a899e50f0cfe5fb4d3e2c7b7aa63ebfa76afa6b8
ms.sourcegitcommit: 33f0f190f962059826e002be165a2bef4f9e350c
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/30/2021
ms.locfileid: "99208513"
---
# <a name="mssqlserver_21898"></a>MSSQLSERVER_21898
 [!INCLUDE [SQL Server](../../includes/applies-to-version/sqlserver.md)]
  
## <a name="details"></a>Сведения  
  
| attribute | Значение |  
| :-------- | :---- |  
|Название продукта|SQL Server|  
|Идентификатор события|21898|  
|Источник события|MSSQLSERVER|  
|Компонент|SQLEngine|  
|Символическое имя|SQLErrorNum21898|  
|Текст сообщения|Издатель «%s» использует базу данных распространителя «%s», а не «%s», которая необходима для размещения базы данных публикации «%s». Запустите процедуру **sp_changedistpublisher** на распространителе '%s', чтобы изменить используемую издателем базу данных распространителя на '%s'.|  
  
## <a name="explanation"></a>Объяснение  
**sp_validate_redirected_publisher** выполняет запросы к msdb.dbo.MSdistpublishers на локальном распространителе, чтобы убедиться, что новый издатель использует ту же базу данных распространителя, что и прежний издатель. Эта ошибка возвращается, если эти базы данных различаются, в результате издатель становится непригодным для размещения базы данных издателя.  
  
## <a name="user-action"></a>Действие пользователя  
Выполните хранимую процедуру **sp_changedistpublisher**, чтобы изменить базу данных распространителя для нового издателя на базу данных, которая использовалась первоначальным издателем.  
  
> [!NOTE]  
> Запуск **sp_changedistpublisher** устранит проблему, если во время запуска **sp_adddistpublisher** на распространителе для издателя была введена неверная база данных распространителя. Однако если на удаленном издателе имеются существующие публикации из другой базы данных публикации, использующие указанную базу данных распространителя, то выполнять такое изменение не следует. Необходимо системно удалить репликацию, использующую именованную базу данных распространителя, а затем установить ее повторно с использованием базы данных распространителя первоначального издателя, чтобы стало возможным размещение на новом издателе.  
  
