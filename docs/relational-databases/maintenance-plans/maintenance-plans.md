---
title: Планы обслуживания | Документация Майкрософт
description: Узнайте больше о планах обслуживания, которые позволяют создать рабочий процесс, обеспечивающий оптимизацию базы данных SQL Server, ее регулярное резервное копирование и отсутствие несогласованностей.
ms.custom: ''
ms.date: 08/01/2016
ms.prod: sql
ms.prod_service: database-engine
ms.reviewer: ''
ms.technology: supportability
ms.topic: conceptual
f1_keywords:
- sql13.AG.MAINTPLAN.LEGACY.F1
helpviewer_keywords:
- maintenance plans [SQL Server], about database maintenance plans
- maintenance plans [SQL Server], database compatibility level displayed in designer
- maintenance plans [SQL Server]
ms.assetid: 5982ca65-74fe-44e3-aef9-00a65a0db169
author: MikeRayMSFT
ms.author: mikeray
ms.openlocfilehash: 6eb1586c38283d695e96d4640d37c261314a339f
ms.sourcegitcommit: 04d101fa6a85618b8bc56c68b9c006b12147dbb5
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/29/2021
ms.locfileid: "99048929"
---
# <a name="maintenance-plans"></a>Планы обслуживания
 [!INCLUDE [SQL Server](../../includes/applies-to-version/sqlserver.md)]
  Планы обслуживания используются для создания рабочего процесса из задач, необходимых для гарантии оптимальной производительности базы данных, ее регулярного резервного копирования и отсутствия в ней несогласованностей. Для создания основных планов обслуживания также можно использовать мастер планов обслуживания, однако создание планов вручную более эффективно.  
  
## <a name="benefits-of-maintenance-plans"></a>Преимущества планов обслуживания  
 В компоненте [!INCLUDE[ssDECurrent](../../includes/ssdecurrent-md.md)]планы обслуживания создают пакет служб [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] , выполняемый заданием агента [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] . Планы обслуживания можно запускать вручную или автоматически через заданные интервалы.  
  
 Планы обслуживания [!INCLUDE[ssnoversion](../../includes/ssnoversion-md.md)] обеспечивают следующие функциональные возможности.  
  
-   Создание рабочего процесса различных типовых задач обслуживания. Можно создавать и пользовательские скрипты [!INCLUDE[tsql](../../includes/tsql-md.md)] .  
  
-   Концептуальные иерархии. Каждый план позволяет создавать и редактировать рабочий процесс. Задачи в каждом плане можно сгруппировать во вложенные планы, которым можно назначить запуск на разные моменты времени.  
  
-   Поддержка многосерверных планов может использоваться в среде главного или целевого сервера.  
  
-   Поддержка ведения журналов планов на удаленных серверах.  
  
-   Поддержка проверки подлинности Windows и проверки подлинности [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. [!INCLUDE[ssNoteWinAuthentication](../../includes/ssnotewinauthentication-md.md)]  
  
## <a name="maintenance-plan-functionality"></a>Функциональные возможности плана обслуживания  
 Планы обслуживания можно создавать для выполнения следующих задач.  
  
-   Реорганизация данных на страницах данных и индексов путем перестроения индексов с новым коэффициентом заполнения. Перестроение индексов с новым коэффициентом заполнения обеспечивает одинаковое распределение объема данных и свободного пространства на страницах базы данных. Кроме того, при этом обеспечивается более быстрое увеличение размера в будущем. Дополнительные сведения см. в статье [Указание коэффициента заполнения для индекса](../../relational-databases/indexes/specify-fill-factor-for-an-index.md).  
  
-   Сжатие файлов данных путем удаления пустых страниц базы данных.  
  
-   Обновление статистики индекса, обеспечивающее оптимизатору запросов новейшие сведения о распределении значений данных в таблицах. Это позволяет оптимизатору запросов делать более качественные суждения по поводу выбора наилучшего способа доступа к данным, так как ему предоставляется больше информации о данных, хранящихся в базе данных. Хотя статистика индекса обновляется компонентом [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] автоматически и периодически, этот параметр может привести к немедленному обновлению статистики.  
  
-   Проверка данных и страниц данных внутри базы данных на внутреннюю согласованность, позволяющая определить целостность данных после сбоя системы или программного обеспечения.  
  
-   Создание резервных копий файлов базы данных и журналов транзакций. Резервные копии базы данных и журнала могут храниться в течение заданного времени. Это позволяет создавать историю резервных копий, которые могут быть использованы, если нужно восстановить базу данных на момент, предшествующий моменту создания последней резервной копии базы данных. Также можно создавать разностные резервные копии.  
  
-   Выполнение заданий агента [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] . Может использоваться для создания заданий, которые выполняют разнообразные действия, а также планов обслуживания для выполнения этих заданий.  
  
 Результаты, сформированные задачами обслуживания, могут записываться в виде отчета в текстовый файл или в таблицы плана обслуживания **sysmaintplan_log** и **sysmaintplan_logdetail**, которые находятся в базе **msdb**. Для просмотра результатов в средстве просмотра журнала щелкните правой кнопкой мыши пункт **Планы обслуживания** и выберите пункт **Просмотр журнала**.  
  
## <a name="related-tasks"></a>Связанные задачи  
 Используйте следующие разделы для начала работы с планами обслуживания.  
  
|Описание|Раздел|  
|-|-|  
|Настройте параметр конфигурации сервера **Расширенные хранимые процедуры агента**, чтобы включить расширенные хранимые процедуры агента SQL Server.|[Параметр конфигурации сервера "Agent XP"](../../database-engine/configure-windows/agent-xps-server-configuration-option.md)|
|Описывает создание плана обслуживания с помощью среды [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] или [!INCLUDE[tsql](../../includes/tsql-md.md)].|[Создание плана обслуживания](../../relational-databases/maintenance-plans/create-a-maintenance-plan.md)|  
|Описывает создание плана обслуживания с помощью области конструктора плана обслуживания.|[Создание плана обслуживания (область конструктора планов обслуживания)](../../relational-databases/maintenance-plans/create-a-maintenance-plan-maintenance-plan-design-surface.md)|  
|Содержит сведения о функциональных возможностях планов обслуживания, доступных в обозревателе объектов.|[Узел "Планы обслуживания" (обозреватель объектов)](../../relational-databases/maintenance-plans/maintenance-plans-node-object-explorer.md)|  
  
  
