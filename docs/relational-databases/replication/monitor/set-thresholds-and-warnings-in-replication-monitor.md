---
title: Настройка пороговых значений и предупреждений в мониторе репликации
description: Узнайте, как включить предупреждения для различных условий, которые могут возникнуть при репликации с помощью монитора репликации в SQL Server Management Studio (SSMS).
ms.custom: seo-lt-2019
ms.date: 03/14/2017
ms.prod: sql
ms.prod_service: database-engine
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- alerts [SQL Server replication]
- Merge Agent, thresholds and warnings
- Distribution Agent, thresholds and warnings
- thresholds [SQL Server replication]
- Replication Monitor, thresholds and warnings
- monitoring performance [SQL Server replication], thresholds and warnings
ms.assetid: 3a409c2c-b77e-4001-b81a-1dcd918618ec
author: MashaMSFT
ms.author: mathoma
monikerRange: =azuresqldb-mi-current||>=sql-server-2016
ms.openlocfilehash: 3c738370cc02b3ca36123a5e6232ec04b9a4e882
ms.sourcegitcommit: 1a544cf4dd2720b124c3697d1e62ae7741db757c
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/14/2020
ms.locfileid: "97433090"
---
# <a name="set-thresholds-and-warnings-in-replication-monitor"></a>Настройка пороговых значений и предупреждений в мониторе репликации
[!INCLUDE[sql-asdbmi](../../../includes/applies-to-version/sql-asdbmi.md)]
  [!INCLUDE[msCoName](../../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Монитор репликации отображает сведения о состоянии публикаций и подписок. По умолчанию монитор репликации отображает предупреждения только об неинициализированных подписках, но можно включить другие предупреждения. Рекомендуется включить предупреждения для используемой топологии, чтобы своевременно получать сведения о состоянии и производительности репликации.  
  
 При включении предупреждения требуется задать пороговое значение. Когда это значение достигается или превышается, отображается предупреждение (если отсутствует необходимость в отображении сообщения с более высоким приоритетом). Достижение порогового значения помимо отображения предупреждения в мониторе репликации может также вызывать системное предупреждение. Предупреждения могут быть включены для следующих условий.  
  
-   Приближение срока окончания действия подписки.  
  
     Это относится ко всем типам репликации. Если достигнуто или превышено заданное пороговое значение, то состояние подписки отображается как **Срок действия скоро истекает или истек**.  
  
-   Превышение указанного времени задержки (время между моментом фиксирования транзакции на издателе и моментом фиксирования соответствующей транзакции на подписчике).  
  
     Это условие применяется к репликации транзакций. Если достигнуто или превышено заданное пороговое значение, состояние подписки отображается как **Критическое для производительности**.  
  
-   Превышение заданного времени синхронизации.  
  
     Это условие применяется к репликации слиянием. Когда достигается или превышается указанное значение порога, состояние отображается как **Продолжительное слияние**. Можно задать различные пороговые значения для коммутируемых соединений и соединений по локальной сети.  
  
-   Невозможность обработки заданного числа строк за указанное время.  
  
     Это условие применяется к репликации слиянием. Когда достигается или превышается указанное значение порога, состояние отображается как **Критическое для производительности**. Можно задать различные пороговые значения для коммутируемых соединений и соединений по локальной сети.  
  
 Дополнительные сведения о предупреждениях **Критическое для производительности** и **Продолжительное слияние** см. в статье [Наблюдение за производительностью с помощью монитора репликации](../../../relational-databases/replication/monitor/monitor-performance-with-replication-monitor.md).  
  
 **В этом разделе**  
  
-   [Установка пороговых значений и предупреждений для публикации транзакций](#Transactional)  
  
-   [Установка пороговых значений и предупреждений для публикации слиянием](#Merge)  
  
-   [Установка пороговых значений и предупреждений для публикации моментальных снимков](#Snapshot)  
  
##  <a name="to-set-thresholds-and-warnings-for-a-transactional-publication"></a><a name="Transactional"></a> Установка пороговых значений и предупреждений для публикации транзакций  
  
1.  Раскройте на левой панели группу издателей, раскройте издатель и выберите нужную публикацию.  
  
2.  Перейдите на вкладку **Предупреждения** . Чтобы просмотреть дополнительные сведения о параметрах, доступных на этой вкладке, выберите пункт **Справка** в главном меню.  
  
3.  Включите нужное предупреждение, установив соответствующий флажок: **Предупреждать, если действие подписки истекает до порогового значения** или **Предупреждать, если задержка превышает пороговое значение**.  
  
4.  Установите пороговое значение для предупреждений в столбце **Порог** . Например, если на шаге 3 установлен флажок **Предупреждать, если задержка превышает пороговое значение** , можно выбрать задержку, равную **60 секунд** , в столбце **Порог** .  
  
5.  Щелкните **Сохранить изменения**.  
  
#### <a name="to-configure-an-alert-for-a-threshold"></a>Настройка предупреждений для пороговых значений  
  
1.  Щелкните **Настройка предупреждений**.  
  
2.  В диалоговом окне **Настройка предупреждений репликации** выберите необходимое предупреждение, а затем щелкните **Настроить**.  
  
     Это диалоговое окно отображает предупреждения для всех типов публикаций, включая предупреждения, не связанные с наблюдаемыми пороговыми значениями. Дополнительные сведения см. в статье [Использование предупреждений для событий агента репликации](../../../relational-databases/replication/agents/use-alerts-for-replication-agent-events.md).  
  
3.  Задайте следующие параметры в диалоговом окне **\<AlertName> свойств предупреждения**.  
  
    -   На странице **Общие** щелкните **Включить**, укажите базу данных, к которой нужно применить данное предупреждение.  
  
    -   На странице **Ответ** укажите, надо ли отправить оповещение по электронной почте и/или запустить задание.  
  
    -   На странице **Параметры** измените текст ответа.  
  
4.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
5.  Щелкните **Закрыть**.  
  
##  <a name="set-thresholds-and-warnings-for-a-merge-publication"></a><a name="Merge"></a> Установка пороговых значений и предупреждений для публикации слиянием  
  
1.  Раскройте на левой панели группу издателей, раскройте издатель и выберите нужную публикацию.  
  
2.  Перейдите на вкладку **Предупреждения** . Чтобы просмотреть дополнительные сведения о параметрах, доступных на этой вкладке, выберите пункт **Справка** в главном меню.  
  
3.  Включите нужное предупреждение, установив соответствующий флажок:  
  
    -   **Предупреждать, если действие подписки истекает до порогового значения**  
  
    -   **Предупреждать при превышении порогового значения длины слияния для удаленных соединений.**  
  
    -   **Предупреждать при превышении порогового значения длины слияния для соединений по локальной сети.**  
  
    -   **Предупреждать, если число строк слияния в секунду снижается ниже порогового значения для соединений по локальной сети.**  
  
    -   **Предупреждать, если число строк слияния в секунду снижается ниже порогового значения для удаленных соединений.**  
  
4.  Установите пороговые значения для предупреждений в столбце **Порог** . Например если на шаге 3 установлен флажок **Предупреждать при превышении порогового значения длины слияния для удаленных соединений** , то в столбце **Порог** можно выбрать **10 минут** .  
  
5.  Щелкните **Сохранить изменения**.  
  
#### <a name="to-configure-an-alert-for-a-threshold"></a>Настройка предупреждений для пороговых значений  
  
1.  Щелкните **Настройка предупреждений**.  
  
2.  В диалоговом окне **Настройка предупреждений репликации** выберите необходимое предупреждение, а затем щелкните **Настроить**.  
  
     Это диалоговое окно отображает предупреждения для всех типов публикаций, включая предупреждения, не связанные с наблюдаемыми пороговыми значениями.  
  
3.  Задайте следующие параметры в диалоговом окне **\<AlertName> свойств предупреждения**.  
  
    -   На странице **Общие** щелкните **Включить**, укажите базу данных, к которой нужно применить данное предупреждение.  
  
    -   На странице **Ответ** укажите, надо ли отправить оповещение по электронной почте и/или запустить задание.  
  
    -   На странице **Параметры** измените текст ответа.  
  
4.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
5.  Щелкните **Закрыть**.  
  
##  <a name="set-thresholds-and-warnings-for-a-snapshot-publication"></a><a name="Snapshot"></a> Установка пороговых значений и предупреждений для публикации моментальных снимков  
  
1.  Раскройте на левой панели группу издателей, раскройте издатель и выберите нужную публикацию.  
  
2.  Перейдите на вкладку **Предупреждения** . Для просмотра дополнительных сведений о параметрах, доступных на этой вкладке, щелкните **Справка** в главном меню.  
  
3.  Включите предупреждение, установив флажок **Предупреждать, если действие подписки истекает до порогового значения**.  
  
4.  Установите пороговое значение для предупреждения в столбце **Порог** . Например, можно выбрать значение **70%** в столбце **Порог** .  
  
5.  Щелкните **Сохранить изменения**.  
  
#### <a name="to-configure-an-alert-for-a-threshold"></a>Настройка предупреждений для пороговых значений  
  
1.  Щелкните **Настройка предупреждений**.  
  
2.  В диалоговом окне **Настройка предупреждений репликации** выберите необходимое предупреждение, а затем щелкните **Настроить**.  
  
     Это диалоговое окно отображает предупреждения для всех типов публикаций, включая предупреждения, не связанные с наблюдаемыми пороговыми значениями. Дополнительные сведения см. в статье [Использование предупреждений для событий агента репликации](../../../relational-databases/replication/agents/use-alerts-for-replication-agent-events.md).  
  
3.  Задайте следующие параметры в диалоговом окне **\<AlertName> свойств предупреждения**.  
  
    -   На странице **Общие** щелкните **Включить**, укажите базу данных, к которой нужно применить данное предупреждение.  
  
    -   На странице **Ответ** укажите, надо ли отправить оповещение по электронной почте и/или запустить задание.  
  
    -   На странице **Параметры** измените текст ответа.  
  
4.  [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
5.  Щелкните **Закрыть**.  
  
## <a name="see-also"></a>См. также:  
 [Наблюдение за репликацией](../../../relational-databases/replication/monitor/monitoring-replication.md)  
  
  
