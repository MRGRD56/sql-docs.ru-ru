---
description: Экспорт приложения уровня данных
title: Экспорт приложения уровня данных | Документация Майкрософт
ms.custom: ''
ms.date: 03/14/2017
ms.prod: sql
ms.technology: ''
ms.topic: conceptual
f1_keywords:
- sql13.swb.exportdac.progress.f1
- sql13.swb.exportdac.summary.f1
- sql13.swb.exportdac.results.f1
- sql13.swb. exportdac.results.f1
- sql13.swb. exportdac.summary.f1
- sql13.swb. exportdac.settings.f1
- sql13.swb.exportdac.welcome.f1
- sql13.swb.exportdac.settings.f1
helpviewer_keywords:
- How to [DAC], export
- wizard [DAC], export
- export DAC
- data-tier application [SQL Server], export
ms.assetid: 61915bc5-0f5f-45ac-8cfe-3452bc185558
author: stevestein
ms.author: sstein
monikerRange: =azuresqldb-current||>=sql-server-2016||>=sql-server-linux-2017||=azuresqldb-mi-current
ms.openlocfilehash: 2e4ad904176abdc4f714980cf1e242bd620632a6
ms.sourcegitcommit: 1a544cf4dd2720b124c3697d1e62ae7741db757c
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/14/2020
ms.locfileid: "97440225"
---
# <a name="export-a-data-tier-application"></a>Экспорт приложения уровня данных
[!INCLUDE [SQL Server Azure SQL Database](../../includes/applies-to-version/sql-asdb.md)]
  При экспорте развернутого приложения уровня данных (DAC) или базы данных создается файл экспорта, содержащий определения объектов в базе данных и все данные, содержащиеся в таблицах. Файл экспорта затем можно импортировать в другой экземпляр компонента [!INCLUDE[ssDE](../../includes/ssde-md.md)]или в [!INCLUDE[ssSDSFull](../../includes/sssdsfull-md.md)]. Операции экспорта-импорта могут быть совмещены для переноса приложения уровня данных с одного экземпляра на другой, а также для создания архива или локальной копии базы данных, развернутой в службах [!INCLUDE[ssSDS](../../includes/sssds-md.md)].  
  
## <a name="before-you-begin"></a>Перед началом  
 Процедура экспорта создает файл приложения уровня данных в два этапа.  
  
1.  При экспорте создается определение приложения уровня данных в файле экспорта (BACPAC) аналогично тому, как извлечение приложения уровня данных создает определение приложения уровня данных в файле пакета приложения уровня данных. Экспортируемое определение приложения уровня данных включает все объекты в текущей базе данных. Если процесс экспорта выполняется в базе данных, которая была первоначально развернута из приложения уровня данных, а все изменения были внесены непосредственно в базу данных после развертывания, то экспортируемое определение соответствует заданному в базе данных объекту, а не объекту, определенному в исходном приложении уровня данных.  
  
2.  При экспорте выполняется массовое копирование данных из всех таблиц в базе данных; эти данные включаются в файл экспорта.  

 В процессе экспорта устанавливается версия приложения уровня данных 1.0.0.0, а описание приложения уровня данных в файле экспорта устанавливается в пустую строку. Если база данных была развернута из приложения уровня данных, то определение приложения уровня данных в файле экспорта содержит имя, заданное для исходного приложения уровня данных; в противном случае имя приложения уровня данных устанавливается равным имени базы данных.  
  

###  <a name="limitations-and-restrictions"></a><a name="LimitationsRestrictions"></a> Ограничения  
 Приложение уровня данных или база данных могут экспортироваться только из базы данных в [!INCLUDE[ssSDS](../../includes/sssds-md.md)]или [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] с пакетом обновления 4 (SP4) и выше.  
  
 Если база данных содержит объекты, не поддерживаемые в приложениях уровня данных, или автономных пользователей, то экспортировать такую базу данных будет невозможно. Дополнительные сведения о типах объектов, поддерживаемых в DAC, см. в разделе [DAC Support For SQL Server Objects and Versions](/previous-versions/sql/sql-server-2012/ee210549(v=sql.110)).  
  
###  <a name="permissions"></a><a name="Permissions"></a> Permissions  
 Для экспорта приложения уровня данных необходимы по крайней мере разрешения ALTER ANY LOGIN и VIEW DEFINITION на уровне базы данных, а также разрешение SELECT на представление каталога **sys.sql_expression_dependencies**. Экспорт приложения уровня данных может выполняться членами предопределенной роли сервера securityadmin, которые также входят в предопределенную роль базы данных database_owner для базы данных, из которой экспортируется приложение уровня данных. Экспортировать приложение уровня данных могут также члены предопределенной роли сервера sysadmin или встроенной роли системного администратора SQL Server с названием **sa** .
 
В службе "База данных SQL Azure" **каждой базе данных** необходимо предоставить разрешения VIEW DEFINITION и SELECT во всех или отдельных таблицах.

  
##  <a name="using-the-export-data-tier-application-wizard"></a><a name="UsingDeployDACWizard"></a> Использование мастера экспорта приложения уровня данных  
 **Экспорт приложения уровня данных с помощью мастера**  
  
1.  Подключитесь к экземпляру [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]на предприятии или в службах [!INCLUDE[ssSDS](../../includes/sssds-md.md)].  
  
2.  В **обозревателе объектов** раскройте узел экземпляра, из которого будет производиться экспорт приложения уровня данных.  
  
3.  Щелкните правой кнопкой мыши имя базы данных.  
  
4.  Щелкните **Задачи** и выберите **Экспорт приложения уровня данных...** .  
  
5.  Выполните шаги в диалоговых окнах мастера.  
  
    -   [Вводная страница](#Introduction)  
  
    -   [Страница «Параметры экспорта»](#Export_settings)  
  
    -   [Страница «Проверка»](#Validation)  
  
    -   [Страница «Сводка»](#Summary)  
  
    -   [Страница «Ход выполнения»](#Progress)  
  
    -   [Страница «Результаты»](#Results)  
  
##  <a name="introduction-page"></a><a name="Introduction"></a> Вводная страница  
 На этой странице описаны шаги мастера экспорта приложения уровня данных.  
  
 **Параметры**  
  
 **Больше не показывать эту страницу.** — установите этот флажок, чтобы предотвратить отображение страницы «Введение» в будущем.  
  
 **Далее &gt;** — переход на страницу **Выбор пакета приложения уровня данных** .  
  
 **Отмена** — отмена операции и закрытие мастера.  
  
##  <a name="export-settings-page"></a><a name="Export_settings"></a> Страница «Параметры экспорта»  
 Используйте эту страницу, чтобы указать место, где нужно создать BACPAC-файл.  
  
-   **Сохранить на локальный диск** — создает BACPAC-файл в каталоге на локальном компьютере. Нажмите кнопку **Обзор…** для навигации по локальному компьютеру или укажите путь в соответствующем поле. Имя пути должно включать имя файла и расширение BACPAC.  
  
-   **Сохранить в Azure** — создает BACPAC-файл в контейнере Azure. Чтобы проверить этот параметр, необходимо подключиться к контейнеру Azure. Обратите внимание, что для этого параметра также необходимо указать локальный каталог для временного файла. Примите к сведению, что временный файл будет создан в указанном месте и останется там после завершения операции.  
  
 Чтобы задать подмножество таблиц для экспорта, используйте параметр **Дополнительно** .  
  
##  <a name="validation-page"></a><a name="Validation"></a> Страница «Проверка»  
 Используйте страницу «Проверка» для поиска любых проблем, блокирующих операцию. Для продолжения устраните критические препятствия, приводящие к блокированию, и нажмите кнопку **Повторная проверка** для обеспечения успешного завершения проверки.  
  
 Чтобы продолжить, нажмите кнопку **Далее**.  
  
##  <a name="summary-page"></a><a name="Summary"></a> Страница «Сводка»  
 Воспользуйтесь этой страницей для просмотра указанного источника и целевых параметров операции. Для завершения экспорта с использованием заданных параметров нажмите кнопку **Готово**. Чтобы отменить операцию экспорта и выйти из мастера, нажмите кнопку **Отмена**.  
  
##  <a name="progress-page"></a><a name="Progress"></a> Страница «Ход выполнения»  
 На этой странице отображается индикатор выполнения, который определяет состояние операции. Чтобы просмотреть подробности состояния, выберите параметр **Просмотр сведений** .  
  
##  <a name="results-page"></a><a name="Results"></a> Страница «Результаты»  
 На этой странице отображаются сведения об успешности завершения экспорта по результатам каждого действия. Для каждого действия, в котором обнаружена ошибка, предусмотрена ссылка в столбце **Результат** . Щелкните эту ссылку, чтобы просмотреть отчет об ошибках, относящихся к данному действию.  
  
 Чтобы завершить работу мастера, нажмите кнопку **Готово** .  
  
##  <a name="using-a-net-framework-application"></a><a name="NetApp"></a> Использование приложения .NET Framework  
 **Экспорт приложения уровня данных с использованием метода Export () в приложении .NET Framework.**  
  
 Чтобы просмотреть пример кода, загрузите пример приложения DAC на сайте [Codeplex](https://go.microsoft.com/fwlink/?LinkId=219575)  
  
1.  Создайте объект SMO Server и установите его в экземпляр, содержащий экспортируемое приложение уровня данных.  
  
2.  Откройте объект **ServerConnection** и подключитесь к тому же экземпляру.  
  
3.  Используйте метод **Export** типа **Microsoft.SqlServer.Management.Dac.DacStore** для экспорта приложения уровня данных. Укажите имя экспортируемого приложения уровня данных и путь к папке, в которой будет размещен файл экспорта.  
  
## <a name="see-also"></a>См. также:  
 [Приложения уровня данных](../../relational-databases/data-tier-applications/data-tier-applications.md)   
 [Извлечение приложения уровня данных из базы данных](../../relational-databases/data-tier-applications/extract-a-dac-from-a-database.md)  
  
