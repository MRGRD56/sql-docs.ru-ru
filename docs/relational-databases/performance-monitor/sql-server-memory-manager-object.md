---
title: Объект диспетчера памяти (SQL Server) | Документация Майкрософт
description: Сведения об объекте "Диспетчер памяти", который предоставляет счетчики для контроля общего использования памяти на сервере в SQL Server.
ms.custom: ''
ms.date: 03/14/2017
ms.prod: sql
ms.prod_service: database-engine
ms.reviewer: ''
ms.technology: performance
ms.topic: conceptual
helpviewer_keywords:
- SQLServer:Memory Manager
- Memory Manager object
ms.assetid: dbf49000-eeb0-4e9c-a361-5092363920dc
author: WilliamDAssafMSFT
ms.author: wiassaf
ms.openlocfilehash: 179cd20f1006565ea4ca6924d568b6da80dbb154
ms.sourcegitcommit: 0e0cd9347c029e0c7c9f3fe6d39985a6d3af967d
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/02/2020
ms.locfileid: "96505638"
---
# <a name="sql-server-memory-manager-object"></a>SQL Server, объект Memory Manager
 [!INCLUDE [SQL Server](../../includes/applies-to-version/sqlserver.md)]
  Объект **Диспетчер памяти** в Microsoft [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] обеспечивает счетчики для контроля использования памяти всего сервера. Контроль над использованием памяти всего сервера для оценки действий пользователя и использования ресурсов может помочь идентифицировать нехватку производительности. Контроль над памятью, используемый экземпляром [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , может помочь определить:  
  
-   существуют ли нехватки в недостаточной физической памяти для хранения в кэше часто используемых данных. Если памяти недостаточно, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] должен получить данные с диска;  
  
-   может ли производительность запроса улучшиться, если будет добавлена память или увеличится объем доступной памяти для кэширования данных или внутренних структур [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .  
  
## <a name="memory-manager-counters"></a>Счетчики диспетчера памяти  
 Эта таблица описывает счетчики [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] **Диспетчер памяти**.  
  
|SQL Server, счетчики диспетчера памяти|Описание|  
|----------------------------------------|-----------------|  
|**Память соединения (КБ)**|Указывает общий объем динамической памяти, которую использует сервер для обслуживания соединений.|  
|**Кэш-память базы данных (КБ)**|Указывает объем памяти, который используется в настоящий момент сервером для кэша страниц базы данных.|  
|**Внешнее преимущество памяти**| Внутренняя оценка преимущества производительности из-за добавления памяти в конкретный кэш. Он применяется в подсистеме для балансировки использования памяти между кэшем и полезен при устранении неполадок в случаях непредвиденного увеличения размера кэша. Значение имеет вид целого числа, основанного на внутреннем вычислении. | 
|**Свободная память (КБ)**|Указывает объем общей зафиксированной памяти, не используемой в настоящий момент сервером.|  
|**Выделенная память для рабочей области (КБ)**|Указывает общий объем памяти, предоставленный в настоящее время для выполнения процессов, таких как хэширование, сортировка, массовое копирование и создание индекса.|  
|**Блоки блокировки**|Указывает текущее количество блоков блокировки, использующихся на сервере (периодически обновляется). Блок блокировки представляет конкретный ресурс блокировки, например таблицу, страницу или строку.|  
|**Выделенные блоки блокировки**|Указывает текущее количество выделенных блоков блокировки. При запуске сервера количество выделенных блоков блокировки и количество выделенных блоков владельца блокировки зависит от параметра конфигурации [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] **Locks**. Если необходимо большее количество блоков блокировки, значение увеличивается.|  
|**Память блокировки (КБ)**|Указывает общий объем динамической памяти, которую сервер использует для блокировок.|  
|**Блоки владельца блокировки**|Указывает количество блоков владельца блокировки, использующихся в настоящее время на сервере (периодически обновляется). Блокировки владельцев блоков представляют владение блокировки объекта отдельным потоком. Таким образом, если все три потока имеют общую (S) блокировку страницы, будет три блока владельца блокировки.|  
|**Выделенные блоки владельца блокировки**|Указывает текущее количество выделенных блоков владельца блокировки. При запуске сервера количество выделенных блоков владельцев блокировки и количество выделенных блоков блокировки зависит от параметра конфигурации [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] **Locks**. Если необходимо большее количество блоков владельца блокировки, значение увеличивается.|  
|**Память пула журнала (КБ)**|Общий объем динамической памяти, используемой сервером для пула журналов.| 
|**Максимальный размер памяти рабочей области (КБ)**|Указывает максимальный объем памяти, доступный для выполнения процессов, таких как хэширование, сортировка, массовое копирование и создание индекса.|  
|**Необработанных запросов на предоставление памяти**|Указывает общее число процессов, успешно получивших память рабочей области.|  
|**Ожидающих запросов на предоставление памяти**|Указывает общее число процессов, ожидающих предоставления памяти рабочей памяти.|  
|**Память оптимизатора (КБ)**|Указывает общий объем динамической памяти, которую использует сервер для оптимизации запросов.|  
|**Зарезервированная память сервера (КБ)**|Указывает общий объем памяти, зарезервированный для будущих нужд. Этот счетчик показывает неиспользуемую в данный момент долю изначально выделенного объема памяти, указанного в графе **Выделенная память для рабочей области (КБ)** .|  
|**Кэш-память SQL (КБ)**|Указывает общий объем динамической памяти, которую использует сервер для динамического кэша SQL.|  
|**Заимствованная память сервера (КБ)**|Указывает объем памяти, который используется в настоящий момент сервером не для страниц базы данных, а для других целей.|  
|**Память целевого сервера (КБ)**|Указывает идеальный объем памяти, необходимый серверу.|  
|**Общая память сервера (КБ)**|Указывает объем памяти, выделенный серверу диспетчером памяти.|  
  
## <a name="see-also"></a>См. также:  
 [Наблюдение за использованием ресурсов (системный монитор)](../../relational-databases/performance-monitor/monitor-resource-usage-system-monitor.md)   
 [SQL Server, объект Buffer Manager](../../relational-databases/performance-monitor/sql-server-buffer-manager-object.md)   
[sys.dm_os_performance_counters (Transact-SQL)](../../relational-databases/system-dynamic-management-views/sys-dm-os-performance-counters-transact-sql.md)  
  
