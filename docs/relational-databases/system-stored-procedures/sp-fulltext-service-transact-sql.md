---
description: sp_fulltext_service (Transact-SQL)
title: sp_fulltext_service (Transact-SQL) | Документация Майкрософт
ms.custom: ''
ms.date: 03/14/2017
ms.prod: sql
ms.prod_service: database-engine
ms.reviewer: ''
ms.technology: system-objects
ms.topic: reference
f1_keywords:
- sp_fulltext_service
- sp_fulltext_service_TSQL
dev_langs:
- TSQL
helpviewer_keywords:
- full-text search [SQL Server], properties
- sp_fulltext_service
- Full-Text Search Upgrade Option
ms.assetid: 17a91433-f9b6-4a40-88c4-8c704ec2de9f
author: markingmyname
ms.author: maghan
ms.openlocfilehash: 6fbbbe3451994687542f755b4d48953c7dbbe2e9
ms.sourcegitcommit: 33f0f190f962059826e002be165a2bef4f9e350c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/30/2021
ms.locfileid: "99187323"
---
# <a name="sp_fulltext_service-transact-sql"></a>sp_fulltext_service (Transact-SQL)
[!INCLUDE [SQL Server](../../includes/applies-to-version/sqlserver.md)]

  Изменяет свойства полнотекстового поиска сервера для [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].  
  
 ![Значок ссылки на раздел](../../database-engine/configure-windows/media/topic-link.gif "Значок ссылки на раздел") [Синтаксические обозначения в Transact-SQL](../../t-sql/language-elements/transact-sql-syntax-conventions-transact-sql.md)  
  
## <a name="syntax"></a>Синтаксис  
  
```  
  
sp_fulltext_service [ [@action=] 'action'   
     [ , [ @value= ] value ] ]  
```  
  
## <a name="arguments"></a>Аргументы  
`[ @action = ] 'action'` Свойство, которое необходимо изменить или сбросить. *Action* имеет тип **nvarchar (100) и** не имеет значения по умолчанию. Список свойств в *c*, их описания и значения, которые могут быть заданы, см. в таблице под аргументом *value* . Данный аргумент возвращает следующие свойства: тип данных, текущее значение выполнения, минимальное или максимальное значение, а также состояние устаревания, если оно применимо.  
  
`[ @value = ] value` Значение указанного свойства. *значение* **sql_variant** и значение по умолчанию NULL. Если @value параметр имеет значение null, **sp_fulltext_service** возвращает текущее значение. В этой таблице перечислены свойства действий, их описания, а также возможные значения.  
  
> [!NOTE]  
>  Следующие действия будут удалены в следующем выпуске [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] : **clean_up**, **connect_timeout**, **data_timeout** и **resource_usage**. Следует избегать использования этих действий в новой разработке и запланировать изменение приложений, использующих их в настоящий момент.  
  
|Действие|Тип данных|Описание|  
|------------|---------------|-----------------|  
|**clean_up**|**int**|Поддерживается только для обеспечения обратной совместимости. Значение всегда равно 0.|  
|**connect_timeout**|**int**|Поддерживается только для обеспечения обратной совместимости. Значение всегда равно 0.|  
|**data_timeout**|**int**|Поддерживается только для обеспечения обратной совместимости. Значение всегда равно 0.|  
|**load_os_resources**|**int**|Указывает, зарегистрированы ли средства разбиения по словам, парадигматические модули и фильтры операционной системы и используются ли они с этим экземпляром [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Одно из двух значений:<br /><br /> 0 = использовать только фильтры и средства разбиения по словам, характерные для этого экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].<br /><br /> 1 = загрузить фильтры и средства разбиения по словам из операционной системы.<br /><br /> По умолчанию это свойство отключено во избежание непреднамеренных изменений, которые могут быть внесены в операционную систему при обновлении. Включение использования ресурсов операционной системы предоставляет доступ к ресурсам для языков и типов документов, зарегистрированных в [!INCLUDE[msCoName](../../includes/msconame-md.md)] службе индексирования, для которых не установлен ресурс конкретного экземпляра. При включении загрузки ресурсов операционной системы убедитесь, что ресурсы операционной системы являются доверенными подписанными двоичными файлами. в противном случае они не могут быть загружены, если **verify_signature** (см. ниже) имеет значение 1.|  
|**master_merge_dop**|**int**|Указывает количество потоков, которые будут использоваться в процессе слияния в единый документ. Это значение не должно превышать количество доступных процессоров или ядер ЦП.<br /><br /> Если данный аргумент не был указан, то служба будет использовать либо меньше четырех процессоров или ядер ЦП, либо только доступные процессоры или ядра ЦП.|  
|**pause_indexing**|**int**|Указывает необходимость приостановки полнотекстового индексирования, если оно запущено, или возобновления, если оно приостановлено.<br /><br /> 0 = продолжить полнотекстовое индексирование для экземпляра сервера.<br /><br /> 1 = приостановить полнотекстовое индексирование для экземпляра сервера.|  
|**resource_usage**|**int**|Не имеет функции в [!INCLUDE[ssKatmai](../../includes/sskatmai-md.md)] и более поздних версиях, поэтому не обрабатывается.|  
|**update_languages**|NULL|Обновляет список языков и фильтров, зарегистрированных для полнотекстового поиска. Языки указываются при настройке индексирования и полнотекстовых запросов. Фильтры используются узлом управляющей программы фильтрации для извлечения текстовых данных из соответствующих форматов файлов, **таких как DOCX,** **varbinary (max)**, **Image** или **XML**, для полнотекстового индексирования.<br /><br /> Дополнительные сведения см. в статье [Просмотр или изменение зарегистрированных фильтры и разделители слов](../../relational-databases/search/view-or-change-registered-filters-and-word-breakers.md).|  
|**upgrade_option**|**int**|Управляет переносом полнотекстовых индексов при обновлении базы данных с версии [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] до более поздней. Это свойство применяется к обновлению, выполняемому путем присоединения базы данных, восстановления базы данных из резервной копии или восстановления файла из резервной копии, а также в случае, если база данных копируется мастером копирования баз данных.<br /><br /> Одно из двух значений:<br /><br /> 0 = при перестроении полнотекстовых каталогов используются новые и улучшенные средства разбиения по словам. Перестроение индексов может занять длительное время, а после обновления может потребоваться значительный объем ресурсов ЦП и памяти.<br /><br /> 1 = полнотекстовые каталоги сбрасываются. [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] Полнотекстовые файлы каталога удалены, но метаданные для полнотекстовых каталогов и полнотекстовых индексов сохранены. После обновления для всех полнотекстовых индексов отключается отслеживание изменений и сканирование не запускается автоматически. После завершения обновления каталог останется пустым, пока не будет вручную запущено полное заполнение.<br /><br /> 2 = полнотекстовые каталоги импортируются. Обычно импорт производится значительно быстрее перестроения. Например, если используется только один ЦП, то импорт выполняется в 10 раз быстрее, чем перестроение. Однако в импортированных полнотекстовых каталогах не используются новые улучшенные средства разбиения по словам, поэтому со временем рекомендуется произвести перестроение полнотекстовых каталогов.<br /><br /> Примечание. Перестроение может выполняться в многопоточном режиме. Если доступно более 10 ЦП, перестроение может выполняться быстрее, чем импорт, если вы разрешите перестроение для использования всех ЦП.<br /><br /> Если полнотекстовый каталог недоступен, перестраиваются связанные полнотекстовые индексы. Этот параметр доступен только для баз данных [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] .<br /><br /> Сведения о выборе параметра полнотекстового обновления см. в статье[Обновление полнотекстового поиска](../../relational-databases/search/upgrade-full-text-search.md).<br /><br /> Примечание. чтобы задать это свойство в [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] , используйте свойство **"параметр полнотекстового обновления** ". Дополнительные сведения см. в разделе [Управление и наблюдение за полнотекстовым поиском для экземпляра сервера](../../relational-databases/search/manage-and-monitor-full-text-search-for-a-server-instance.md).|  
|**verify_signature**|**int**|Указывает допустимость загрузки в средство полнотекстового поиска только подписанных двоичных файлов.  По умолчанию загружаются только доверенные, подписанные двоичные файлы.<br /><br /> 1 = производится проверка того, что загружаются только достоверные подписанные двоичные файлы (по умолчанию).<br /><br /> 0 = не проверять наличие подписи у двоичных файлов.|  
  
## <a name="return-code-values"></a>Значения кода возврата  
 0 (успешное завершение) или 1 (неуспешное завершение)  
  
## <a name="result-sets"></a>Результирующие наборы  
 None  
  
## <a name="permissions"></a>Разрешения  
 Только члены предопределенной роли сервера **serveradmin** или системный администратор могут выполнять **sp_fulltext_service**.  
  
## <a name="examples"></a>Примеры  
  
### <a name="a-updating-the-list-of-registered-languages"></a>A. Обновление списка зарегистрированных языков  
 В следующем примере обновляется список языков, зарегистрированных для полнотекстового поиска.  
  
```  
EXEC sp_fulltext_service 'update_languages';  
GO  
```  
  
### <a name="b-changing-the-full-text-upgrade-option-to-reset-full-text-catalogs"></a>Б. Изменение параметров полнотекстового обновления для сброса полнотекстовых каталогов  
 В следующем примере демонстрируется изменение параметров полнотекстового обновления для сброса полнотекстовых каталогов. Это приводит к их полному удалению. В данном примере задаются два дополнительных ключевых слова: `@action` и `@value`.  
  
```  
EXEC sp_fulltext_service @action='upgrade_option', @value=1;  
GO  
```  
  
## <a name="see-also"></a>См. также:  
 [Компонент Full-text Search](../../relational-databases/search/full-text-search.md)   
 [FULLTEXTSERVICEPROPERTY (Transact-SQL)](../../t-sql/functions/fulltextserviceproperty-transact-sql.md)   
 [Системные хранимые процедуры (Transact-SQL)](../../relational-databases/system-stored-procedures/system-stored-procedures-transact-sql.md)  
  
  
