---
title: Указание пути расположения (SQLXML)
description: Узнайте, как указать путь к расположению в запросе типа SQLXML 4,0, чтобы выбрать набор узлов относительно узла контекста и создать набор узлов.
ms.date: 03/17/2017
ms.prod: sql
ms.prod_service: database-engine, sql-database
ms.reviewer: ''
ms.technology: xml
ms.topic: reference
helpviewer_keywords:
- absolute location path
- node-set [SQLXML]
- XPath queries [SQLXML], location paths
- relative location path [SQLXML]
- location path for XPath query
ms.assetid: a23a2b75-bc69-49f0-99db-05e14dc15bc0
author: rothja
ms.author: jroth
ms.custom: seo-lt-2019
monikerRange: =azuresqldb-current||>=sql-server-2016||>=sql-server-linux-2017||=azuresqldb-mi-current
ms.openlocfilehash: 9f00c875d47a7bf7fd6faeea2a94a5465a31fc83
ms.sourcegitcommit: 9142bb6b80ce22eeda516b543b163eb9918bc72e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/14/2021
ms.locfileid: "107490523"
---
# <a name="specifying-a-location-path-sqlxml-40"></a>Указание пути доступа (SQLXML 4.0)
[!INCLUDE [SQL Server Azure SQL Database](../../../includes/applies-to-version/sql-asdb.md)]
  Запросы XPath указываются в форме выражения. Существуют различные типы выражений. Путь доступа представляет собой выражение для выбора набора узлов относительно контекстного узла. Результатом вычисления пути доступа является набор узлов.  
  
## <a name="types-of-location-paths"></a>Типы путей доступа  
 Путь доступа может иметь две следующие формы.  
  
-   **Абсолютный путь доступа**  
  
     Абсолютный путь доступа начинается с корневого узла документа. Он состоит из косой черты (/), за которой необязательно следует относительный путь доступа. Косая черта (/) выбирает корневой узел документа.  
  
-   **Относительный путь доступа**  
  
     Относительный путь доступа начинается с контекстного узла документа. Путь доступа состоит из последовательности одного или нескольких шагов доступа, разделенных косой чертой (/). Каждый шаг доступа выбирает набор узлов относительно контекстного узла. Начальная последовательность шагов доступа выбирает набор узлов относительно контекстного узла. Каждый узел в этом наборе используется как контекстный узел для следующего шага доступа. Наборы узлов, определенные этим шагом, соединяются. Например, **дочерний элемент:: Order/child:: OrderDetail** выбирает **\<OrderDetail>** дочерние элементы **\<Order>** дочерних элементов узла контекста.  
  
    > [!NOTE]  
    >  В реализации XPath в SQLXML 4.0 каждый запрос XPath начинается в корневом контексте, даже если XPath не является явно абсолютным. Например, запрос XPath, начинающийся с «Customer» рассматривается как «/Customer». В запросе XPath **Customer [Order]** клиент начинает с корневого контекста, но порядок начинается в контексте клиента. Дополнительные сведения см. [в статье Введение в использование XPath запросов &#40;SQLXML 4,0&#41;](../../../relational-databases/sqlxml-annotated-xsd-schemas-xpath-queries/introduction-to-using-xpath-queries-sqlxml-4-0.md).  
  
## <a name="location-steps"></a>Шаги доступа  
 Путь доступа (абсолютный или относительный) состоит из шагов доступа, составленных из следующих трех частей.  
  
-   **Ось**  
  
     Ось определяет древовидную связь между узлами, которые выбираются шагом доступа, и контекстными узлами. Поддерживаются **родительские**, **дочерние**, **атрибуты** и **собственные** оси. Если в пути расположения указана **дочерняя** ось, все узлы, выбранные запросом, являются дочерними узлами контекстного узла. Если указана **Родительская** ось, выбранный узел является родительским узлом контекстного узла. Если задана ось **атрибутов** , выбранные узлы являются атрибутами контекстного узла.  
  
-   **Проверка узла**  
  
     Проверка узла задает тип узла, выбранного на шаге доступа. Каждая ось (**дочерний**, **родительский**, **атрибут** и **Self**) имеет тип основного узла. Для оси **атрибута** типом основного узла является **\<attribute>** . Для **родительских**, **дочерних** и **собственных** осей тип основного узла — **\<element>** .  
  
     Например, если путь к расположению определяет **дочерний элемент:: Customer**, **\<Customer>** выбираются дочерние элементы узла контекста. Так как **дочерняя** ось имеет **\<element>** Тип основного узла, проверка узла, Customer, принимает значение true, если клиент является **\<element>** узлом.  
  
-   **Предикаты выбора (ноль или больше)**  
  
     Предикат фильтрует набор узлов относительно оси. Указание предикатов выбора в выражении XPath напоминает указание предложения WHERE в инструкции SELECT. Предикат указывается в квадратных скобках. Применение проверки, указанной в предикатах выбора, фильтрует узлы, возвращаемые проверкой узла. Для каждого узла в фильтруемом наборе узлов выражение предиката вычисляется с этим узлом в качестве узла контекста, а количество узлов в наборе определяет размер контекста. Если для данного узла выражение предиката дает значение TRUE, то узел включается в результирующий набор узлов.  
  
     Синтаксис шага доступа: имя оси и проверки узла, разделенные двумя двоеточиями, за которыми следует ноль или более выражений — каждое в квадратных скобках. Например, выражение XPath (путь расположения) **дочерний:: Customer [ @CustomerID = ' ALFKI ']** выбирает все **\<Customer>** дочерние элементы узла контекста. Затем тест в предикате применяется к набору узлов, который возвращает только **\<Customer>** узлы элементов со значением "ALFKI" атрибута **CustomerID** .  
  
## <a name="in-this-section"></a>в этом разделе  
 [Указание оси &#40;SQLXML 4,0&#41;](../../../relational-databases/sqlxml-annotated-xsd-schemas-xpath-queries/location-path/specifying-an-axis-sqlxml-4-0.md)  
 Содержит примеры указания оси.  
  
 [Указание проверки узла в пути расположения &#40;SQLXML 4,0&#41;](../../../relational-databases/sqlxml-annotated-xsd-schemas-xpath-queries/location-path/specifying-a-node-test-in-the-location-path-sqlxml-4-0.md)  
 Содержит примеры указания проверки узла.  
  
 [Указание предикатов выбора в пути расположения &#40;SQLXML 4,0&#41;](../../../relational-databases/sqlxml-annotated-xsd-schemas-xpath-queries/location-path/specifying-selection-predicates-in-the-location-path-sqlxml-4-0.md)  
 Содержит примеры указания предикатов выбора.  
  
  
