---
description: sys.sysindexes (Transact-SQL)
title: Индексы sys.sys(Transact-SQL) | Документация Майкрософт
ms.custom: ''
ms.date: 06/10/2016
ms.prod: sql
ms.prod_service: database-engine
ms.reviewer: ''
ms.technology: system-objects
ms.topic: reference
f1_keywords:
- sysindexes
- sysindexes_TSQL
- sys.sysindexes
- sys.sysindexes_TSQL
dev_langs:
- TSQL
helpviewer_keywords:
- sysindexes system table
- sys.sysindexes compatibility view
ms.assetid: f483d89c-35c4-4a08-8f8b-737fd80d13f5
author: WilliamDAssafMSFT
ms.author: wiassaf
ms.openlocfilehash: bda40e2ddc1858857bc6ae3f1616d05987c708c0
ms.sourcegitcommit: 33f0f190f962059826e002be165a2bef4f9e350c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/30/2021
ms.locfileid: "99158541"
---
# <a name="syssysindexes-transact-sql"></a>sys.sysindexes (Transact-SQL)
[!INCLUDE [SQL Server](../../includes/applies-to-version/sqlserver.md)]

  Содержит по одной строке для каждого индекса и таблицы в текущей базе данных. XML-индексы в этом представлении не поддерживаются, Секционированные таблицы и индексы в этом представлении поддерживаются не полностью. Вместо этого используйте представление каталога [sys. indexes](../../relational-databases/system-catalog-views/sys-indexes-transact-sql.md) .  
  
> [!IMPORTANT]  
>  [!INCLUDE[ssnoteCompView](../../includes/ssnotecompview-md.md)]  
  
|Имя столбца|Тип данных|Описание|  
|-----------------|---------------|-----------------|  
|**идентификатор**|**int**|Идентификатор таблицы, которой принадлежит данный индекс.|  
|**status**|**int**|Сведения о состоянии системы.<br /><br /> [!INCLUDE[ssInternalOnly](../../includes/ssinternalonly-md.md)]|  
|**first**|**двоичный (6)**|Указатель на первую или корневую страницу.<br /><br /> Не используется, если **столбец indid** = 0.<br /><br /> NULL = индекс секционирован, если **столбец indid** > 1.<br /><br /> NULL = таблица секционирована, если **столбец indid** имеет значение 0 или 1.|  
|**столбец indid**|**smallint**|Идентификатор индекса:<br /><br /> 0 = куча;<br /><br /> 1 = кластеризованный индекс;<br /><br /> >1 = некластеризованный индекс|  
|**root**|**двоичный (6)**|Для **indid** >= 1 **корень** является указателем на корневую страницу.<br /><br /> Не используется, если **столбец indid** = 0.<br /><br /> NULL = индекс секционирован, если **столбец indid** > 1.<br /><br /> NULL = таблица секционирована, если **столбец indid** имеет значение 0 или 1.|  
|**minlen**|**smallint**|Минимальный размер строки.|  
|**keycnt**|**smallint**|Количество ключей.|  
|**Идентификатор**|**smallint**|Идентификатор файловой группы, в которой был создан объект.<br /><br /> NULL = индекс секционирован, если **столбец indid** > 1.<br /><br /> NULL = таблица секционирована, если **столбец indid** имеет значение 0 или 1.|  
|**дпажес**|**int**|Для **indid** = 0 или **indid** = 1 **дпажес** — количество используемых страниц данных.<br /><br /> Для **indid** > 1 **дпажес** — число используемых страниц индекса.<br /><br /> 0 = индекс секционируется, если **столбец indid** > 1.<br /><br /> 0 = таблица секционирована, если **столбец indid** имеет значение 0 или 1.<br /><br /> Не дает точных результатов при возникновении переполнения строки.|  
|**процессу**|**int**|Для **indid** = 0 или **indid** = 1 **зарезервированное** число страниц, выделенных для всех индексов и табличных данных.<br /><br /> Для **indid** > 1 **зарезервированное** число страниц, выделенных для индекса.<br /><br /> 0 = индекс секционируется, если **столбец indid** > 1.<br /><br /> 0 = таблица секционирована, если **столбец indid** имеет значение 0 или 1.<br /><br /> Не дает точных результатов при возникновении переполнения строки.|  
|**используется**|**int**|Для **indid** = 0 или **indid** = 1 **используется** значение, равное общему количеству страниц, используемых для всех данных индекса и таблицы.<br /><br /> Для **indid** > 1 **используется** число страниц, используемых для индекса.<br /><br /> 0 = индекс секционируется, если **столбец indid** > 1.<br /><br /> 0 = таблица секционирована, если **столбец indid** имеет значение 0 или 1.<br /><br /> Не дает точных результатов при возникновении переполнения строки.|  
|**rowcnt**|**bigint**|Количество строк на уровне данных на основе столбца **indid** = 0 и **indid** = 1.<br /><br /> 0 = индекс секционируется, если **столбец indid** > 1.<br /><br /> 0 = таблица секционирована, если **столбец indid** имеет значение 0 или 1.|  
|**rowmodctr**|**int**|Подсчитывает общее количество вставленных, удаленных или обновленных строк, начиная с момента последнего обновления статистики для таблицы.<br /><br /> 0 = индекс секционируется, если **столбец indid** > 1.<br /><br /> 0 = таблица секционирована, если **столбец indid** имеет значение 0 или 1.<br /><br /> В [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] и более поздних версиях **ровмодктр** не полностью совместим с предыдущими версиями. Дополнительные сведения см. в подразделе "Примечания".|  
|**reserved3**|**int**|Возвращает 0.<br /><br /> [!INCLUDE[ssInternalOnly](../../includes/ssinternalonly-md.md)]|  
|**reserved4**|**int**|Возвращает 0.<br /><br /> [!INCLUDE[ssInternalOnly](../../includes/ssinternalonly-md.md)]|  
|**xmaxlen**|**smallint**|Максимальный размер строки.|  
|**maxirow**|**smallint**|Максимальный размер неконечных индексных строк.<br /><br /> В [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] и более поздних версиях **максиров** не полностью совместим с предыдущими версиями.|  
|**OrigFillFactor**|**tinyint**|Оригинальное значение коэффициента заполнения, используемого при создании индекса. Это значение не поддерживается. Однако оно может быть полезным при повторном создании индекса, если забыто значение используемого коэффициента заполнения.|  
|**StatVersion**|**tinyint**|Возвращает 0.<br /><br /> [!INCLUDE[ssInternalOnly](../../includes/ssinternalonly-md.md)]|  
|**reserved2**|**int**|Возвращает 0.<br /><br /> [!INCLUDE[ssInternalOnly](../../includes/ssinternalonly-md.md)]|  
|**FirstIAM**|**двоичный (6)**|NULL = индекс секционирован.<br /><br /> [!INCLUDE[ssInternalOnly](../../includes/ssinternalonly-md.md)]|  
|**impid**|**smallint**|Флаг реализации индекса.<br /><br /> Возвращает 0.<br /><br /> [!INCLUDE[ssInternalOnly](../../includes/ssinternalonly-md.md)]|  
|**lockflags**|**smallint**|Используется для ограничения рассматриваемой гранулярности блокировки для индекса. Например, для минимизации стоимости блокировки уровень блокировки таблицы подстановки, находящейся в режиме только для чтения, может быть установлен только на уровне таблицы.|  
|**pgmodctr**|**int**|Возвращает 0.<br /><br /> [!INCLUDE[ssInternalOnly](../../includes/ssinternalonly-md.md)]|  
|**ключ**|**varbinary (816)**|Список идентификаторов столбцов, составляющих ключ индекса.<br /><br /> Возвращает значение NULL.<br /><br /> Чтобы отобразить ключевые столбцы индекса, используйте [sys.sysиндекскэйс](../../relational-databases/system-compatibility-views/sys-sysindexkeys-transact-sql.md).|  
|**name**|**sysname**|Имя индекса или статистики. Возвращает значение NULL, если **столбец indid** = 0. Измените приложение, чтобы оно выполняло поиск кучи с именем NULL.|  
|**statblob**|**image**|Статистический большой двоичный объект (BLOB).<br /><br /> Возвращает значение NULL.|  
|**maxlen**|**int**|[!INCLUDE[ssInternalOnly](../../includes/ssinternalonly-md.md)]|  
|**rows**|**int**|Количество строк на уровне данных, основанное на столбцах с **indid** = 0 и **indid** = 1, и значение повторяется для **indid** >1.|  
  
## <a name="remarks"></a>Замечания  
 Столбцы, определенные как зарезервированные, не должны использоваться.  
  
 Столбцы **дпажес**, **reserved** и **used** не будут возвращать точные результаты, если таблица или индекс содержат данные в единице распределения ROW_OVERFLOW. Кроме того, счетчики страниц для каждого индекса отслеживаются отдельно и не суммируются для базовой таблицы. Для просмотра количества страниц используйте представления каталога [sys.allocation_units](../../relational-databases/system-catalog-views/sys-allocation-units-transact-sql.md) или [sys. partitions](../../relational-databases/system-catalog-views/sys-partitions-transact-sql.md) или динамическое административное представление [sys.dm_db_partition_stats](../../relational-databases/system-dynamic-management-views/sys-dm-db-partition-stats-transact-sql.md) .  
  
 В SQL Server 2000 и более ранних версиях компонент [!INCLUDE[ssDE](../../includes/ssde-md.md)] поддерживал счетчики изменения на уровне строк. Теперь эти счетчики поддерживаются на уровне столбца. Таким образом, столбец **ровмодктр** вычисляется и выдает результаты, аналогичные результатам в предыдущих версиях, но не являются точными.  
  
 Если вы используете значение в **ровмодктр** , чтобы определить, когда следует обновлять статистику, рассмотрите следующие решения.  
  
-   Не делать ничего. Новое значение **ровмодктр** часто помогает определить, когда следует обновлять статистику, так как это поведение практически близко к результатам предыдущих версий.  
  
-   Использовать параметр AUTO_UPDATE_STATISTICS. Дополнительные сведения см. в разделе [Статистика](../../relational-databases/statistics/statistics.md).  
  
-   Использовать временное ограничение для определения времени обновления статистики. Например, каждый час, каждый день или каждую неделю.  
  
-   Использовать данные уровня приложения для определения времени обновления статистики. Например, каждый раз, когда максимальное значение столбца **идентификаторов** изменяется более чем на 10 000, или каждый раз при выполнении операции выполнения операций с массовыми вставками.  
  
## <a name="see-also"></a>См. также:  
 [Представления каталога (Transact-SQL)](../../relational-databases/system-catalog-views/catalog-views-transact-sql.md)   
 [Сопоставление системных таблиц с системными представлениями &#40;&#41;Transact-SQL ](../../relational-databases/system-tables/mapping-system-tables-to-system-views-transact-sql.md)   
 [sys.indexes (Transact-SQL)](../../relational-databases/system-catalog-views/sys-indexes-transact-sql.md)  
  
  
