---
title: Создание имени для входа | Документация Майкрософт
description: Узнайте, как создать учетные данные в SQL Server или Базу данных SQL Azure с помощью SQL Server Management Studio или Transact-SQL.
ms.custom: ''
ms.date: 08/01/2016
ms.prod: sql
ms.prod_service: database-engine, sql-database, sql-data-warehouse, pdw
ms.reviewer: ''
ms.technology: security
ms.topic: conceptual
f1_keywords:
- sql13.swb.login.status.f1
- sql13.swb.login.effectivepermissions.f1
- sql13.swb.login.general.f1
- sql13.swb.login.databaseaccess.f1
- sql13.swb.login.serverroles.f1
helpviewer_keywords:
- authentication [SQL Server], logins
- logins [SQL Server], creating
- creating logins with Management Studio
- Create login [SQL Server]
- SQL Server logins
ms.assetid: fb163e47-1546-4682-abaa-8c9494e9ddc7
author: VanMSFT
ms.author: vanto
monikerRange: '>=aps-pdw-2016||=azuresqldb-current||=azure-sqldw-latest||>=sql-server-2016||>=sql-server-linux-2017||=azuresqldb-mi-current'
ms.openlocfilehash: bc69ec8ee89cf994c61450804887b8c60388291f
ms.sourcegitcommit: 38e055eda82d293bf5fe9db14549666cf0d0f3c0
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/02/2021
ms.locfileid: "99250929"
---
# <a name="create-a-login"></a>Создание имени входа
[!INCLUDE [SQL Server](../../../includes/applies-to-version/sql-asdb-asdbmi-asa-pdw.md)]

  В этой статье описано, как создать имя входа в [!INCLUDE[ssnoversion](../../../includes/ssnoversion-md.md)] или [!INCLUDE[ssSDS](../../../includes/sssds-md.md)] с помощью среды [!INCLUDE[ssManStudioFull](../../../includes/ssmanstudiofull-md.md)] или [!INCLUDE[tsql](../../../includes/tsql-md.md)]. Имя входа представляет собой идентификатор пользователя или процесса, выполняющего соединение с экземпляром [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)].  
  
##  <a name="background"></a><a name="Background"></a> Историческая справка  
 Имя входа — это субъект безопасности, с помощью которого система безопасности может проверить подлинность лица или сущности. Имя входа необходимо пользователю для соединения с [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]. Вы можете создать имя входа на основе участника Windows (например, пользователя или группы домена Windows), либо на основе пользователя, не являющегося участником Windows (например, имени входа [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] ).  
  
> **ПРИМЕЧАНИЕ.** Для использования проверки подлинности компонент [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)][!INCLUDE[ssDE](../../../includes/ssde-md.md)] должен использовать режим смешанной проверки подлинности. Дополнительные сведения см. в разделе [Выбор режима проверки подлинности](../../../relational-databases/security/choose-an-authentication-mode.md).  
  
 Как субъекты безопасности, разрешения могут быть предоставлены именам входов. Областью имени входа является весь компонент [!INCLUDE[ssDE](../../../includes/ssde-md.md)]. Для подключения к определенной базе данных на экземпляре [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] имя входа должно быть сопоставлено с пользователем базы данных. Разрешения внутри базы данных предоставляются и запрещаются для пользователя базы данных, а не имени входа. Разрешения, областью которых является весь экземпляр [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] (например разрешение **CREATE ENDPOINT** ), могут предоставляться именам входов.  
  
> **ПРИМЕЧАНИЕ.** При подключении к [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] по имени входа идентификатор проверяется в базе данных master. Используйте пользователей автономной базы данных для проверки подлинности подключений [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] и [!INCLUDE[ssSDS](../../../includes/sssds-md.md)] на уровне базы данных. При использовании пользователей автономной базы данных имя для входа не требуется. Автономная база данных — это база данных, изолированная от других баз данных и от экземпляра [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)]/ [!INCLUDE[ssSDS](../../../includes/sssds-md.md)] (и базы данных master), на котором размещена эта база данных. [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] поддерживает пользователей автономной базы данных для проверки подлинности Windows и [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] . При использовании [!INCLUDE[ssSDS](../../../includes/sssds-md.md)]объединяйте пользователей автономной базы данных с правилами брандмауэра уровня базы данных. Дополнительные сведения см. в разделе [Пользователи автономной базы данных — создание переносимой базы данных](../../../relational-databases/security/contained-database-users-making-your-database-portable.md).  
  
##  <a name="security"></a><a name="Security"></a> безопасность  

 [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] Требуется наличие разрешения **ALTER ANY LOGIN** или **ALTER LOGIN** на сервере.  
  
 [!INCLUDE[ssSDS](../../../includes/sssds-md.md)] Требуется членство в роли **loginmanager** .  
  
##  <a name="create-a-login-using-ssms"></a><a name="SSMSProcedure"></a> Создание имени входа с использованием SSMS  
  
  
1.  В обозревателе объектов раскройте папку экземпляра сервера, в котором необходимо создать имя входа.  
  
2.  Правой кнопкой мыши щелкните папку **Безопасность** и выберите пункт **Создать**, а затем — **Имя входа...** .  
  
3.  В диалоговом окне **Имя входа — создание** на странице **Общие** введите имя пользователя в поле **Имя для входа**. Также можно нажать кнопку **Поиск...** , чтобы открыть диалоговое окно **Выбор пользователя или группы**.  
  
     Если нажата кнопка **Поиск...**  
  
    1.  В разделе **Выбор этого типа объекта** щелкните **Типы объектов…** , чтобы открыть диалоговое окно **Типы объектов**, и выберите любой или все следующие варианты. **Встроенные субъекты безопасности**, **группы** и **пользователи**. **Встроенные субъекты безопасности** и **Пользователи** выбираются по умолчанию. После завершения нажмите кнопку **ОК**.  
  
    2.  В списке **Из этого расположения** щелкните **Расположение...** , чтобы открыть диалоговое окно **Расположение**, и выберите одно из следующих доступных расположений сервера. После завершения нажмите кнопку **ОК**.  
  
    3.  В диалоговом окне **Введите имена объектов для выбора (примеры)** введите пользователя или имя группы, которые необходимо найти. Дополнительные сведения см. в статье [Диалоговое окно выбора пользователей, компьютеров или групп](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc771712(v=ws.11)).  
  
    4.  Нажмите кнопку **Дополнительно...** для настройки дополнительных параметров поиска. Дополнительные сведения см. в статье [Выбор диалогового окна "Пользователи", "Компьютеры" или "Группы" — страница "Дополнительно"](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc733110(v=ws.11)).  
  
    5.  Нажмите кнопку **ОК**.  
  
4.  Чтобы создать имя входа на основе участника Windows, выберите параметр **Проверка подлинности Windows**. Это параметр выбирается по умолчанию.  
  
5.  Чтобы создать имя входа, которое сохраняется в базе данных [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] , выберите **Проверка подлинности SQL Server**.  
  
    1.  В поле **Пароль** введите пароль для нового пользователя. Повторно введите пароль в поле **Подтверждение пароля** .  
  
    2.  Если изменяется существующий пароль, выберите пункт **Указать старый пароль** и введите старый пароль в поле **Старый пароль** .  
  
    3.  Чтобы обеспечить использование паролей в соответствии с политиками паролей, выберите параметр **Требовать использование политики паролей**. Дополнительные сведения см. в разделе [Политика паролей](../../../relational-databases/security/password-policy.md). Это значение по умолчанию при выборе параметра **Проверка подлинности SQL Server** .  
  
    4.  Чтобы обеспечить использование паролей в соответствии с политиками окончания срока действия паролей, выберите параметр **Задать срок окончания действия пароля**. Чтобы этот флажок был доступен, должен быть установлен параметр **Требовать использование политики паролей** . Это значение по умолчанию при выборе параметра **Проверка подлинности SQL Server** .  
  
    5.  Чтобы пользователь мог создать новый пароль при первом входе в систему, выберите пункт **Пользователь должен сменить пароль при следующем входе**. Чтобы этот флажок был доступен, необходимо установить параметр **Принудительно применить срок окончания действия пароля** . Это значение по умолчанию при выборе параметра **Проверка подлинности SQL Server** .  
  
6.  Чтобы связать имя входа с изолированным сертификатом безопасности, выберите **Сопоставлен с сертификатом** , после чего выберите имя существующего сертификата из списка.  
  
7.  Чтобы связать имя входа с изолированным асимметричным ключом, выберите **Сопоставлен с асимметричным ключом** , после чего выберите имя существующего ключа из списка.  
  
8.  Чтобы связать имя входа с сочетанием имени входа и пароля, выберите флажок **Сопоставлено с именем входа и паролем** , а затем либо выберите существующую комбинацию из списка, либо нажмите кнопку **Добавить** , чтобы создать новое сочетание. Чтобы удалить сопоставление с сочетанием имени входа и пароля, выберите сочетание из списка **Сопоставленные сочетания** и нажмите кнопку **Удалить**. Дополнительные сведения об учетных данных см. в разделе [Учетные данные (компонент Database Engine)](../../../relational-databases/security/authentication-access/credentials-database-engine.md).  
  
9. В списке **База данных по умолчанию** выберите базу данных по умолчанию для нужного имени входа. По умолчанию этот параметр имеет значение **Master** .  
  
10. В списке **Язык по умолчанию** выберите язык по умолчанию для входа.  
  
11. [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  

### <a name="additional-options"></a>Дополнительные параметры  
 Диалоговое окно **Имя входа — создание** также предлагает варианты на четырех дополнительных страницах: **Роли сервера**, **Сопоставления пользователей**, **Защищаемые объекты** и **Состояние**.  
  
### <a name="server-roles"></a>Роли сервера  
 На странице **Роли сервера** перечислены все возможные роли, которые могут быть назначены с новым именем входа. Доступны следующие варианты:  
  
 Флажок **bulkadmin**  
 Элементы предопределенной роли сервера **bulkadmin** могут выполнять инструкцию BULK INSERT.  
  
 Флажок **dbcreator**  
 Члены предопределенной роли сервера **dbcreator** могут создавать, изменять, удалять и восстанавливать любые базы данных.  
  
 Флажок **diskadmin**  
 Элементы предопределенной роли сервера **diskadmin** могут управлять дисковыми файлами.  
  
 Флажок **processadmin**  
 Элементы предопределенной роли сервера **processadmin** могут завершать процессы, запущенные в экземпляре компонента [!INCLUDE[ssDE](../../../includes/ssde-md.md)].  
  
 Флажок **Public**  
 Все пользователи, группы и роли SQL Server по умолчанию принадлежат предопределенной роли сервера **public** .  
  
 Флажок **securityadmin**  
 Элементы предопределенной роли сервера **securityadmin** управляют именами входа и их свойствами. Они могут предоставлять, запрещать и отменять разрешения на уровне сервера (инструкции GRANT, DENY и REVOKE). Они также могут предоставлять, запрещать и отменять разрешения на уровне базы данных (инструкции GRANT, DENY и REVOKE). Кроме того, они могут сбрасывать пароли для имен входа [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .  
  
 Флажок **serveradmin**  
 Элементы предопределенной роли сервера **serveradmin** могут изменять параметры конфигурации на уровне сервера, а также выключать сервер.  
  
 Флажок **setupadmin**  
 Элементы предопределенной роли сервера **setupadmin** могут добавлять и удалять связанные серверы, а также выполнять некоторые системные хранимые процедуры.  
  
 Флажок **sysadmin**  
 Элементы предопределенной роли сервера **sysadmin** могут выполнять любые действия в компоненте [!INCLUDE[ssDE](../../../includes/ssde-md.md)].  
  
### <a name="user-mapping"></a>Сопоставление пользователей  
 На странице **Сопоставление пользователей** приведен список всех возможных баз данных и ролей баз данных, которые могут применяться в момент входа. Выбранные базы данных определят членство в ролях, которые доступны для этого имени входа. На этой странице доступны следующие параметры.  
  
 **Пользователи, сопоставленные с этим именем входа**  
 Выберите базы данных, к которым может подключаться это имя входа. При выборе базы данных допустимые для нее роли отображаются в области **Членство в роли базы данных для:** _имя_базы_ данных_.  
  
 **Схема**  
 Разрешает имени входа доступ к перечисленным ниже базам данных.  
  
 **База данных**  
 Список баз данных, доступных на этом сервере.  
  
 **Пользователь**  
 Укажите пользователя базы данных, сопоставляемого с этим именем входа. По умолчанию, у пользователя базы данных такое же имя, как и имя входа.  
  
 **Схема по умолчанию**  
 Указывает схему по умолчанию для данного пользователя. При создании пользователя его схемой по умолчанию является **dbo**. Можно указать схему по умолчанию, которая еще не существует. Нельзя указать схему по умолчанию для пользователя, сопоставленного с группой Windows, сертификатом или асимметричным ключом.  
  
 **Учетная запись гостя, включенная для:** _имя_базы_данных_  
 Атрибут только для чтения, означающий, что учетная запись Guest включена в выбранной базе данных. Страница **Состояние** диалогового окна **Свойства входа в систему** для учетной записи Guest позволяет включать и отключать эту учетную запись.  
  
 **Членство в роли базы данных для:** _имя_базы_данных_  
 Выберите роли для этого пользователя в указанной базе данных. Все пользователи входят в роль **public** во всех базах данных, и удалить их оттуда нельзя. Дополнительные сведения о ролях баз данных см. в разделе [Роли уровня базы данных](../../../relational-databases/security/authentication-access/database-level-roles.md).  
  
### <a name="securables"></a>Защищаемые объекты  
 На странице **Защищаемые объекты** перечислены все возможные защищаемые объекты и разрешения на эти объекты, которые могут быть предоставлены для имени входа. На этой странице доступны следующие параметры.  
  
 **Верхняя сетка**  
 Содержит один или несколько элементов, для которых могут быть установлены разрешения. Отображаемые в верхней сетке столбцы меняются в зависимости от участника или защищаемого объекта.  
  
 Добавление элементов в верхнюю сетку:  
  
1.  Нажмите кнопку **Поиск**.  
  
2.  В диалоговом окне **Добавить объекты** выберите один из следующих вариантов: **Конкретные объекты…** , **Все объекты типов…** или **Сервер**_имя\_сервера_. [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
    > **ПРИМЕЧАНИЕ.** При выборе параметра **Сервер**_имя\_сервера_ верхняя сетка автоматически заполняется всеми защищаемыми объектами сервера.  
  
3.  При выборе параметра **Конкретные объекты...**  
  
    1.  В диалоговом окне **Выбор объектов** в разделе **Выбрать эти типы объектов** нажмите кнопку **Типы объектов…** .  
  
    2.  В диалоговом окне **Выбор типов объектов** выберите любые или все из следующих типов объектов: **Конечные точки**, **Имена входа**, **Серверы**, **Группы доступности** и **Роли сервера**. [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
    3.  В разделе **Введите имена объектов для выбора (примеры)** нажмите кнопку **Обзор...** .  
  
    4.  В диалоговом окне **Просмотр объектов** , выберите доступные объекты тех типов, которые вы выбрали в диалоговом окне **Выбранные типы объектов** , а затем нажмите кнопку **ОК**.  
  
    5.  В диалоговом окне **Выбор объектов** нажмите кнопку **ОК**.  
  
4.  При выборе параметра **Все объекты типов…** в диалоговом окне **Выбор типов объектов** выберите любые или все из следующих типов объектов: **Конечные точки**, **Имена входа**, **Серверы**, **Группы доступности** и **Роли сервера**. [!INCLUDE[clickOK](../../../includes/clickok-md.md)]  
  
 **имя**;  
 Имя каждого участника или защищаемого объекта, добавляемого в сетку.  
  
 **Тип**  
 Описывает тип каждого элемента.  
  
 **Вкладка «Явное»**  
 Содержит возможные разрешения для защищаемого объекта, выбранного в верхней сетке. Не все эти параметры доступны для всех явно указанных разрешений.  
  
 **Разрешения**  
 Имя разрешения.  
  
 **Grantor**  
 Участник, предоставивший разрешение.  
  
 **Право предоставил**  
 Выберите, чтобы предоставить имени входа данное разрешение. Снимите флажок, чтобы отменить это разрешение.  
  
 **Право передачи**  
 Отражает состояние параметра WITH GRANT для разрешения, указанного в списке. Поле доступно только для чтения. Для применения данного разрешения используйте инструкцию [GRANT](../../../t-sql/statements/grant-transact-sql.md) .  
  
 **Запретить**  
 Выберите, чтобы запретить имени входа в данном разрешении. Снимите флажок, чтобы отменить это разрешение.  
  
### <a name="status"></a>Состояние  
 На странице **Состояние** приведен список некоторых параметров проверки подлинности и авторизации, которые можно настроить для выбранного имени входа [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] .  
  
 На этой странице доступны следующие параметры.  
  
 **Разрешение на подключение к ядру СУБД**  
 При работе с этим параметром выбранное имя входа нужно представлять как участника, которому можно предоставить или не предоставить разрешение на защищаемый объект.  
  
 Выберите **Предоставить** , чтобы предоставить имени входа разрешение CONNECT SQL. Выберите **Запретить** , чтобы запретить имени входа разрешение CONNECT SQL.  
  
 **Имя входа**  
 При работе с этим параметром выбранное имя входа нужно представлять как запись в таблице. Ей будут присваиваться приведенные здесь значения.  
  
 Отключенное имя входа продолжает существовать в виде записи. Но если имя входа пытается соединиться с [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], оно не будет авторизовано.  
  
 Выберите этот параметр для включения или отключения имени входа. Этот параметр использует инструкцию ALTER LOGIN с параметром ENABLE или DISABLE.  
  
 **Проверка подлинности SQL Server**  
 Флажок **Имя входа заблокировано** доступен только в том случае, если выбранное имя входа использует проверку подлинности [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)] и заблокировано. Настройка доступна только для чтения. Чтобы разблокировать блокированное имя входа, выполните инструкцию ALTER LOGIN с параметром UNLOCK.  
  
##  <a name="create-a-login-using-windows-authentication-using-t-sql"></a><a name="TsqlProcedure"></a> Создание имени входа при использовании проверки подлинности Windows с помощью T-SQL  
  
 
1.  В **обозревателе объектов** подключитесь к экземпляру компонента [!INCLUDE[ssDE](../../../includes/ssde-md.md)].  
  
2.  На стандартной панели выберите пункт **Создать запрос**.  
  
3.  Скопируйте следующий пример в окно запроса и нажмите кнопку **Выполнить**.  
  
    ```  
    -- Create a login for SQL Server by specifying a server name and a Windows domain account name.  
  
    CREATE LOGIN [<domainName>\<loginName>] FROM WINDOWS;  
    GO  
  
    ```  
  
## <a name="create-a-login-using-sql-server-authentication-using-t-sql"></a>Создание учетных данных на базе проверки подлинности SQL Server с помощью T-SQL
  
1.  В **обозревателе объектов** подключитесь к экземпляру компонента [!INCLUDE[ssDE](../../../includes/ssde-md.md)].  
  
2.  На стандартной панели выберите пункт **Создать запрос**.  
  
3.  Скопируйте следующий пример в окно запроса и нажмите кнопку **Выполнить**.  
  
    ```  
    -- Creates the user "shcooper" for SQL Server using the security credential "RestrictedFaculty"   
    -- The user login starts with the password "Baz1nga," but that password must be changed after the first login.  
  
    CREATE LOGIN shcooper   
       WITH PASSWORD = 'Baz1nga' MUST_CHANGE,  
       CREDENTIAL = RestrictedFaculty;  
    GO  
    ```  
  
 Дополнительные сведения см. в разделе [CREATE LOGIN (Transact-SQL)](../../../t-sql/statements/create-login-transact-sql.md).  
  
##  <a name="follow-up-steps-to-take-after-you-create-a-login"></a><a name="FollowUp"></a> Дальнейшие действия. Действия, выполняемые после создания имени входа  
 После создания имени входа его можно использовать для соединения с [!INCLUDE[ssNoVersion](../../../includes/ssnoversion-md.md)], но у него может не быть разрешений, необходимых для выполнения требуемых задач. В следующем списке представлены ссылки на основные действия имени входа.  
  
-   Дополнительные сведения о присоединении имени входа к роли см. в разделе [Присоединение к роли](../../../relational-databases/security/authentication-access/join-a-role.md).  
  
-   Дополнительные сведения об авторизации имени входа для использования базы данных см. в разделе [Создание пользователя базы данных](../../../relational-databases/security/authentication-access/create-a-database-user.md).  
  
-   Сведения о предоставлении разрешения для имени входа см. в разделе [Предоставление разрешения для участника](../../../relational-databases/security/authentication-access/grant-a-permission-to-a-principal.md).  
  
## <a name="see-also"></a>См. также:  
 [Центр безопасности для ядра СУБД SQL Server и Базы данных Azure SQL](../../../relational-databases/security/security-center-for-sql-server-database-engine-and-azure-sql-database.md)  
  
