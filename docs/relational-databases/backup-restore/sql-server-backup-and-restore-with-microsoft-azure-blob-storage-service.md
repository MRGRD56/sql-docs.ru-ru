---
description: Резервное копирование и восстановление SQL Server с помощью службы хранилища Blob-объектов Microsoft Azure
title: Резервное копирование и восстановление с помощью хранилища BLOB-объектов Azure
storage: Learn about SQL Server backup to and restore from Azure Blob storage, including the benefits of using Azure Blob storage to store SQL Server backups.
ms.custom: seo-lt-2019
ms.date: 12/17/2019
ms.prod: sql
ms.prod_service: backup-restore
ms.reviewer: ''
ms.technology: backup-restore
ms.topic: conceptual
ms.assetid: 6a0c9b6a-cf71-4311-82f2-12c445f63935
author: cawrites
ms.author: chadam
ms.openlocfilehash: 2fb47efd89dfee8777d54b4cf2d1cf0ad2accec9
ms.sourcegitcommit: 917df4ffd22e4a229af7dc481dcce3ebba0aa4d7
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/10/2021
ms.locfileid: "100343650"
---
# <a name="sql-server-backup-and-restore-with-microsoft-azure-blob-storage-service"></a>Резервное копирование и восстановление SQL Server с помощью службы хранилища Blob-объектов Microsoft Azure
[!INCLUDE [SQL Server SQL MI](../../includes/applies-to-version/sql-asdbmi.md)]

  ![Резервное копирование в графику BLOB-объектов Azure](../../relational-databases/backup-restore/media/backup-to-azure-blob-graphic.png "Резервное копирование в графику BLOB-объектов Azure")  
  
 В этом разделе описывается резервное копирование [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] и восстановление из [службы хранилища BLOB-объектов Microsoft Azure](https://www.windowsazure.com/develop/net/how-to-guides/blob-storage/). В разделе также описаны основные преимущества использования службы BLOB-объектов Microsoft Azure для хранения резервных копий [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .  
  
 SQL Server позволяет хранить резервные копии в службе хранилища BLOB-объектов Microsoft Azure следующими способами:  
  
-   **Управление резервными копиями в Microsoft Azure.** С помощью тех же методов, которые используются для резервного копирования на диск и ленточные носители, можно создать резервную копию в службе хранилища Microsoft Azure, указав URL-адрес в качестве назначения резервного копирования. Эту функцию можно использовать для создания резервной копии вручную или настройки собственной стратегии резервного копирования для локального хранилища или других вариантов удаленного хранения. Эта функция также называется **резервным копированием SQL Server по URL-адресу**. Дополнительные сведения см. в разделе [SQL Server Backup to URL](../../relational-databases/backup-restore/sql-server-backup-to-url.md). Эта функция доступна в SQL Server 2012 с пакетом обновления 1 (SP1) и накопительным обновлением 2 и более поздних версиях. В [!INCLUDE[sssql16-md](../../includes/sssql16-md.md)] эта функция получила улучшения. В результате была повышена производительность и улучшены функциональные возможности за счет блочной обработки больших двоичных объектов, подписей общего доступа и чередования.  
  
    > [!NOTE]  
    >  Для версий SQL Server до SQL Server 2012 с пакетом обновления 1 (SP1) и накопительным пакетом обновления 2 (CU2) имеется надстройка для резервного копирования SQL Server в Microsoft Azure, которая позволяет быстро и легко создавать резервные копии в службе хранилища Microsoft Azure. Дополнительные сведения см. в [центре загрузки](https://go.microsoft.com/fwlink/?LinkID=324399).  
  
-   **Резервные копии моментальных снимков файлов баз данных в хранилище больших двоичных объектов Azure** Если использовать моментальные снимки Azure, резервные копии моментальных снимков [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] позволяют почти мгновенно выполнять резервное копирование и восстановление файлов базы данных, хранящихся в службе хранилища BLOB-объектов Azure. Эта функция позволяет упростить политики резервного копирования и восстановления, а также поддерживает восстановление до точки во времени. Дополнительные сведения см. в разделе [Резервные копии моментальных снимков файлов для файлов базы данных в Azure](../../relational-databases/backup-restore/file-snapshot-backups-for-database-files-in-azure.md). Эта функция доступна в SQL Server 2016 и более поздних версиях.  
  
-   **Функции SQL Server по управлению резервными копиями в Microsoft Azure.** SQL Server можно настроить для управления стратегией резервного копирования и планирования резервного копирования для отдельной базы данных или нескольких баз данных. Кроме того, можно задать настройки по умолчанию на уровне экземпляра. Это функция называется **[!INCLUDE[ss_smartbackup](../../includes/ss-smartbackup-md.md)]** . Дополнительные сведения см. в разделе [Управляемое резервное копирование SQL Server в Microsoft Azure](../../relational-databases/backup-restore/sql-server-managed-backup-to-microsoft-azure.md). Эта функция доступна в SQL Server 2014 и более поздних версиях.  
  
## <a name="benefits-of-using-the-microsoft-azure-blob-service-for-ssnoversion-backups"></a>Преимущества хранения резервных копий [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] в службе BLOB-объектов Microsoft Azure  
  
-   Гибкое и надежное удаленное хранение без ограничений. Хранение резервных копий с помощью службы BLOB-объектов Microsoft Azure отличается удобством и гибкостью; кроме того, оно позволяет реализовать внешний доступ к данным. Для создания удаленного хранилища для резервных копий [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] достаточно внести изменения в существующие скрипты и задания. Удаленное хранилище обычно должно быть расположено достаточно далеко от рабочей базы данных, чтобы одна авария не могла повлиять одновременно и на удаленную копию, и на рабочую базу данных. Георепликация хранилища больших двоичных объектов обеспечивает дополнительный уровень защиты в случае аварии регионального масштаба. Кроме того, резервные копии доступны в любом месте и в любое время, а также к ним легко получить доступ для восстановления.  
  
    > [!IMPORTANT]  
    >  С помощью блочных BLOB-объектов в [!INCLUDE[sssql16-md](../../includes/sssql16-md.md)]можно создать чередующийся резервный набор данных, обеспечив поддержку файлов резервной копии размером до 12,8 ТБ.  
  
-   Архив резервных копий. Служба хранилища BLOB-объектов Microsoft Azure — это хорошая альтернатива часто применяемой операции по созданию архива резервных копий на магнитной ленте. Может потребоваться физически транспортировать накопители на магнитной ленте в удаленное помещение и принимать меры для защиты носителей. Хранение резервных копий в хранилище BLOB-объектов Microsoft Azure обеспечивает быстрое, доступное и надежное архивирование.  
  
-   Отсутствие дополнительных расходов на управление аппаратурой: службы Windows Azure не требуют расходов на поддержку оборудования. Службы Microsoft Azure сами управляют оборудованием и обеспечивают георепликацию для избыточности и защиты от сбоев оборудования.  
  
-   В настоящее время для экземпляров [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , запущенных в виртуальной машине Microsoft Azure, создание резервных копий с помощью службы хранилища BLOB-объектов Microsoft Azure можно выполнить, создав подключенные диски. Однако количество дисков, которые можно подключить к виртуальной машине Microsoft Azure, ограничено. Для сверхбольших экземпляров данное ограничение составляет 16 дисков, а для небольших экземпляров это количество меньше. Включив резервное копирование непосредственно в хранилище BLOB-объектов Microsoft Azure, вы можете обойти ограничение в 16 дисков.  
  
     Кроме того, файл резервной копии, который хранится в службе хранилища BLOB-объектов Microsoft Azure, напрямую доступен в локальной службе [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] или другой службе [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] в виртуальной машине Microsoft Azure. Присоединение и отсоединение базы данных, а также скачивание и подключение виртуального жесткого диска не требуется.  
  
-   Удобная оплата. Оплата только тех услуг, которые используются. Может применяться в качестве экономически эффективного решения по удаленному резервному копированию и архивированию. Для получения дополнительной информации и ссылок см. раздел [Вопросы оплаты использования Microsoft Azure](#Billing) .  
  
##  <a name="microsoft-azure-billing-considerations"></a><a name="Billing"></a> Вопросы оплаты использования Microsoft Azure  
 Если вы знаете, сколько стоит использование службы хранилища Microsoft Azure, вы можете прогнозировать стоимость создания и хранения резервных копий в Microsoft Azure.  
  
 [Ценовой калькулятор Microsoft Azure](https://go.microsoft.com/fwlink/?LinkId=277060) может помочь оценить затраты.  
  
 **Хранение.** Стоимость зависит от используемого пространства и высчитывается по градуированной шкале и уровню избыточности. Дополнительные сведения и обновленную информацию см. в разделе **Управление данными** статьи [Расчет цен](https://go.microsoft.com/fwlink/?LinkId=277059) .  
  
 **Передача данных.** Входящие передачи данных в Microsoft Azure бесплатны. Исходящие передачи оцениваются по пропускной способности, а их стоимость высчитывается по градуированной шкале, привязанной к региону. Дополнительные сведения см. в разделе [Передача данных](https://go.microsoft.com/fwlink/?LinkId=277061) в статье «Расчет цен».  
  
## <a name="see-also"></a>См. также  

[Резервное копирование SQL Server на URL-адрес — рекомендации и устранение неполадок](../../relational-databases/backup-restore/sql-server-backup-to-url-best-practices-and-troubleshooting.md).   

[Резервное копирование и восстановление системных баз данных (SQL Server)](../../relational-databases/backup-restore/back-up-and-restore-of-system-databases-sql-server.md)   

[Руководство. Использование службы хранилища больших двоичных объектов Microsoft Azure с базами данных SQL Server 2016](../tutorial-use-azure-blob-storage-service-with-sql-server-2016.md)

[Резервное копирование в SQL Server по URL-адресу](../../relational-databases/backup-restore/sql-server-backup-to-url.md)  
  
  
