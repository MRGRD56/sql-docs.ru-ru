---
description: Параметры пакета и проекта Integration Services (SSIS)
title: Параметры пакета и проекта | Документация Майкрософт
ms.custom: ''
ms.date: 03/03/2017
ms.prod: sql
ms.prod_service: integration-services
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
f1_keywords:
- sql13.ssis.designer.parameter.f1
- sql13.dts.designer.parameterwindow.f1
ms.assetid: 9ed9ca8e-8b1e-48d9-907d-285516d6562b
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 662b52803ddca54f5c660fa79c457cdc05ced3fa
ms.sourcegitcommit: cfa04a73b26312bf18d8f6296891679166e2754d
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/19/2020
ms.locfileid: "92193866"
---
# <a name="integration-services-ssis-package-and-project-parameters"></a>Параметры пакета и проекта Integration Services (SSIS)

[!INCLUDE[sqlserver-ssis](../includes/applies-to-version/sqlserver-ssis.md)]


  Параметры служб[!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] (SSIS) могут быть использованы для присвоения значений свойствам внутри пакетов во время выполнения пакетов. Можно создать *параметры проекта* на уровне проекта и *параметры пакета* на уровне пакета. Параметры проекта используются для предоставления любых внешних данных, получаемых проектом, одному пакету в проекте или более. Параметры пакета позволяют изменить выполнение пакета. При этом изменять пакет и развертывать его повторно не придется.  
  
 В службах [!INCLUDE[ssBIDevStudio](../includes/ssbidevstudio-md.md)] можно создавать, изменять и удалять параметры проекта в окне **Project.params** . Создавать, изменять, удалять и параметров пакета можно с помощью вкладки **Параметры** в конструкторе служб [!INCLUDE[ssIS](../includes/ssis-md.md)] . Диалоговое окно **Параметризация** позволяет связать новый или существующий параметр со свойством задачи. Дополнительные сведения об использовании окна **Project.params** и вкладки **Параметры** см. в разделе [Create Parameters](). Дополнительные сведения о диалоговом окне **Параметризация** см. в разделе [Parameterize Dialog Box]().  
  
## <a name="parameters-and-package-deployment-model"></a>Параметры и модель развертывания пакета  
 Как правило, при развертывании пакета с использованием устаревшей модели развертывания пакетов необходимо использовать конфигурации вместо параметров.  
  
 Если пакет, содержащий параметры, развертывается с использованием устаревшей модели развертывания пакетов, а затем выполняется, то параметры во время выполнения не вызываются. Если пакет содержит параметры пакета, а в выражениях в пакете используются параметры, то результирующие значения применяются во время выполнения. Если пакет содержит параметры проекта, выполнение пакета может окончиться неудачей.  
  
## <a name="parameters-and-project-deployment-model"></a>Параметры и модели развертывания проекта  
 При развертывании проекта на сервере служб Integration Services (SSIS) используются хранимые процедуры, представления и пользовательский интерфейс [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)] для управления параметрами проектов и пакетов. Дополнительные сведения см. в следующих разделах:  
  
-   [Представления (каталог служб Integration Services)](../integration-services/system-views/views-integration-services-catalog.md)  
  
-   [Хранимые процедуры (каталог служб Integration Services)](../integration-services/system-stored-procedures/stored-procedures-integration-services-catalog.md)  
  
-   [Диалоговое окно «Настройка»](./catalog/configure-dialog-box.md)  
  
-   [Диалоговое окно "Выполнение пакета"](../integration-services/packages/run-integration-services-ssis-packages.md#execute_package_dialog)  
  
### <a name="parameter-values"></a>Значения параметров  
 Можно назначить до 3 различных значений для параметра. С началом выполнения пакета для параметра используется одно значение, а параметр разрешается в свое последнее литеральное значение.  
  
 В следующей таблице приводятся типы значений.  
  
|Имя значения|Description|Тип значения|  
|----------------|-----------------|-------------------|  
|Значение выполнения|Значение, которое назначается определенному экземпляру выполнения пакета. Это значение переопределяет все прочие значения, но применяется только к одному экземпляру выполнения пакета.|Литерал|  
|Значение сервера|Значение, присваиваемое параметру в области проекта после развертывания проекта на сервере служб Integration Services. Это значение переопределяет значение по умолчанию проекта.|Литерал или ссылка на переменную среды|  
|Значение проекта|Значение, присваиваемое параметру при создании или изменении проекта в среде [!INCLUDE[ssBIDevStudio](../includes/ssbidevstudio-md.md)]. Это значение сохраняется в проекте.|Литерал|  
  
 С помощью одного параметра можно присваивать значения нескольким свойствам пакета. Единственному свойству пакета может быть присвоено значение только одного параметра.  
  
###  <a name="executions-and-parameter-values"></a><a name="executions"></a> Выполнения и значения параметров  
 *Выполнение* — это объект, который представляет один экземпляр выполнения пакета. При создании выполнения задаются все данные, необходимые для выполнения пакета, например значения параметров выполнения. Можно также изменить значения параметров для текущих выполнений.  
  
 Если значение параметра для параметра выполнения задано явно, то к этому конкретному экземпляру выполнения будет применяться только это значение. Значение выполнения используется вместо значения сервера или значения проекта. Если не задано явно значение выполнения, но задано значение сервера, то используется значение сервера.  
  
 Если параметр отмечен как обязательный, то необходимо задать этому параметру значение сервера или значение выполнения. В противном случае соответствующий пакет не выполняется. Хотя параметр имеет значение по умолчанию во время разработки, оно никогда не будет использоваться после развертывания проекта.  
  
#### <a name="environment-variables"></a>Переменные среды  
 Если параметр ссылается на переменную среды, литеральное значение этой переменной разрешается посредством заданной ссылки на среду и применяется к параметру. Окончательное литеральное значение параметра, используемое при выполнении пакета, называется значением параметра выполнения. Указывайте ссылку на среду для выполнения с помощью диалогового окна **Выполнить**  
  
 Если параметр проекта ссылается на переменную среды и литеральное значение из переменной при выполнении процедуры не может быть разрешено, то используется значение проекта. Значение сервера не используется.  
  
 Чтобы просмотреть переменные среды, назначенные значениям параметра, запросите представление catalog.object_parameters. Дополнительные сведения см. в разделе [catalog.object_parameters (база данных SSISDB)](../integration-services/system-views/catalog-object-parameters-ssisdb-database.md).  
  
#### <a name="determining-execution-parameter-values"></a>Определение значений параметров выполнения  
 Для отображения и задания значений параметров можно использовать следующие представления и хранимые процедуры Transact-SQL.  
  
 [catalog.execution_parameter_values (база данных SSISDB)](../integration-services/system-views/catalog-execution-parameter-values-ssisdb-database.md)(представление)  
 Показывает фактические значения параметров в определенном выполнении.
  
 [catalog.get_parameter_values (база данных SSISDB)](../integration-services/system-stored-procedures/catalog-get-parameter-values-ssisdb-database.md) (хранимая процедура)  
 Разрешает и показывает фактические значения для заданного пакета и ссылки на среду.
  
 [catalog.object_parameters (база данных SSISDB)](../integration-services/system-views/catalog-object-parameters-ssisdb-database.md) (представление)  
 Отображает параметры и свойства для всех пакетов и проектов в каталоге [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] , включая значения по умолчанию проекта и значения по умолчанию сервера.  
  
 [catalog.set_execution_parameter_value (база данных SSISDB)](../integration-services/system-stored-procedures/catalog-set-execution-parameter-value-ssisdb-database.md)  
 Задает значение параметра для экземпляра выполнения в каталоге служб [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] .  
  
 Можно также использовать диалоговое окно **Выполнить пакет** в [!INCLUDE[ssBIDevStudioFull](../includes/ssbidevstudiofull-md.md)] , чтобы изменить значение параметра. Дополнительные сведения см. в разделе [Execute Package Dialog Box](../integration-services/packages/run-integration-services-ssis-packages.md#execute_package_dialog).  
  
 Также можно использовать параметр dtexec **/Parameter** для изменения значения параметра. Дополнительные сведения см. в статье [dtexec Utility](../integration-services/packages/dtexec-utility.md).  
  
### <a name="parameter-validation"></a>Проверка параметров  
 Если значения параметров не могут быть разрешены, выполнение соответствующего пакета завершится с ошибкой. Чтобы избежать ошибок, можно выполнить проверку проектов и пакетов с помощью диалогового окна **Проверка** в [!INCLUDE[ssBIDevStudioFull](../includes/ssbidevstudiofull-md.md)]. Проверка позволяет установить, имеют ли все параметры необходимые значения и могут ли необходимые значения быть разрешены с помощью определенных ссылок среды. Также проверка устанавливает наличие других часто встречающихся проблем пакетов.  
  
 Дополнительные сведения см. в разделе [Validate Dialog Box](./catalog/validate-dialog-box.md).  
  
### <a name="parameter-example"></a>Пример параметра  
 В этом примере описывается параметр с именем **pkgOptions** , используемый для задания параметров для пакета, в котором он расположен.  
  
 Во время разработки, при создании параметра в среде [!INCLUDE[ssBIDevStudio](../includes/ssbidevstudio-md.md)], ему было присвоено значение по умолчанию 1. Это значение по умолчанию называется значением по умолчанию проекта. Если проект развертывается в каталоге SSISDB, и данному параметру не было назначено других значений, то во время выполнения пакета его свойству, соответствующему параметру **pkgOptions** , будет присвоено значение 1. Значение по умолчанию проекта сохраняется в проекте на протяжении всего его жизненного цикла.  
  
 Во время подготовки определенного экземпляра выполнения пакета параметру **pkgOptions** присваивается значение 5. Это значение называется значением выполнения, поскольку оно применяется к параметру только в этом определенном экземпляре выполнения. При запуске выполнения свойству пакета, соответствующему параметру **pkgOptions** , присваивается значение 5.  
  
## <a name="create-parameters"></a>Создание параметров
В среде [!INCLUDE[ssBIDevStudioFull](../includes/ssbidevstudiofull-md.md)] можно создавать параметры проектов и пакетов. Следующие процедуры содержат пошаговые инструкции для создания параметров пакета (проекта).  
  
> **ПРИМЕЧАНИЕ.** Если выполняется преобразование проекта, созданного с помощью предыдущей версии служб [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)], в модель развертывания проекта, то для создания параметров на основе конфигураций можно запустить **Мастер преобразования проектов служб Integration Services**. Дополнительные сведения см. в разделе [Развертывание проектов и пакетов служб Integration Services (SSIS)](../integration-services/packages/deploy-integration-services-ssis-projects-and-packages.md).  
  
### <a name="create-package-parameters"></a>Создание параметров пакета  
  
1.  Откройте пакет в среде [!INCLUDE[ssBIDevStudio](../includes/ssbidevstudio-md.md)], а затем перейдите на вкладку **Параметры** в конструкторе служб SSIS.  
  
     ![Вкладка "Параметры пакета"](../integration-services/media/denali-package-parameters.gif "Вкладка "Параметры пакета"")  
  
2.  Нажмите кнопку **Добавить параметр** на панели инструментов.  
  
     ![Кнопка "Добавить панель инструментов"](../integration-services/media/denali-parameter-add.gif "Кнопка "Добавить панель инструментов"")  
  
3.  Введите значения для свойств **Имя**, **Тип данных**, **Значение**, **С учетом регистра**и **Обязательно** в сам список или в окно **Свойства** . В следующей таблице описываются эти свойства.  
  
    |Свойство|Описание|  
    |--------------|-----------------|  
    |Имя|Имя параметра.|  
    |Тип данных|Тип данных параметра.|  
    |Значение по умолчанию|Значение по умолчанию для параметра, назначаемое во время разработки. Оно также называется значением по умолчанию проекта.|  
    |Закрытые данные|Конфиденциальные значения параметров шифруются в каталоге и при просмотре с помощью Transact-SQL или в среде SQL Server Management Studio отображаются как значения NULL.|  
    |Обязательно|Требует указать значение, отличное от значения по умолчанию проекта, перед выполнением пакета.|  
    |Description|Для удобства обслуживания — описание параметра. В среде [!INCLUDE[ssBIDevStudioFull](../includes/ssbidevstudiofull-md.md)]задайте описание параметра в окне свойств среды Visual Studio, когда параметр выделен в соответствующем окне параметров.|  
  
    > **ПРИМЕЧАНИЕ.** При развертывании проекта в каталоге с ним будут связаны еще несколько свойств. Чтобы просмотреть все свойства для всех параметров в каталоге, используйте представление [catalog.object_parameters (база данных SSISDB)](../integration-services/system-views/catalog-object-parameters-ssisdb-database.md).  
  
4.  Сохраните проект для сохранения изменений, внесенных в параметры. Значения параметров хранятся в файле проекта.  
  
    > **ПРЕДУПРЕЖДЕНИЕ!!** Можно изменять список на месте или в окне **Свойства** изменить значения свойств параметра. Можно удалить параметр, нажав кнопку **Удалить (X)** на панели инструментов. С помощью последней кнопки на панели инструментов можно указать значение параметра, которое будет использоваться только при выполнении пакета в среде [!INCLUDE[ssBIDevStudio](../includes/ssbidevstudio-md.md)].  
  
    > **ПРИМЕЧАНИЕ.** Если повторно открыть файл пакета, не открыв при этом проект в среде [!INCLUDE[ssBIDevStudio](../includes/ssbidevstudio-md.md)], вкладка **Параметры** будет пустой и неактивной.  
  
### <a name="create-project-parameters"></a>Создание параметров проекта  
  
1.  Откройте проект в службах [!INCLUDE[ssBIDevStudio](../includes/ssbidevstudio-md.md)].  
  
2.  В обозревателе решений щелкните правой кнопкой мыши **Project.params** и выберите команду **Открыть** или дважды щелкните файл **Project.params** , чтобы открыть его.  
  
     ![Окно параметров проекта](../integration-services/media/denali-project-parameters.gif "Окно параметров проекта")  
  
3.  Нажмите кнопку **Добавить параметр** на панели инструментов.  
  
     ![Кнопка "Добавить панель инструментов"](../integration-services/media/denali-parameter-add.gif "Кнопка "Добавить панель инструментов"")  
  
4.  Введите значения для свойств **Имя**, **Тип данных**, **Значение**, **С учетом регистра**и **Обязательно** .  
  
    |Свойство|Описание|  
    |--------------|-----------------|  
    |Имя|Имя параметра.|  
    |Тип данных|Тип данных параметра.|  
    |Значение по умолчанию|Значение по умолчанию для параметра, назначаемое во время разработки. Оно также называется значением по умолчанию проекта.|  
    |Закрытые данные|Конфиденциальные значения параметров шифруются в каталоге и при просмотре с помощью Transact-SQL или в среде SQL Server Management Studio отображаются как значения NULL.|  
    |Обязательно|Требует указать значение, отличное от значения по умолчанию проекта, перед выполнением пакета.|  
    |Description|Для удобства обслуживания — описание параметра. В среде [!INCLUDE[ssBIDevStudio](../includes/ssbidevstudio-md.md)]задайте описание параметра в окне свойств среды Visual Studio, когда параметр выделен в соответствующем окне параметров.|  
  
5.  Сохраните проект для сохранения изменений, внесенных в параметры. Значения параметров хранятся в конфигурации в файле проекта. Сохраните файл проекта для фиксации на диске любых изменений в значениях параметров.  
  
    > **ПРЕДУПРЕЖДЕНИЕ!!!** Можно изменять список на месте или в окне **Свойства** изменить значения свойств параметра. Можно удалить параметр, нажав кнопку **Удалить (X)** на панели инструментов. Воспользуйтесь последней кнопкой на панели инструментов для открытия диалогового окна **Управление значениями параметров** и указания значения параметра, которое будет использоваться только при выполнении пакета в среде [!INCLUDE[ssBIDevStudio](../includes/ssbidevstudio-md.md)].  
    
## <a name="parameterize-dialog-box"></a>Parameterize Dialog Box
Диалоговое окно **Параметризация** позволяет связать новый или существующий параметр со свойством задачи. Чтобы открыть это диалоговое окно, щелкните правой кнопкой мыши задачу или вкладку «Поток управления» в конструкторе служб [!INCLUDE[ssIS](../includes/ssis-md.md)] и выберите команду **Параметризация**. Следующий список описывает элементы пользовательского интерфейса в диалоговом окне. Дополнительные сведения о параметрах см. в разделе [Параметры служб Integration Services (SSIS)]().
  
### <a name="options"></a>Параметры  
 **Свойство**  
 Выберите свойство задачи, которую нужно связать с параметром. Этот список заполняется всеми свойствами, которые могут быть параметризированы.  
  
 **Использовать существующий параметр**  
 Выберите этот параметр для связывания свойства задачи с существующим параметром, а затем выберите параметр из раскрывающегося списка.  
  
 **Не использовать параметр**  
 Выберите этот параметр для удаления ссылки на параметр. Параметр не удаляется.  
  
 **Создать новый параметр**  
 Выберите этот параметр для создания нового параметра, который необходимо связать со свойством задачи.  
  
 **Название**  
 Задайте имя создаваемого параметра.  
  
 **Описание**  
 Задайте описание параметра.  
  
 **Value**  
 Задайте значение параметра по умолчанию. Оно также называется значением по умолчанию проекта, которое может быть переопределено позднее во время развертывания.  
  
 **Область действия**  
 Укажите область действия параметра, выбрав или параметр **Проект** , или параметр **Пакет** . Параметры проекта используются для предоставления любых внешних данных, получаемых проектом, одному пакету в проекте или более. Параметры пакета позволяют изменить выполнение пакета. При этом изменять пакет и развертывать его повторно не придется.  
  
 **С учетом регистра**  
 Установив или сняв флажок, определите конфиденциальность параметра. Конфиденциальные значения параметров шифруются в каталоге и при просмотре с помощью Transact-SQL или в среде SQL Server Management Studio отображаются как значения NULL.  
  
 **Обязательно**  
 Укажите, необходимо ли задавать параметру значение, отличное от значения по умолчанию проекта, перед выполнением пакета.  
 
## <a name="set-parameter-values-after-the-project-is-deployed"></a>Настройка значений параметров после развертывания проекта
Мастер развертывания позволяет задавать значения параметров по умолчанию сервера при развертывании проекта в каталог. После развертывания проекта в каталог задать значения по умолчанию сервера можно будет с помощью обозревателя объектов среды SQL Server Management Studio (SSMS) или Transact-SQL.  
  
### <a name="set-server-defaults-with-ssms-object-explorer"></a>Настройка параметров сервера по умолчанию с помощью обозревателя объектов SSMS  
  
1.  Выберите и щелкните правой кнопкой мыши проект в узле **Службы Integration Services** .  
  
2.  Выберите пункт **Свойства** , чтобы открыть диалоговое окно **Свойства проекта** .  
  
3.  Откройте страницу «Параметры», нажав кнопку **Параметры** в разделе **Выбор страницы**.  
  
4.  Выберите нужный параметр в списке **Параметры** . Примечание. Столбец **Контейнер** помогает отличить параметры проекта от параметров пакета.  
  
5.  В столбце **Значение** укажите необходимое значение параметра по умолчанию сервера.  

### <a name="set-server-defaults-with-transact-sql"></a>Настройка параметров сервера по умолчанию с помощью Transact-SQL  
 Чтобы установить параметры по умолчанию сервера с использованием Transact-SQL, используйте хранимую процедуру [catalog.set_object_parameter_value (база данных SSISDB)](../integration-services/system-stored-procedures/catalog-set-object-parameter-value-ssisdb-database.md). Для просмотра текущих значений по умолчанию сервера используйте запрос к представлению [catalog.object_parameters (база данных SSISDB)](../integration-services/system-views/catalog-object-parameters-ssisdb-database.md). Чтобы удалить значение по умолчанию сервера, используйте хранимую процедуру, используйте хранимую процедуру [catalog.clear_object_parameter_value (база данных SSISDB)](../integration-services/system-stored-procedures/catalog-clear-object-parameter-value-ssisdb-database.md).  
  
## <a name="related-content"></a>См. также  
 Запись в блоге [SSIS Quick Tip: Required Parameters](https://go.microsoft.com/fwlink/?LinkId=239781)(Краткая рекомендация по службам SSIS. Необходимые параметры) на mattmasson.com.  
  
