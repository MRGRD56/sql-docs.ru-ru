---
description: Занятие 5-2. Активация и настройка конфигураций пакетов
title: Шаг 2. Активация и настройка конфигураций пакетов | Документация Майкрософт
ms.custom: ''
ms.date: 01/08/2019
ms.prod: sql
ms.prod_service: integration-services
ms.reviewer: ''
ms.technology: integration-services
ms.topic: tutorial
ms.assetid: 005218ab-8dd5-48e9-a185-6bc60cd43a7a
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 7237d7356ffb97861779c4d5427fd4fb05083695
ms.sourcegitcommit: c5078791a07330a87a92abb19b791e950672e198
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/26/2020
ms.locfileid: "88345330"
---
# <a name="lesson-5-2-enable-and-configure-package-configurations"></a>Занятие 5-2. Активация и настройка конфигураций пакетов

[!INCLUDE[sqlserver-ssis](../includes/applies-to-version/sqlserver-ssis.md)]



В этой задаче вы преобразуете проект в модель развертывания пакета и включите конфигурации пакетов с помощью мастера настройки пакета. Этот мастер будет использоваться для создания XML-файла конфигурации, который содержит параметры конфигурации для свойства **Каталог** контейнера "Цикл ForEach". Значение свойства **Каталог** содержится в новой переменной уровня пакета, обновлять которую можно в ходе выполнения. Кроме того, вы заполните новую папку с образцами данных в целях тестирования.  
  
## <a name="create-a-package-level-variable-mapped-to-the-directory-property"></a>Создание переменной уровня пакета, сопоставленной со свойством Directory  
  
1.  Выберите фон вкладки **Поток управления** в конструкторе служб [!INCLUDE[ssIS](../includes/ssis-md.md)]. Таким образом устанавливается область действия переменной, которая создается для пакета.  
  
2.  В меню служб [!INCLUDE[ssIS](../includes/ssis-md.md)] выберите пункт **Переменные**.  
  
3.  В окне **Переменные** щелкните значок **Добавить переменную**.  
  
4.  В поле **Имя** введите **varFolderName**.  
  
    > [!IMPORTANT]  
    > В именах переменных учитывается регистр букв.  
  
5.  Убедитесь в том, что в поле **Область** отображается имя пакета (**Занятие 5**).  
  
6.  В поле **Тип данных** переменной `varFolderName` установите значение **String**.  
  
7.  Вернитесь на вкладку **Поток управления** и дважды щелкните контейнер **Цикл по каждому файлу в папке** .  
  
8.  На странице **Коллекция** окна **Редактор циклов по каждому элементу** щелкните **Выражения** и нажмите кнопку с многоточием **(…)**.  
  
9. В списке **Свойство** окна **Редактор выражений свойств** выберите элемент **Каталог**.  
  
10. В поле **Выражение** нажмите кнопку с многоточием **(…)**.  
  
11. В **построителе выражений** разверните папку **Переменные и параметры** и перетащите переменную **User::varFolderName** в поле **Выражение**.  
  
12. Нажмите кнопку **ОК** для выхода из **построителя выражений**.  
  
13. Нажмите кнопку **ОК**, чтобы закрыть окно **Редактор выражений свойств**.  
  
14. Нажмите кнопку **ОК**, чтобы закрыть **редактор циклов по каждому элементу**.  
  
## <a name="enable-package-configurations"></a>Включить конфигурацию пакетов  
  
1.  В меню **Проект** выберите пункт **Преобразовать в модель развертывания пакета**.  
  
2.  Нажмите кнопку **ОК** в окне предупреждения и после завершения преобразования нажмите кнопку **ОК** в диалоговом окне **Преобразование в модель развертывания пакета**.  
  
3.  Выберите фон вкладки **Поток управления** в конструкторе служб [!INCLUDE[ssIS](../includes/ssis-md.md)].  
  
4.  В меню **Службы SSIS** выберите команду **Конфигурации пакетов**.  
  
5.  В диалоговом окне **Организатор конфигураций пакетов** выберите **Включить конфигурации пакетов** и нажмите кнопку **Добавить**.  
  
6.  На странице приветствия **мастера настройки пакета** нажмите кнопку **Далее**.  
  
7.  Убедитесь в том, что на странице **Выбор типа конфигурации** свойство **Тип конфигурации** имеет значение **XML-файл конфигурации**.  
  
8.  На странице **Выбор типа конфигурации** нажмите кнопку **Обзор**.  
  
9. В диалоговом окне **Выберите расположение файла конфигурации** откроется папка проекта.  
  
10. В диалоговом окне **Выберите расположение файла конфигурации** в поле **Имя файла** введите **SSISTutorial** и нажмите кнопку **Сохранить**.  
  
11. На странице **Выбор типа конфигурации** нажмите кнопку **Далее**.
  
12. В области **Объекты** страницы **Выбор свойств для экспорта** разверните узел **Переменные**, затем разверните **varFolderName**, **Свойства** и выберите элемент **Значение**.  
  
13. На странице **Выбор свойств для экспорта** нажмите кнопку **Далее**.  
  
14. На странице **Завершение работы мастера** введите имя конфигурации, например **Конфигурация свойства "Каталог" для учебника по службам SSIS**. Это имя будет отображаться в диалоговом окне **Организатор конфигураций пакетов**.  
  
15. Нажмите кнопку **Готово**.  
  
16. Выберите **Закрыть**.  
  
17. Мастер создаст файл конфигурации с именем **SSISTutorial.dtsConfig**, в котором содержатся параметры конфигурации для **значения** переменной, задающей свойство **Каталог** перечислителя.  
  
    > [!NOTE]  
    > Файл конфигурации обычно содержит множество данных о свойствах пакета, но в этом учебнике будут использованы только следующие сведения о конфигурации:

    ```
    <Configuration 
        ConfiguredType="Property"  
        Path="\Package.Variables[User::varFolderName].Properties[Value]" 
        ValueType="String">  
      <ConfiguredValue></ConfiguredValue>  
    </Configuration>
    ```
  
## <a name="create-and-populate-a-new-sample-data-folder"></a>Создание и заполнение новой папки с образцами данных  
  
1.  В проводнике в корневом каталоге диска (например, **C:\\**) создайте папку с именем **Новый образец данных**.  
  
2.  Найдите образцы файлов на вашем компьютере и скопируйте три файла из папки.  
  
3.  Вставьте скопированные файлы в папку **Новый образец данных** .  
  
## <a name="go-to-next-task"></a>Переход к следующей задаче  
[Шаг 3. Изменение значения конфигурации свойства "Каталог"](../integration-services/lesson-5-3-modifying-the-directory-property-configuration-value.md)  
  
