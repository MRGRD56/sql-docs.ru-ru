---
description: Задача «Передача объектов SQL Server»
title: Задача "Передача объектов SQL Server" | Документы Майкрософт
ms.custom: ''
ms.date: 03/14/2017
ms.prod: sql
ms.prod_service: integration-services
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
f1_keywords:
- sql13.dts.designer.transfersqlserverobjectstask.f1
- sql13.dts.designer.transfersqlserverobjects.general.f1
- sql13.dts.designer.transfersqlserverobjects.objects.f1
helpviewer_keywords:
- Transfer SQL Server Objects task [Integration Services]
ms.assetid: fe86d6e5-e415-406c-88f3-dc3ef71bd5f0
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 7162d2eb4c718330fb3fec38dceddc4f0bf8e04e
ms.sourcegitcommit: cfa04a73b26312bf18d8f6296891679166e2754d
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/19/2020
ms.locfileid: "92192774"
---
# <a name="transfer-sql-server-objects-task"></a>Задача «Передача объектов SQL Server»

[!INCLUDE[sqlserver-ssis](../../includes/applies-to-version/sqlserver-ssis.md)]


  Задача передачи объектов [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] производит перемещение одного или нескольких типов объектов базы данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] между экземплярами [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Например, с помощью этой задачи можно выполнить копирование таблиц и хранимых процедур. В зависимости от версии [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , являющейся источником копирования, можно копировать различные типы объектов. Например, схемы и пользовательские статистические функции содержатся только в базе данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .  
  
## <a name="objects-to-transfer"></a>Переносимые объекты  
 Можно копировать роли сервера, роли и пользователей, а также разрешения на переносимые объекты. Копирование объектов вместе со связанными с ними пользователями, ролями и разрешениями позволяет сделать объекты работоспособными непосредственно после передачи на целевой сервер.  
  
 В следующей таблице перечислены типы объектов, которые могут быть скопированы.  
  
|Объект|  
|------------|  
|Таблицы|  
|Представления|  
|Хранимые процедуры|  
|Определяемые пользователем функции|  
|Умолчания;|  
|Определяемые пользователем типы данных|  
|Функции секционирования|  
|Схемы секционирования|  
|Схемы|  
|Сборки|  
|Определяемые пользователем статистические функции|  
|Определяемые пользователем типы|  
|Коллекция схем XML|  
  
 Определяемые пользователем типы, которые были созданы в экземпляре [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , имеют зависимости от сборок CLR. Поэтому при их переносе в задачу «передача данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] » необходимо сконфигурировать так, чтобы объекты передавались вместе с зависимыми объектами. Для переноса зависимых объектов присвойте параметру **IncludeDependentObjects** значение **True**.  
  
### <a name="table-options"></a>Параметры таблиц  
 При копировании таблиц можно включить в процесс копирования также и типы элементов, относящихся к таблицам. Вместе со связанной таблицей могут копироваться следующие типы элементов:  
  
-   Индексы  
  
-   Триггеры  
  
-   Полнотекстовые индексы  
  
-   Первичные ключи  
  
-   Внешние ключи;  
  
 Можно также указать, сохраняется ли создаваемый задачей скрипт в формате Юникод.  
  
## <a name="destination-options"></a>Целевые параметры  
 Задачу передачи объектов [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] можно настроить для включения в процесс передачи имен схем, данных, расширенных свойств объектов, а также зависимых объектов. Копируемые данные могут замещать существующие или добавляться к ним.  
  
 Некоторые параметры относятся только к [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Например, схемы поддерживаются только в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .  
  
## <a name="security-options"></a>Параметры безопасности  
 Задача "Передача объектов [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] " может включать пользователей и роли из источника уровня базы данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , имена входа [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] и разрешения на передаваемые объекты. Например, в передачу можно включить разрешения на передаваемые таблицы.  
  
## <a name="transfer-objects-between-instances-of-sql-server"></a>Передача объектов между экземплярами сервера SQL Server  
 Задача передачи объектов [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] поддерживает [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] в качестве источника и места назначения.  
  
## <a name="events"></a>События  
 Задача инициирует информационное событие, оповещающее об окончании передачи, а также событие предупреждения, которое возникает при перезаписи объекта. Кроме того, информационное событие инициируется также при выполнении таких действий, как усечение таблиц базы данных.  
  
 Задача передачи объектов [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] не сообщает о ходе выполнения передачи, сигнализируя только о 0 % и 100 % готовности.  
  
## <a name="execution-value"></a>Значение выполнения  
 Значение выполнения, определяемое свойством **ExecutionValue** задачи, возвращает число перенесенных объектов. При присвоении свойству **ExecValueVariable** задачи "Передача объектов SQL Server" пользовательской переменной сведения о передаче объектов можно сделать доступными для других объектов пакета. Дополнительные сведения см. в разделах [Переменные в службах Integration Services (SSIS)](../../integration-services/integration-services-ssis-variables.md) и [Использование переменных в пакетах](../integration-services-ssis-variables.md).  
  
## <a name="log-entries"></a>Записи журнала  
 Задача «Передача объектов SQL Server» включает следующие записи журнала:  
  
-   TransferSqlServerObjectsTaskStartTransferringObjects. Эта запись журнала указывает, что была начата передача данных. В записях журнала указывается время запуска.  
  
-   TransferSqlServerObjectsTaskStarTransferringObjects. Эта запись журнала указывает на завершение передачи данных. В записях журнала указывается время завершения.  
  
 Кроме того, запись журнала для события **OnInformation** указывает, сколько объектов определенных типов были выбраны для передачи, сколько объектов было передано, а также сколько произведено усечений таблиц при передаче таблиц с данными. Запись журнала для события **OnWarning** создается при каждой перезаписи целевого объекта.  
  
## <a name="security-and-permissions"></a>Безопасность и разрешения  
 Пользователь должен иметь разрешения на просмотр объектов на исходном сервере, а также разрешения на удаление и создание объектов на целевом сервере; кроме того, он должен иметь доступ к указанной базе данных и объектам в ней.  
  
## <a name="configuration-of-the-transfer-sql-server-objects-task"></a>Настройка задачи «Передача объектов SQL Server»  
 Задача передачи объектов [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] может быть настроена для передачи всех объектов, всех объектов определенного типа или только указанных объектов определенного типа. Например, можно выбрать копирование только указанных таблиц из базы данных AdventureWorks.  
  
 Если задача передачи объектов [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] производит передачу таблиц, можно указать типы связанных с таблицами объектов, которые будут передаваться вместе с ними. Например, можно указать, чтобы вместе с таблицами копировались первичные ключи.  
  
 Для расширения функциональности передаваемых объектов можно для задачи передачи объектов [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] включить в процесс передачи имена схем, данных, расширенные свойства объектов, а также передачу зависимых объектов. При копировании данных можно указать, следует ли заменить существующие данные или добавить к ним новые.  
  
 При своем выполнении задача передачи объектов [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] подключается к серверам-источникам и целевым серверам при помощи двух диспетчеров соединений SMO. Последние настраиваются отдельно от задачи передачи объектов [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , а затем в задаче передачи объектов [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] даются на них ссылки. Диспетчеры соединений SMO определяют сервер и режим проверки подлинности, используемый для доступа к серверу. Дополнительные сведения см. в статье [SMO Connection Manager](../../integration-services/connection-manager/smo-connection-manager.md).  
  
 Значения свойств можно задавать с помощью конструктора [!INCLUDE[ssIS](../../includes/ssis-md.md)] или программными средствами.  
  
 Дополнительные сведения о свойствах, которые можно задать в конструкторе служб [!INCLUDE[ssIS](../../includes/ssis-md.md)] , см. в следующем разделе:  
  
-   [Страница «Выражения»](../../integration-services/expressions/expressions-page.md)  
  
 Дополнительные сведения об установке этих свойств в конструкторе служб [!INCLUDE[ssIS](../../includes/ssis-md.md)] см. в следующем разделе:  
  
-   [Задание свойств задач или контейнеров](./add-or-delete-a-task-or-a-container-in-a-control-flow.md)  
  
## <a name="programmatic-configuration-of-the-transfer-sql-server-objects-task"></a>Настройка задачи «Передача объектов SQL Server» программными средствами  
 Дополнительные сведения об установке этих свойств программными средствами см. в следующем разделе.  
  
-   <xref:Microsoft.SqlServer.Dts.Tasks.TransferSqlServerObjectsTask.TransferSqlServerObjectsTask>  
  
  
## <a name="transfer-sql-server-objects-task-editor-general-page"></a>Редактор задачи «Передача объектов SQL Server» (страница «Общие»)
  На странице **Общие** диалогового окна **Редактор задачи «Передача объектов SQL Server»** можно задать имя и описание задачи «Передача объектов [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ».  
  
> [!NOTE]  
>  Пользователь, создающий задачу "Передача объектов [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ", должен иметь необходимые разрешения на исходные объекты сервера, чтобы выбирать их для копирования, а также разрешения на доступ к базе данных целевого сервера, куда будут передаваться объекты.  
  
### <a name="options"></a>Параметры  
 **Название**  
 Введите уникальное имя задачи «Передача объектов [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ». Это имя используется в качестве метки для значка задачи.  
  
> [!NOTE]  
>  Имена задач в пределах пакета должны быть уникальными.  
  
 **Описание**  
 Введите описание для задачи «Передача объектов [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ».  
  
## <a name="transfer-sql-server-objects-task-editor-objects-page"></a>Редактор задачи «Передача объектов SQL Server» (страница «Объекты» )
  Страница **Объекты** диалогового окна **Редактор задачи «Передача объектов SQL Server»** используется для задания свойств копирования одного или нескольких объектов [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] из одного экземпляра [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] на другой. Примерами объектов [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , которые можно копировать, являются таблицы, представления, хранимые процедуры и функции, определяемые пользователем.  
  
> [!NOTE]  
>  Пользователь, создающий задачу "Передача объектов [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ", должен обладать достаточными разрешениями на объекты исходного сервера, чтобы выбирать их для копирования, а также разрешением на доступ к базе данных целевого сервера, куда объекты будут перенесены.  
  
### <a name="static-options"></a>Статические параметры  
 **SourceConnection**  
 Выберите из списка диспетчер подключений SMO или нажмите кнопку **\<New connection...>** , чтобы создать новое подключение к исходному серверу.  
  
 **SourceDatabase**  
 Выберите базу данных на исходном сервере, из которой будут копироваться объекты.  
  
 **DestinationConnection**  
 Выберите из списка диспетчер подключений SMO или нажмите кнопку **\<New connection...>** , чтобы создать новое подключение к целевому серверу.  
  
 **DestinationDatabase**  
 Выберите базу данных на целевом сервере, в которую будут копироваться объекты.  
  
 **DropObjectsFirst**  
 Выберите, будут ли выбранные объекты удаляться на целевом сервере перед копированием.  
  
 **IncludeExtendedProperties**  
 Выберите, будут ли включаться расширенные свойства при копировании объектов с исходного сервера на целевой сервер.  
  
 **CopyData**  
 Выберите, будут ли включаться данные при копировании объектов с исходного сервера на целевой сервер.  
  
 **ExistingData**  
 Позволяет указать, как данные будут копироваться на целевой сервер. Параметры этого свойства приведены в следующей таблице.  
  
|Значение|Description|  
|-----------|-----------------|  
|**Заменить**|Данные на целевом сервере будут перезаписаны.|  
|**Append**|Данные, копируемые с исходного сервера, будут присоединяться к существующим данным на целевом сервере.|  
  
> [!NOTE]  
>  Параметр **ExistingData** доступен только в случае, когда значение **CopyData** равно **True**.  
  
 **CopySchema**  
 Выберите, будет ли копироваться схема в процессе выполнения задачи "Передача объектов [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ".  
  
> [!NOTE]  
>  **CopySchema** доступен только в версии [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].  
  
 **UseCollation**  
 Выберите, будут ли при передаче объектов включаться параметры сортировки, заданные на исходном сервере.  
  
 **IncludeDependentObjects**  
 Выберите, будут ли при копировании выбранных объектов каскадно включаться другие зависимые от них объекты.  
  
 **CopyAllObjects**  
 Выберите, будут ли при выполнении задачи копироваться все объекты заданной базы данных-источника или только выбранные.  Установка значения этого параметра в False позволяет выбирать объекты для передачи и приводит к отображению динамических параметров этого раздела **CopyAllObjects**.  
  
 **ObjectsToCopy**  
 Раскройте список **ObjectsToCopy** , чтобы указать объекты, которые следует копировать из базы данных-источника в целевую базу.  
  
> [!NOTE]  
>  **ObjectsToCopy** доступен только в случае, если значение **CopyAllObjects** равно **False**.  
  
 Параметры копирования следующих типов объектов поддерживаются только в версии [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]:  
  
 Сборки  
  
 функции секционирования  
  
 схемы секционирования;  
  
 Схемы  
  
 определяемые пользователем агрегатные функции;  
  
 Определяемые пользователем типы  
  
 коллекции XML-схем  
  
 **CopyDatabaseUsers**  
 Укажите, следует ли включать в передачу пользователей базы данных.  
  
 **CopyDatabaseRoles**  
 Укажите, следует ли включать в передачу роли базы данных.  
  
 **CopySqlServerLogins**  
 Укажите, следует ли включать в передачу имена входа [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] .  
  
 **CopyObjectLevelPermissions**  
 Укажите, следует ли включать в передачу разрешения уровня объекта.  
  
 **CopyIndexes**  
 Укажите, следует ли включать в передачу индексы.  
  
 **CopyTriggers**  
 Укажите, следует ли включать в передачу триггеры.  
  
 **CopyFullTextIndexes**  
 Укажите, следует ли включать в передачу полнотекстовые индексы.  
  
 **CopyPrimaryKeys**  
 Укажите, следует ли включать в передачу первичные ключи.  
  
 **CopyForeignKeys**  
 Укажите, следует ли включать в передачу внешние ключи.  
  
 **GenerateScriptsInUnicode**  
 Укажите, имеют ли сформированные скрипты передачи формат Юникода.  
  
### <a name="dynamic-options"></a>Динамические параметры  
  
#### <a name="copyallobjects--false"></a>CopyAllObjects = False  
 **CopyAllTables**  
 Выберите, будут ли при выполнении задачи копироваться все таблицы заданной базы данных-источника или только выбранные.  
  
 **TablesList**  
 Выберите этот пункт, чтобы открыть диалоговое окно **Выбор таблиц** .  
  
 **CopyAllViews**  
 Выберите, будут ли при выполнении задачи копироваться все представления из заданной базы данных-источника или только выбранные.  
  
 **ViewsList**  
 Выберите этот пункт, чтобы открыть диалоговое окно **Выбор представлений** .  
  
 **CopyAllStoredProcedures**  
 Выберите, будут ли при выполнении задачи копироваться все пользовательские хранимые процедуры из заданной базы данных-источника или только выбранные.  
  
 **StoredProceduresList**  
 Выберите этот пункт, чтобы открыть диалоговое окно **Выбор хранимых процедур** .  
  
 **CopyAllUserDefinedFunctions**  
 Выберите, будут ли при выполнении задачи копироваться все определяемые пользователем функции из заданной базы данных-источника или только выбранные.  
  
 **UserDefinedFunctionsList**  
 Выберите этот пункт, чтобы открыть диалоговое окно **Выбор определяемых пользователем функций** .  
  
 **CopyAllDefaults**  
 Выберите, будут ли при выполнении задачи копироваться все установленные по умолчанию значения из заданной базы данных-источника или только выбранные.  
  
 **DefaultsList**  
 Выберите этот пункт, чтобы открыть диалоговое окно **Выбор значений по умолчанию** .  
  
 **CopyAllUserDefinedDataTypes**  
 Выберите, будут ли при выполнении задачи копироваться все пользовательские типы данных из заданной базы данных-источника или только выбранные.  
  
 **UserDefinedDataTypesList**  
 Выберите этот пункт, чтобы открыть диалоговое окно **Выбор определяемых пользователем типов данных** .  
  
 **CopyAllPartitionFunctions**  
 Выберите, будут ли при выполнении задачи копироваться все пользовательские функции секционирования из заданной базы данных-источника или только выбранные. Поддерживается только в версии [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].  
  
 **PartitionFunctionsList**  
 Выберите этот пункт, чтобы открыть диалоговое окно **Выбор функций секционирования** .  
  
 **CopyAllPartitionSchemes**  
 Выберите, будут ли при выполнении задачи копироваться все схемы секционирования из заданной базы данных-источника или только выбранные. Поддерживается только в версии [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].  
  
 **PartitionSchemesList**  
 Выберите этот пункт, чтобы открыть диалоговое окно **Выбор схем секционирования** .  
  
 **CopyAllSchemas**  
 Выберите, будут ли при выполнении задачи копироваться все схемы из заданной базы данных-источника или только выбранные. Поддерживается только в версии [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].  
  
 **SchemasList**  
 Выберите этот пункт, чтобы открыть диалоговое окно **Выбор схем** .  
  
 **CopyAllSqlAssemblies**  
 Выберите, будут ли при выполнении задачи копироваться все сборки SQL из заданной базы данных-источника или только выбранные. Поддерживается только в версии [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].  
  
 **SqlAssembliesList**  
 Выберите этот пункт, чтобы открыть диалоговое окно **Выбор сборок SQL** .  
  
 **CopyAllUserDefinedAggregates**  
 Выберите, будут ли при выполнении задачи копироваться все пользовательские агрегатные функции из заданной базы данных-источника или только выбранные. Поддерживается только в версии [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].  
  
 **UserDefinedAggregatesList**  
 Выберите этот пункт, чтобы открыть диалоговое окно **Выбор определяемых пользователем статистических выражений** .  
  
 **CopyAllUserDefinedTypes**  
 Выберите, будут ли при выполнении задачи копироваться все определяемые пользователем типы из заданной базы данных-источника или только выбранные. Поддерживается только в версии [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].  
  
 **UserDefinedTypes**  
 Выберите этот пункт, чтобы открыть диалоговое окно **Выбор определяемых пользователем типов** .  
  
 **CopyAllXmlSchemaCollections**  
 Выберите, будут ли при выполнении задачи копироваться все коллекции XML-схем из заданной базы данных-источника или только выбранные. Поддерживается только в версии [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].  
  
 **XmlSchemaCollectionsList**  
 Выберите этот пункт, чтобы открыть диалоговое окно **Выбрать коллекции XML-схем** .  
  
## <a name="see-also"></a>См. также:  
 [Справочник по сообщениям об ошибках служб Integration Services](../../integration-services/integration-services-error-and-message-reference.md)   
 [Задачи служб Integration Services](../../integration-services/control-flow/integration-services-tasks.md)   
 [Редактор задачи "Передача объектов SQL Server" (страница "Общие")]()   
 [Страница «Выражения»](../../integration-services/expressions/expressions-page.md)   
 [Форматы данных для массового экспорта или импорта (SQL Server)](../../relational-databases/import-export/data-formats-for-bulk-import-or-bulk-export-sql-server.md)   
 [Вопросы безопасности при установке SQL Server](../../sql-server/install/security-considerations-for-a-sql-server-installation.md)