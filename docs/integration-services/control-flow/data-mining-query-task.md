---
description: Задача «Запрос интеллектуального анализа данных»
title: Задача "Запрос интеллектуального анализа данных" | Документы Майкрософт
ms.custom: ''
ms.date: 03/14/2017
ms.prod: sql
ms.prod_service: integration-services
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
f1_keywords:
- sql13.dts.designer.dataminingquerytask.f1
- sql13.dts.designer.dmquerytask.miningmodel.f1
- sql13.dts.designer.dmquerytask.query.f1
- sql13.dts.designer.dmquerytask.output.f1
helpviewer_keywords:
- prediction queries [Integration Services]
- Data Mining Query task [Integration Services]
ms.assetid: f489348c-2008-4f66-8c2c-c07c3029439a
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 1af5f497be96f5c8b9808878aea9e5275c77ddf7
ms.sourcegitcommit: c7f40918dc3ecdb0ed2ef5c237a3996cb4cd268d
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/05/2020
ms.locfileid: "91727614"
---
# <a name="data-mining-query-task"></a>Задача «Запрос интеллектуального анализа данных»

[!INCLUDE[sqlserver-ssis](../../includes/applies-to-version/sqlserver-ssis.md)]


  Задача «Запрос интеллектуального анализа данных» запускает прогнозирующие запросы, основанных на моделях интеллектуального анализа данных, встроенных в службы [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)]. Прогнозирующий запрос создает прогноз для новых данных с использованием моделей интеллектуального анализа данных. Например, прогнозирующий запрос может предсказать, сколько яхт может быть продано в летние месяцы, или сформировать список предполагаемых клиентов, которые могут купить яхту.  
  
 [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] предоставляют задачи, выполняющие другие операции бизнес-аналитики, например выполнение инструкций языка DDL и обработки аналитических объектов.  
  
 Дополнительные сведения о задачах бизнес-аналитики см. в следующих разделах:  
  
-   [Задача «Выполнение инструкции DDL служб Analysis Services»](../../integration-services/control-flow/analysis-services-execute-ddl-task.md)  
  
-   [Задача «Обработка средствами Analysis Services»](../../integration-services/control-flow/analysis-services-processing-task.md)  
  
## <a name="prediction-queries"></a>Прогнозирующие запросы  
 Такой запрос является инструкцией расширения интеллектуального анализа данных. Язык расширения интеллектуального анализа данных — это расширение языка SQL для поддержки работы с моделями интеллектуального анализа данных. Дополнительные сведения об использовании языка расширений интеллектуального анализа данных см. в разделе [Справочник по расширениям интеллектуального анализа данных](../../dmx/data-mining-extensions-dmx-reference.md).  
  
 Задача может запрашивать несколько моделей интеллектуального анализа данных, построенных в одной структуре интеллектуального анализа данных. Модель интеллектуального анализа данных строится при помощи одного из алгоритмов интеллектуального анализа данных, предоставляемых службами [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] . Структура интеллектуального анализа данных, к которой обращается задача «Запрос интеллектуального анализа данных», может включать в себя несколько моделей интеллектуального анализа данных, построенных на основе разных алгоритмов. Дополнительные сведения см. в разделах [Структуры интеллектуального анализа данных (службы Analysis Services — интеллектуальный анализ данных)](/analysis-services/data-mining/mining-structures-analysis-services-data-mining) и [Алгоритмы интеллектуального анализа данных (службы Analysis Services — интеллектуальный анализ данных)](/analysis-services/data-mining/data-mining-algorithms-analysis-services-data-mining).  
  
 Прогнозирующий запрос, запускаемый задачей «Запрос интеллектуального анализа данных», возвращает результат в виде одной строки или набора данных. Запрос, возвращающий одну строку, называется одноэлементным запросом: например, запрос, предсказывающий, сколько лодок будет продано в летние месяцы, возвращает одно число. Дополнительные сведения о запросах прогнозов, возвращающих одну строку, см. в разделе [Средства запросов интеллектуального анализа данных](/analysis-services/data-mining/data-mining-query-tools).  
  
 Результаты запроса сохраняются в таблицах. Если таблица с именем, указанным в задаче «Запрос интеллектуального анализа данных», уже существует, задача может создать новую таблицу с тем же именем, к которому прибавлен номер, или перезаписать содержимое таблицы.  
  
 Если результаты содержат вложенность, то перед сохранением результат выравнивается. Выравнивание результата преобразует вложенный результирующий набор в таблицу. Например, выравнивание вложенного результата со столбцом **Customer** и вложенным столбцом **Product** добавляет строки в столбец **Customer** , формируя таблицу, содержащую данные о продуктах для каждого клиента. Например, покупатель трех различных продуктов становится таблицей из трех строк, в которой клиент повторяется во всех трех строках, а продукты в каждой строке различаются. Если ключевое слово FLATTENED опущено, то эта таблица будет содержать только столбец **Customer** с одной строкой на каждого клиента. Дополнительные сведения см. в разделе [SELECT (расширения интеллектуального анализа данных)](../../dmx/select-dmx.md).  
  
## <a name="configuration-of-the-data-mining-query-task"></a>Настройка задачи «Запрос интеллектуального анализа данных»  
 Задача «Запрос интеллектуального анализа данных» требует два соединения. Первое соединение — это соединение диспетчера соединений служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] с экземпляром служб [!INCLUDE[msCoName](../../includes/msconame-md.md)] [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] или с проектом служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)], который содержит структуру и модель интеллектуального анализа данных. Второе — это соединение диспетчера соединений OLE DB с базой данных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] , содержащей таблицу, в которую данная задача производит запись. Дополнительные сведения см. в разделах [Analysis Services Connection Manager](../../integration-services/connection-manager/analysis-services-connection-manager.md) и [OLE DB Connection Manager](../../integration-services/connection-manager/ole-db-connection-manager.md).  
  
 Значения свойств можно задавать с помощью конструктора [!INCLUDE[ssIS](../../includes/ssis-md.md)] или программными средствами.  
  
> [!NOTE]  
>  В редакторе запроса интеллектуального анализа данных нет страницы «Выражения». Вместо этого нужно использовать окно **Свойства** для доступа к средствам создания и управления выражениями свойств задачи «Запрос интеллектуального анализа данных».  
  
 Дополнительные сведения об установке этих свойств в конструкторе служб [!INCLUDE[ssIS](../../includes/ssis-md.md)] см. в следующем разделе:  
  
-   [Задание свойств задач или контейнеров](./add-or-delete-a-task-or-a-container-in-a-control-flow.md)  
  
## <a name="programmatic-configuration-of-data-mining-query-task"></a>Настройка задачи «Запрос интеллектуального анализа данных» программными средствами  
 Дополнительные сведения о программной настройке этих свойств см. в следующих разделах:  
  
-   <xref:Microsoft.SqlServer.Dts.Tasks.DMQueryTask.DMQueryTask>  
  
## <a name="data-mining-query-task-editor-mining-model-tab"></a>Редактор задачи «Запрос интеллектуального анализа данных» (вкладка «Модель интеллектуального анализа данных»)
  Вкладка **Модель интеллектуального анализа данных** диалогового окна **Задача «Запрос интеллектуального анализа данных»** позволяет выбрать используемые структуру и модель интеллектуального анализа данных.  
  
 Сведения об интеллектуальном анализе данных в пакетах см. в разделах [Задача "Запрос интеллектуального анализа данных"](../../integration-services/control-flow/data-mining-query-task.md) и [Решения для интеллектуального анализа данных](/analysis-services/data-mining/data-mining-solutions).  
  
### <a name="general-options"></a>Общие параметры  
 **Название**  
 Задайте уникальное имя для задачи «Запрос интеллектуального анализа данных». Это имя используется в качестве метки для значка задачи.  
  
> [!NOTE]  
>  Имена задач в пределах пакета должны быть уникальными.  
  
 **Описание**  
 Введите описание задачи «Запрос интеллектуального анализа данных».  
  
### <a name="mining-model-tab-options"></a>Параметры вкладки «Модель интеллектуального анализа данных»  
 **Соединение**  
 Выберите из списка диспетчер соединений служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] или нажмите кнопку **Создать** для создания нового диспетчера соединений.  
  
 **См. также:**  [Добавление диспетчера соединений служб Analysis Services](../../integration-services/connection-manager/analysis-services-connection-manager.md)  
  
 **Создать**  
 Создает новый диспетчер соединений служб [!INCLUDE[ssASnoversion](../../includes/ssasnoversion-md.md)] .  
  
 **См. также:** [Добавление диалогового окна "Диспетчер соединений со службами Analysis Services" в справочнике по пользовательскому интерфейсу](../../integration-services/connection-manager/add-analysis-services-connection-manager-dialog-box-ui-reference.md)  
  
 **Структура интеллектуального анализа данных**  
 Выберите структуру интеллектуального анализа из данного списка.  
  
 **Модели интеллектуального анализа данных**  
 Выберите модель интеллектуального анализа данных, построенную на выбранной структуре интеллектуального анализа данных.  

## <a name="data-mining-query-task-editor-query-tab"></a>Редактор задачи «Запрос интеллектуального анализа данных» (вкладка «Запрос»)
  Используйте вкладку **Запрос** диалогового окна **Задача «Запрос интеллектуального анализа данных»** , чтобы создать запросы прогноза, основанные на модели интеллектуального анализа данных. В этом диалоговом окне также можно привязать параметры и результирующие наборы к переменным.  
  
 Сведения об интеллектуальном анализе данных в пакетах см. в разделах [Задача "Запрос интеллектуального анализа данных"](../../integration-services/control-flow/data-mining-query-task.md) и [Решения для интеллектуального анализа данных](/analysis-services/data-mining/data-mining-solutions).  
  
### <a name="general-options"></a>Общие параметры  
 **Название**  
 Задайте уникальное имя для задачи «Запрос интеллектуального анализа данных». Это имя используется в качестве метки для значка задачи.  
  
> [!NOTE]  
>  Имена задач в пределах пакета должны быть уникальными.  
  
 **Описание**  
 Введите описание задачи «Запрос интеллектуального анализа данных».  
  
### <a name="build-query-tab-options"></a>Параметры вкладки «Построение запроса»  
 **Запрос интеллектуального анализа данных**  
 Введите запрос интеллектуального анализа данных.  
  
 **См. также:**  [Справочник по расширениям интеллектуального анализа данных (расширения интеллектуального анализа данных)](../../dmx/data-mining-extensions-dmx-reference.md)  
  
 **Создать новый запрос**  
 Создать запрос интеллектуального анализа данных, используя графическое средство.  
  
 **См. также:** [Data Mining Query](../../integration-services/control-flow/data-mining-query.md)  
  
### <a name="parameter-mapping-tab-options"></a>Параметры вкладки «Сопоставление параметров»  
 **Имя параметра**  
 При необходимости обновите имя параметра. Сопоставьте параметр с переменной, выбрав переменную из списка **Имя переменной** .  
  
 **Имя переменной**  
 Выберите переменную из списка, чтобы сопоставить ее с параметром.  
  
 **Добавление**  
 Добавить параметр к списку.  
  
 **Удалить**  
 Выберите параметр, а затем нажмите **Удалить**.  
  
### <a name="result-set-tab-options"></a>Параметры вкладки «Результирующий набор»  
 **Имя результата**  
 При необходимости обновите имя результирующего набора. Сопоставьте результат с переменной, выбрав переменную из списка **Имя переменной** .  
  
 После добавления результата нажатием кнопки **Добавить**укажите уникальное имя для результата.  
  
 **Имя переменной**  
 Выберите переменную из списка, чтобы сопоставить ее с результирующим набором.  
  
 **Тип результата**  
 Укажите, должна ли возвращаться одиночная строка или полный результирующий набор.  
  
 **Добавление**  
 Добавить результирующий набор к списку.  
  
 **Удалить**  
 Выберите результат, а затем нажмите кнопку **Удалить**.  
## <a name="data-mining-query-task-editor-output-tab"></a>Редактор задачи «Запрос интеллектуального анализа данных» (вкладка «Вывод»)
  Используйте вкладку **Выход** окна **Редактор задачи «Запрос интеллектуального анализа данных»** , чтобы указать назначение прогнозирующего запроса.  
  
 Сведения об интеллектуальном анализе данных в пакетах см. в разделах [Задача "Запрос интеллектуального анализа данных"](../../integration-services/control-flow/data-mining-query-task.md) и [Решения для интеллектуального анализа данных](/analysis-services/data-mining/data-mining-solutions).  
  
### <a name="general-options"></a>Общие параметры  
 **Название**  
 Задайте уникальное имя для задачи «Запрос интеллектуального анализа данных». Это имя используется в качестве метки для значка задачи.  
  
> [!NOTE]  
>  Имена задач в пределах пакета должны быть уникальными.  
  
 **Описание**  
 Введите описание задачи «Запрос интеллектуального анализа данных».  
  
### <a name="output-tab-options"></a>Параметры вкладки «Вывод»  
 **Соединение**  
 Выберите из списка диспетчер соединений или нажмите кнопку **Создать** для создания нового диспетчера соединений.  
  
 **Создать**  
 Создание диспетчера соединений. Единственные допустимые типы диспетчеров соединений — ADO.NET и OLE DB.  
  
 **Выходная таблица**  
 Укажите таблицу, в которую будут записываться результаты прогнозирующего запроса.  
  
 **Удалить и повторно создать выходную таблицу**  
 Укажите, должен ли прогнозирующий запрос перезаписывать содержимое целевой таблицы путем ее удаления и повторного создания.  
