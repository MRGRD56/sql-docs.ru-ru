---
description: Развертывание проектов и пакетов служб Integration Services (SSIS)
title: Развертывание проектов и пакетов служб Integration Services (SSIS) | Документы Майкрософт
ms.custom: ''
ms.date: 09/26/2019
ms.prod: sql
ms.prod_service: integration-services
ms.reviewer: vanto
ms.technology: integration-services
ms.topic: conceptual
f1_keywords:
- sql13.ssis.bids.converttolegacydeployment.f1
- sql13.ssis.deploymentwizard.f1
- sql13.ssis.ssms.isenvprop.permissions.f1
- sql13.ssis.ssms.isenvprop.general.f1
- sql13.ssis.ssms.iscreateenv.f1
- sql13.ssis.ssms.isenvprop.variables.f1
- sql13.ssis.migrationwizard.f1
ms.assetid: bea8ce8d-cf63-4257-840a-fc9adceade8c
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 90fdfd4a64d77d3fa51ef7dc4c39ccf11b1fb9f3
ms.sourcegitcommit: cfa04a73b26312bf18d8f6296891679166e2754d
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/19/2020
ms.locfileid: "92196378"
---
# <a name="deploy-integration-services-ssis-projects-and-packages"></a>Развертывание проектов и пакетов служб Integration Services (SSIS)

[!INCLUDE[sqlserver-ssis](../../includes/applies-to-version/sqlserver-ssis.md)]

  [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] поддерживают две модели развертывания: модель развертывания проектов и устаревшую модель развертывания пакетов. Модель развертывания проектов позволяет развертывать проекты на сервере служб [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] .  
  
Дополнительные сведения об устаревшей модели развертывания пакетов см. в разделе [Устаревшее развертывание пакетов (службы SSIS)](../../integration-services/packages/legacy-package-deployment-ssis.md).  
  
> [!NOTE]  
>  Модель развертывания проектов была представлена в [!INCLUDE[ssISversion11](../../includes/ssisversion11-md.md)]. При использовании этой модели вы не могли развернуть один пакет или несколько, не развернув весь проект. Функция добавочного развертывания пакетов, представленная в [!INCLUDE[ssISversion13](../../includes/ssisversion13-md.md)], позволяет развернуть один пакет или несколько, не развертывая весь проект.

> [!NOTE]
> В этой статье приводятся общие сведения о развертывании пакетов служб SSIS, а также содержится информация о развертывании пакетов в локальной среде. Пакеты служб SSIS можно также развертывать на следующих платформах:
> - **облако Microsoft Azure**. Дополнительные сведения см. в разделе [Перенос рабочих нагрузок SQL Server Integration Services в облако](../lift-shift/ssis-azure-lift-shift-ssis-packages-overview.md).
> - **Linux**. Дополнительные сведения см. в разделе [Извлечение, преобразование и загрузка данных в Linux с помощью служб SSIS](../../linux/sql-server-linux-migrate-ssis.md).

## <a name="compare-project-deployment-model-and-legacy-package-deployment-model"></a>Сравнение модели развертывания проектов и устаревшей модели развертывания пакетов

 Тип модели развертывания, выбранный для проекта, определяет варианты развертывания и администрирования, доступные для проекта. В следующей таблице приведены различия и подобия использования модели развертывания проекта и модели развертывания пакетов.  
  
|Использование модели развертывания проекта|Использование устаревшей модели развертывания пакетов|  
|---------------------------------------------|----------------------------------------------------|  
|Единицей развертывания является проект.|Единицей развертывания является пакет.|  
|Для присвоения значений свойствам пакета используются параметры.|Для присвоения значений свойствам пакета используются конфигурации.|  
|Проект, содержащий пакеты и параметры, создается в виде файла развертывания проекта (с расширением ISPAC).|Пакеты (с расширением DTSX) и конфигурации (с расширением DTSCONFIG) сохраняются в файловой системе отдельно.|  
|Проект, содержащий пакеты и параметры, развертывается в каталог служб SSISDB на экземпляре SQL Server.|Пакеты и конфигурации копируются в файловую систему на другом компьютере. Пакеты также могут быть сохранены в базе данных MSDB на экземпляре SQL Server.|  
|Для компонента Database Engine требуется интеграция со средой CLR.|Интеграция со средой CLR для компонента Database Engine не требуется.|  
|Значения параметров, относящихся к среде, сохраняются в переменных среды.|Значения конфигурации, относящиеся к среде, сохраняются в файлах конфигурации.|  
|Проекты и пакеты в каталоге могут быть проверены на сервере перед выполнением. Для выполнения проверки можно использовать среду SQL Server Management Studio, хранимые процедуры или управляемый код.|Проверка пакетов производится перед их выполнением. Также пакеты можно проверить с помощью программы dtExec или управляемого кода.|  
|Пакеты выполняются путем запуска выполнения в компоненте Database Engine. Идентификатор проекта, явные значения проекта (необязательно) и ссылки на среду (необязательно) назначаются выполнению перед его запуском.<br /><br /> Кроме того, вы можете выполнить пакет с использованием **dtExec**.|Пакеты выполняются с помощью программ выполнения **dtExec** и **DTExecUI** . Применимые конфигурации определяются по аргументам командной строки (необязательно).|  
|Во время выполнения события производятся пакетом и автоматически записываются и сохраняются в каталог. Эти события можно запрашивать с помощью представлений Transact-SQL.|Во время выполнения события, производимые пакетом, автоматически не записываются. Для записи событий в пакет должен быть добавлен регистратор.|  
|Пакеты выполняются в отдельном процессе Windows.|Пакеты выполняются в отдельном процессе Windows.|  
|Для планирования выполнения пакетов используется агент SQL Server.|Для планирования выполнения пакетов используется агент SQL Server.|  


## <a name="features-of-project-deployment-model"></a>Функции модели развертывания проекта  
 В следующей таблице перечислены функции, доступные для проектов, которые разработаны только для модели развертывания проекта.  
  
|Компонент|Описание|  
|-------------|-----------------|  
|Параметры|Параметр определяет данные, которые будут использоваться пакетом. Параметры могут быть ограничены уровнем пакета или уровнем проекта с использованием параметров пакета и проекта соответственно. Параметры могут использоваться в выражениях или задачах. При развертывании проекта в каталог каждому параметру можно присвоить литеральные значения либо использовать значения по умолчанию, назначенные во время разработки. Вместо литеральных значений можно также установить ссылки на переменные среды. Значений переменных среды разрешаются во время выполнения пакета.|  
|Среды|Среда — это контейнер переменных, на которые могут ссылаться проекты служб [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] . Каждый проект может иметь несколько ссылок на среду, но один экземпляр выполнения пакета может ссылаться только на переменные одной среды. Среды позволяют организовать значения, назначаемые для пакета. Например, могут существовать среды с именами «Dev», «test» и «Production».|  
|Переменные среды|Переменная среды определяет литеральное значение, которое может быть назначено для параметра во время выполнения пакета. Чтобы использовать переменную среды, нужно создать ссылку на среду (в проекте, соответствующем среде, в которой существует параметр), назначить имя переменной среды в качестве значения параметра, а затем, при настройке экземпляра выполнения, указать соответствующую ссылку на среду.|  
|Каталог SSISDB|Все объекты служб [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] хранятся и управляются на экземпляре SQL Server в базе данных, называемой каталогом SSISDB. Этот каталог позволяет использовать папки для организации проектов и сред. Каждый экземпляр SQL Server может иметь один каталог. В каждом каталоге может быть ноль или более папок. В каждой папке может быть ноль или более проектов и ноль или более сред. Папки в каталоге могут быть использованы в качестве границы для разрешений объектов служб [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] .|  
|Хранимые процедуры и представления каталога|Для управления объектами служб [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] в каталоге можно использовать множество хранимых процедур и представлений. Например, можно задавать значения для параметров и переменных среды, создавать и запускать выполнения, а также отслеживать операции каталога. Возможно даже увидеть, какие именно значения будут использованы пакетом до его выполнения.|  
  
## <a name="project-deployment"></a>Развертывание проектов  
 В основе модели развертывания проекта лежит файл развертывания проекта (с расширением ISPAC). Файл развертывания проекта — это автономная единица развертывания, включающая в себя только важные сведения о пакетах и параметрах проекта. В файл развертывания проекта не заносятся все сведения, содержащиеся в файле проекта служб Integration Services (с расширением DTPROJ). Например, в файле развертывания проекта не хранятся дополнительные текстовые файлы, используемые при записи примечаний, и, как следствие, они не развертываются в каталог.  

## <a name="permissions-required-to-deploy-ssis-projects-and-packages"></a>Разрешения, необходимые для развертывания проектов и пакетов служб SSIS

Если вы сменили установленную по умолчанию учетную запись службы SSIS, вам может потребоваться предоставить новой учетной записи дополнительные разрешения, необходимые для успешного развертывания пакетов. Если у новой учетной записи отсутствуют необходимые разрешения, может отображаться следующее сообщение об ошибке.

`A .NET Framework error occurred during execution of user-defined routine or aggregate "deploy_project_internal":
System.ComponentModel.Win32Exception: A required privilege is not held by the client.`

Как правило, эта ошибка связана с отсутствием разрешений DCOM. Чтобы устранить ее, выполните следующие действия.

1.  Откройте консоль **Службы компонентов** (или запустите программу Dcomcnfg.exe).
2.  В консоли **Службы компонентов** разверните узел **Службы компонентов** > **Компьютеры** > **Мой компьютер** > **Настройка DCOM**.
3.  Найдите в списке элемент **Microsoft SQL Server Integration Services xx.0** для версии SQL Server, которую вы используете. Например, для SQL Server 2016 следует искать версию 13.
4.  Щелкните правой кнопкой мыши и выберите **Свойства**.
5.  В диалоговом окне **Свойства Microsoft SQL Server Integration Services 13.0** перейдите на вкладку **Безопасность**.
6.  Для каждого из трех наборов разрешений ("Запуск и активация", "Доступ" и "Настройка") выберите **Настроить** и нажмите кнопку **Изменить**, чтобы открыть диалоговое окно **Разрешение**.
7.  В диалоговом окне **Разрешение** добавьте учетную запись службы вместо установленной по умолчанию и предоставьте необходимые разрешения с помощью команды **Разрешить**. Как правило, у учетной записи есть разрешения **Локальный запуск** и **Локальная активация**.
8.  Дважды нажмите кнопку **ОК**, после чего закройте консоль **Службы компонентов**.

Дополнительные сведения об этой ошибке и разрешениях, необходимых для учетной записи службы SSIS, см. в следующей записи блога.
 
- [Ошибка "System.ComponentModel.Win32Exception. Клиент не обладает требуемыми правами" во время развертывания проекта служб SSIS](/archive/blogs/dataaccesstechnologies/system-componentmodel-win32exception-a-required-privilege-is-not-held-by-the-client-while-deploying-ssis-project)

## <a name="deploy-projects-to-integration-services-server"></a>Deploy Projects to Integration Services Server
  В текущей версии служб [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)]вы можете развертывать проекты на сервере служб [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] . Сервер служб [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] позволяет управлять пакетами, выполнять пакеты и настраивать значения времени выполнения для пакетов с помощью сред.  
  
> [!NOTE]  
>  Как и в более ранних версиях служб [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)], в текущем выпуске можно также развертывать пакеты на экземпляре SQL Server, кроме того, запускать пакеты и управлять ими с помощью служб [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] . Использование модели развертывания пакетов. Дополнительные сведения см. в разделе [Устаревшее развертывание пакетов (службы SSIS)](../../integration-services/packages/legacy-package-deployment-ssis.md).  
  
 Для развертывания проекта на сервере служб [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] необходимо выполнить следующие задачи.  
  
1.  Создайте каталог SSISDB, если он еще не создан. Дополнительные сведения см. в разделе [Каталог служб SSIS](../../integration-services/catalog/ssis-catalog.md).  
  
2.  **Мастер преобразования проекта служб Integration Services** преобразует проект в модель развертывания проекта. Дополнительные сведения см. в следующих разделах: [Преобразование проекта в модель развертывания проекта](#convert)  
  
    -   При создании проекта в службах [!INCLUDE[ssISversion12](../../includes/ssisversion12-md.md)] или более поздней версии по умолчанию используется модель развертывания проекта.  
  
    -   Если проект был создан в более раннем выпуске служб [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)], то после открытия файла проекта в среде [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)]необходимо преобразовать проект в модель развертывания проекта.  
  
        > [!NOTE]  
        >  Если проект содержит один или более источников данных, то они будут удалены после завершения преобразования проекта. Для создания соединения с источником данных, который может совместно использоваться пакетами в проекте, добавьте диспетчер соединений на уровне проекта. Дополнительные сведения см. в статье [Добавление, удаление или совместное использование диспетчера соединений в пакете](/previous-versions/sql/sql-server-2016/ms140237(v=sql.130)).  
  
         В зависимости от того, запускается ли **Мастер преобразования проекта служб Integration Services** из [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)] или из среды [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], он выполняет разные задачи по преобразованию.  
  
        -   Если мастер запускается из [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)], пакеты, содержащиеся в проекте, преобразовываются из [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] 2005, 2008 или 2008 R2 в формат, который используется текущей версией служб [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)]. Исходные файлы проекта (DTPROJ) и пакета (DTSX) обновляются.  
  
        -   Если мастер запускается из [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], мастер формирует файл развертывания проекта (ISPAC) из пакетов и конфигураций, содержащихся в проекте. Исходные файлы пакета (DTSX) не обновляются.  
  
             На странице **Выбор назначения** мастера вы можете создать или выбрать существующий файл.  
  
             Чтобы обновить файлы пакета при преобразовании проекта, запустите **Мастер преобразования проекта служб Integration Services** из [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)]. Чтобы обновить файлы пакета, не выполняя преобразование проекта, запустите из среды **Мастер преобразования проектов служб Integration Services**[!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] , а затем **Мастер обновления пакетов служб SSIS**. Если выполняется только обновление файлов пакета, следует убедиться в том, что внесенные изменения сохранены. В противном случае при преобразовании проекта в модель развертывания проекта несохраненные изменения в пакете преобразованы не будут.  
  
     Дополнительные сведения об обновлении пакетов см. в разделах [Обновление пакетов служб Integration Services](../../integration-services/install-windows/upgrade-integration-services-packages.md) и [Обновление пакетов служб Integration Services с помощью мастера обновления пакетов служб SSIS](../../integration-services/install-windows/upgrade-integration-services-packages-using-the-ssis-package-upgrade-wizard.md).  
  
3.  Разверните проект на сервере служб [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] . Дополнительные сведения см. в следующих инструкциях: [Развертывание проекта на сервере служб Integration Services](#deploy)  
  
4.  (Необязательно.) Создайте среду для развернутого проекта. 
  
###  <a name="to-convert-a-project-to-the-project-deployment-model"></a><a name="convert"></a> Преобразование проекта в модель развертывания проекта  
  
1.  Откройте проект в [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)], а затем в обозревателе решений щелкните его правой кнопкой мыши и выберите команду **Преобразовать в модель развертывания проекта**.  
  
     -или-  
  
     В среде [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)]в обозревателе объектов щелкните правой кнопкой мыши узел **Проекты** и выберите команду **Импорт пакетов**.  
  
2.  Завершите работу мастера.
  
###  <a name="to-deploy-a-project-to-the-integration-services-server"></a><a name="deploy"></a> Развертывание проекта на сервере служб Integration Services  
  
1.  Откройте проект в [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)], а затем из меню **Проект** выберите пункт **Развернуть** , чтобы запустить **Мастер развертывания служб Integration Services**.  
  
     или  
  
     В среде [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]разверните узел [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] > **SSISDB** в обозревателе объектов и найдите папку "Проекты" для того проекта, который требуется развернуть. Щелкните папку **Проекты** правой кнопкой мыши и выберите команду **Развернуть проект**.  
  
     или  
  
     Из командной строки запустите **isdeploymentwizard.exe** , расположенный в каталоге **%ProgramFiles%\Microsoft SQL Server\130\DTS\Binn**. На 64-разрядных компьютерах есть также 32-разрядная версия средства в каталоге **%ProgramFiles(x86)%\Microsoft SQL Server\130\DTS\Binn**.  
  
2.  Чтобы выбрать файл развертывания для проекта, на странице **Выбор источника** щелкните **Файл развертывания проекта** .  
  
     или  
  
     Щелкните **Каталог служб Integration Services** , чтобы выбрать проект, который уже был развернут в каталог служб SSISDB.  
  
3.  Завершите работу мастера. 

## <a name="deploy-packages-to-integration-services-server"></a>Развертывание пакетов на сервере служб Integration Services
  Функция добавочного развертывания пакетов, представленная в  [!INCLUDE[ssISversion13](../../includes/ssisversion13-md.md)] , позволяет развертывать один или несколько пакетов в существующем или новом проекте без развертывания всего проекта.  
  
###  <a name="deploy-packages-by-using-the-integration-services-deployment-wizard"></a><a name="DeployWizard"></a> Развертывание пакетов с помощью мастера развертывания служб Integration Services  
  
1.  Из командной строки запустите **isdeploymentwizard.exe** , расположенный в каталоге **%ProgramFiles%\Microsoft SQL Server\130\DTS\Binn**. На 64-разрядных компьютерах есть также 32-разрядная версия средства в каталоге **%ProgramFiles(x86)%\Microsoft SQL Server\130\DTS\Binn**.  
  
2.  На странице **Выбор источника** переключитесь к **модели развертывания пакета**. Затем выберите папку, которая содержит исходные пакеты, и настройте их.  
  
3.  Завершите работу мастера. Выполните оставшиеся действия, описанные в статье [Package Deployment Model](#PackageModel).  
  
###  <a name="deploy-packages-by-using-sql-server-management-studio"></a><a name="SSMS"></a> Развертывание пакетов с помощью среды SQL Server Management Studio  
  
1.  В обозревателе объектов среды SQL Server Management Studio разверните узел **Каталоги служб Integration Services** > **SSISDB** .  
  
2.  Щелкните папку **Проекты** правой кнопкой мыши и выберите команду **Deploy Projects**(Развернуть проекты).  
  
3.  Если появится страница **Введение** , нажмите кнопку **Далее** , чтобы продолжить.  
  
4.  На странице **Выбор источника** переключитесь к **модели развертывания пакета**. Затем выберите папку, которая содержит исходные пакеты, и настройте их.  
  
5.  Завершите работу мастера. Выполните оставшиеся действия, описанные в статье [Package Deployment Model](#PackageModel).  
  
###  <a name="deploy-packages-by-using-sql-server-data-tools-visual-studio"></a><a name="SSDT"></a> Развертывание пакетов с помощью SQL Server Data Tools (Visual Studio)  
  
1.  В Visual Studio откройте проект служб Integration Services, выберите пакет или пакеты, которые требуется развернуть.  
  
2.  Щелкните правой кнопкой мыши и выберите пункт **Развернуть пакет**. Откроется мастер развертывания, в котором выбранные пакеты будут настроены в качестве исходных.  
  
3.  Завершите работу мастера. Выполните оставшиеся действия, описанные в статье [Package Deployment Model](#PackageModel).  
  
###  <a name="deploy-packages-by-using-the-deploy_packages-stored-procedure"></a><a name="StoredProcedure"></a> Развертывание пакетов с помощью хранимой процедуры deploy_packages  
 Чтобы развернуть один или несколько пакетов служб SSIS в каталоге служб SSIS, можно использовать хранимую процедуру **[catalog].[deploy_packages]** . В следующем примере кода показано использование этой хранимой процедуры для развертывания пакетов на сервере служб SSIS. Дополнительные сведения см. в разделе [catalog.deploy_packages](../../integration-services/system-stored-procedures/catalog-deploy-packages.md).  
  
```cs
  
private static void Main(string[] args)  
{  
    // Connection string to SSISDB  
    var connectionString = "Data Source=.;Initial Catalog=SSISDB;Integrated Security=True;MultipleActiveResultSets=false";  
  
    using (var sqlConnection = new SqlConnection(connectionString))  
    {  
        sqlConnection.Open();  
  
        var sqlCommand = new SqlCommand  
        {  
            Connection = sqlConnection,  
            CommandType = CommandType.StoredProcedure,  
            CommandText = "[catalog].[deploy_packages]"  
        };  
  
        var packageData = Encoding.UTF8.GetBytes(File.ReadAllText(@"C:\Test\Package.dtsx"));  
  
        // DataTable: name is the package name without extension and package_data is byte array of package.  
        var packageTable = new DataTable();  
        packageTable.Columns.Add("name", typeof(string));  
        packageTable.Columns.Add("package_data", typeof(byte[]));  
        packageTable.Rows.Add("Package", packageData);  
  
        // Set the destination project and folder which is named Folder and Project.  
        sqlCommand.Parameters.Add(new SqlParameter("@folder_name", SqlDbType.NVarChar, ParameterDirection.Input, "Folder", -1));  
        sqlCommand.Parameters.Add(new SqlParameter("@project_name", SqlDbType.NVarChar, ParameterDirection.Input, "Project", -1));  
        sqlCommand.Parameters.Add(new SqlParameter("@packages_table", SqlDbType.Structured, ParameterDirection.Input, packageTable, -1));  
  
        var result = sqlCommand.Parameters.Add("RetVal", SqlDbType.Int);  
        result.Direction = ParameterDirection.ReturnValue;  
  
        sqlCommand.ExecuteNonQuery();  
    }  
}  
  
```  
  
###  <a name="deploy-packages-using-the-management-object-model-api"></a><a name="MOMApi"></a> Развертывание пакетов с помощью API объектной модели управления  
 В следующем примере кода показано использование API объектной модели управления для развертывания пакетов на сервере.  
  
```cs 
  
static void Main()  
 {  
     // Before deploying packages, make sure the destination project exists in SSISDB.  
     var connectionString = "Data Source=.;Integrated Security=True;MultipleActiveResultSets=false";  
     var catalogName = "SSISDB";  
     var folderName = "Folder";  
     var projectName = "Project";  
  
     // Get the folder instance.  
     var sqlConnection = new SqlConnection(connectionString);  
     var store = new Microsoft.SqlServer.Management.IntegrationServices.IntegrationServices(sqlConnection);  
     var folder = store.Catalogs[catalogName].Folders[folderName];  
  
     // Key is package name without extension and value is package binaries.  
     var packageDict = new Dictionary<string, string>();  
  
     var packageData = File.ReadAllText(@"C:\Folder\Package.dtsx");  
     packageDict.Add("Package", packageData);  
  
     // Deploy package to the destination project.  
     folder.DeployPackages(projectName, packageDict);  
 }  
  
```

## <a name="convert-to-package-deployment-model-dialog-box"></a>Преобразовать в модель диалоговое окно "пакет развертывания"
  С помощью команды **Преобразовать в модель развертывания пакетов** можно выполнить преобразование пакета в модель развертывания пакетов после проверки проекта и каждого пакета в проекте на совместимость с данной моделью. Если пакет использует специальные функции в модели развертывания проекта, такие как параметры, то пакет невозможно преобразовать.  

 Преобразование пакета в модель развертывания пакетов выполняется в два этапа.  
  
1.  При выборе команды **Преобразовать в модель развертывания пакетов** из меню **Проект** выполняется проверка проекта и каждого пакета на совместимость с этой моделью. Результаты отображаются в таблице **Результаты** .  
  
     Если проект или пакеты не прошли проверку на совместимость, щелкните **Ошибка** в столбце **Результат** для получения дополнительных сведений. Нажмите кнопку **Сохранить отчет** для сохранения копии этих сведений в текстовый файл.  
  
2.  Если проект и все пакеты прошли испытание на совместимость, нажмите кнопку **ОК** для преобразования пакета.  
  
> [!NOTE]
> Для преобразования проекта в модель развертывания проектов воспользуйтесь **Мастером преобразования проекта служб Integration Services**. Дополнительные сведения см. в статье [Integration Services Project Conversion Wizard](deploy-integration-services-ssis-projects-and-packages.md).  

## <a name="integration-services-deployment-wizard"></a>Мастер развертывания служб Integration Services
  **Мастер развертывания служб Integration Services** поддерживает две модели развертывания:
   - Модель развертывания проекта
   - Модель развертывания пакета 
   
 **Модель развертывания проекта** позволяет развернуть проект служб SQL Server Integration Services (SSIS) как единый объект в каталоге служб SSIS.
 
 **Модель развертывания пакета** позволяет развертывать обновленные пакеты в каталоге служб SSIS, не развертывая весь проект. 
 
 > [!NOTE]
 > По умолчанию мастер использует модель развертывания проекта.  
  
### <a name="launch-the-wizard"></a>Запуск мастера
Запустите мастер одним из следующих способов.

 - Введите **"мастер развертывания SQL Server"** в Windows Search. 

 или

 - Найдите исполняемый файл **ISDeploymentWizard.exe** в папке установки SQL Server, например C:\Program Files (x86)\Microsoft SQL Server\130\DTS\Binn. 
 
 > **ПРИМЕЧАНИЕ.** Если отобразилась страница **Введение** , нажмите кнопку **Далее** , чтобы перейти на страницу **Выбор источника** . 
 
 Параметры на этой странице отличаются для каждой модели развертывания. Выполните шаги в разделе [Project Deployment Model](#ProjectModel) или [Package Deployment Model](#PackageModel) в зависимости от модели, выбранной на этой странице.  
  
###  <a name="project-deployment-model"></a><a name="ProjectModel"></a> Project Deployment Model  
  
#### <a name="select-source"></a>Выбор источника

 Чтобы развернуть созданный файл развертывания проекта, выберите **Файл развертывания проекта** и введите путь к ISPAC-файлу. Для развертывания проекта, который находится в каталоге служб [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] , выберите **Каталог служб Integration Services**, а затем введите имя сервера и путь к проекту в каталоге. Нажмите кнопку **Далее** , чтобы просмотреть страницу **Выбор назначения** .  
  
#### <a name="select-destination"></a>Выбор назначения

 Для выбора папки назначения проекта в каталоге [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] введите экземпляр [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] или нажмите кнопку **Обзор** , чтобы осуществить выбор из списка серверов. Введите путь к проекту в SSISDB или нажмите кнопку **Обзор** , чтобы произвести выбор. Нажмите кнопку **Далее** , чтобы просмотреть страницу **Просмотр** .  
  
#### <a name="review-and-deploy"></a>Просмотр (и развертывание)

 На этой странице можно просмотреть выбранные параметры. Вы можете изменить выбранные параметры, нажав кнопку **Назад**или кнопку любого из шагов на левой панели. Щелкните **Развернуть** , чтобы начать развертывание.  
  
#### <a name="results"></a>Результаты

 После завершения развертывания появится страница **Результаты** . На ней отображается состояние выполнения каждого действия. Если действие не выполнено, нажмите кнопку **Ошибка** в столбце **Результат** для отображения описания ошибки. Нажмите кнопку **Сохранить отчет…**, чтобы сохранить результаты в XML-файл, или нажмите кнопку **Закрыть**, чтобы закрыть мастер.
  
###  <a name="package-deployment-model"></a><a name="PackageModel"></a> Package Deployment Model  
  
#### <a name="select-source"></a>Выбор источника

 На странице **Выбор источника****мастера развертывания служб Integration Services** содержатся параметры модели развертывания пакета, если в качестве **модели развертывания** выбран вариант **Развертывание пакета**.  
  
 Чтобы выбрать исходные пакеты, нажмите кнопку **Обзор…** для выбора **папки**, содержащей пакеты, или введите путь к папке в текстовом поле **Путь к папке пакетов** и нажмите кнопку **Обновить** в нижней части страницы. Теперь должны отобразится все пакеты в папке, указанной в списке. По умолчанию выбраны все пакеты. Установите **флажок** в первом столбце, чтобы выбрать пакеты, которые следует развернуть на сервере.  
  
 Состояние пакета можно просмотреть в столбцах **Состояние** и **Сообщение** . Если для состояния задано значение **Готово** или **Предупреждение**, мастер развертывания не заблокирует развертывание. Если для состояния задано значение **Ошибка**, мастер остановит развертывание пакетов. Чтобы просмотреть подробные предупреждающие сообщения или сообщения об ошибке, щелкните ссылку в столбце **Сообщение**.  
  
 Если конфиденциальные данные или данные пакета зашифрованы паролем, введите пароль в столбце **Пароль** и нажмите кнопку **Обновить** , чтобы проверить, принимается ли пароль. Если пароль указан правильно, значение состояния изменится на **Готово** , а предупреждающее сообщение исчезнет. При наличии нескольких пакетов с одинаковым паролем выберите пакеты с одинаковым паролем шифрования, введите пароль в текстовом поле **Пароль** и нажмите кнопку **Применить**. Пароль будет применен к выбранным пакетам.  
  
 Если для состояния всех выбранных пакетов не задано значение **Ошибка**, активируется кнопка **Далее** , чтобы можно было продолжить развертывание пакетов.  
  
#### <a name="select-destination"></a>Выбор назначения

 Выбрав источники пакетов, нажмите кнопку **Далее**, чтобы перейти на страницу **Выбор назначения**. Пакеты нужно развертывать в проект в каталоге служб SSIS (SSISDB). Перед развертыванием пакетов убедитесь, что проект назначения уже существует в каталоге служб SSIS. Если проекта не существует, создайте пустой проект. На странице **Выбор назначения** введите имя сервера в текстовом поле **Имя сервера** или нажмите кнопку **Обзор…**, чтобы выбрать экземпляр сервера. Затем нажмите кнопку **Обзор…** возле текстового поля **Путь**, чтобы указать проект назначения. Если проекта не существует, создайте в качестве проекта назначения пустой проект, щелкнув **Создать проект…**. Проект обязательно создается в папке.  
  
#### <a name="review-and-deploy"></a>Просмотр и развертывание

 Нажмите кнопку **Далее** на странице **Выбор назначения** , чтобы перейти на страницу **Просмотр****мастера развертывания служб Integration Services**. Просмотрите сводный отчет о развертывании на странице просмотра. После проверки нажмите кнопку **Развернуть**, чтобы выполнить развертывание.  
  
#### <a name="results"></a>Результаты

 По завершении развертывания отобразится страница **Результаты** . На странице **Результаты** просмотрите результаты на каждом этапе развертывания. Затем щелкните **Сохранить отчет**, чтобы сохранить отчет о развертывании, или **Закрыть**, чтобы закрыть мастер.  

## <a name="create-and-map-a-server-environment"></a>Создание и сопоставление серверной среды

  Вы создаете серверную среду, которая должна указывать значения среды выполнения для пакетов, которые содержатся в проекте, развернутом на сервере [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)]. Можно сопоставить переменные среды с параметрами для определенного пакета, для пакетов точки входа или для всех пакетов в данном проекте. Пакет точки входа — обычно родительский пакет, который выполняет дочерний пакет.  
  
> [!IMPORTANT]  
>  Для данного выполнения пакет может выполняться только со значениями, содержащимися в односерверной среде.  
  
 У представлений можно запрашивать список серверных сред, ссылок на среды и переменных сред. Также можно вызывать хранимые процедуры для добавления, удаления и изменения сред, ссылок на среды и переменных сред. Дополнительные сведения см. в разделе **Серверные среды, переменные сервера и ссылки на серверные среды** в [SSIS Catalog](../../integration-services/catalog/ssis-catalog.md).  
  
### <a name="to-create-and-use-a-server-environment"></a>Создание и использование серверной среды  
  
1.  В среде [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] разверните узел "Каталоги [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)]" > **SSISDB** в обозревателе объектов и найдите папку **Среды** для проекта, для которого требуется создать среду.  
  
2.  Щелкните правой кнопкой мыши папку **Среды** и выберите команду **Создать среду**.  
  
3.  Введите имя для среды и, при желании, описание. Нажмите кнопку **ОК**.  
  
4.  Щелкните правой кнопкой мыши новую среду и выберите команду **Свойства**.  
  
5.  На странице **Переменные** выполните следующие действия, чтобы добавить переменную.  
  
    1.  Выберите **Тип** переменной. Имя переменной не обязательно должно совпадать с именем параметра проекта, с которым эта переменная будет сопоставлена.  
  
    2.  Введите необязательное **Описание** для переменной.  
  
    3.  Введите **Значение** переменной среды.  
  
         Сведения о правилах для имен переменных сред см. в разделе **Переменная среды** в [SSIS Catalog](../../integration-services/catalog/ssis-catalog.md).  
  
    4.  Укажите, содержит ли переменная конфиденциальное значение, установив или сняв флажок **Конфиденциально** .  
  
         Если флажок **Конфиденциально**установлен, значение переменной не отображается в поле **Значение** .  
  
         Конфиденциальные значения шифруются в каталоге SSISDB. Дополнительные сведения о шифровании см. в разделе [SSIS Catalog](../../integration-services/catalog/ssis-catalog.md).  
  
6.  На странице **Разрешения** предоставьте или запретите соответствующие разрешения выбранным пользователям и ролям, выполнив следующие действия.  
  
    1.  Щелкните **Обзор**и выберите одного или нескольких пользователей и ролей в диалоговом окне **Обзор всех участников** .  
  
    2.  В области **Имена входа или роли** выберите пользователя или роль, которой будут предоставлены или запрещены разрешения.  
  
    3.  В области **Явно** щелкните **Предоставить** или **Запретить** рядом с каждым разрешением.  
  
7.  Чтобы создать скрипт среды, щелкните **Скрипт**. По умолчанию скрипт открывает новое окно редактора запросов.  
  
    > [!TIP]  
    >  Кнопку **Скрипт** необходимо нажимать после внесения таких изменений в свойства среды, как добавление переменной, и перед тем как будет нажата кнопка **ОК** в диалоговом окне **Свойства среды**. В противном случае скрипт создан не будет.  
  
8.  Чтобы сохранить изменения в свойствах среды, нажмите кнопку **ОК** .  
  
9. В узле **SSISDB** в обозревателе объектов раскройте папку **Проекты** , щелкните правой кнопкой мыши проект и выберите команду **Настроить**.  
  
10. На странице **Ссылки** нажмите кнопку **Добавить** , чтобы добавить среду, а затем нажмите кнопку **ОК** , чтобы сохранить ссылку на среду.  
  
11. Снова щелкните правой кнопкой мыши проект и выберите пункт **Настроить**.  
  
12. Для сопоставления переменной среды с параметром, добавленным в пакет во время разработки, или с параметром, созданным во время преобразования проекта [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] в модель развертывания проекта, выполните следующие действия.
  
    1.  На вкладке **Параметры** на странице **Параметры** нажмите кнопку обзора рядом с полем **Значение** .  
  
    2.  Нажмите кнопку **Использовать переменную среды**, а затем выберите созданную переменную среды.  
  
13. Для сопоставления переменной среды со свойством диспетчера соединений выполните следующие действия. Параметры для свойств диспетчера соединений автоматически создаются на сервере служб SSIS.  
  
    1.  На вкладке **Диспетчеры соединений** на странице **Параметры** нажмите кнопку **обзора** рядом с полем **Значение**.  
  
    2.  Нажмите кнопку **Использовать переменную среды**, а затем выберите созданную переменную среды.  
  
14. Нажмите кнопку **ОК** дважды для сохранения изменений.  

## <a name="deploy-and-execute-ssis-packages-using-stored-procedures"></a>Развертывание и выполнение пакетов служб SSIS с помощью хранимых процедур

  После настройки проекта [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] для использования модели развертывания проекта можно вызывать хранимые процедуры в каталоге служб [!INCLUDE[ssIS](../../includes/ssis-md.md)] , чтобы развернуть проект и выполнить пакеты. Дополнительные сведения о модели развертывания проектов см. в разделе [Deployment of Projects and Packages](deploy-integration-services-ssis-projects-and-packages.md#compare-project-deployment-model-and-legacy-package-deployment-model).  
  
 Для развертывания и выполнения пакетов также можно использовать среду [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] или [!INCLUDE[ssBIDevStudioFull](../../includes/ssbidevstudiofull-md.md)] . Дополнительные сведения см. в разделе **См. также** .  
  
> [!TIP]
>  Не составит труда создать инструкции Transact-SQL для хранимых процедур, перечисленных в следующей процедуре, за исключением catalog.deploy_project, выполнив следующие действия.
> 
>  1.  В [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)]разверните узел **Каталоги служб Integration Services** в обозревателе объектов и перейдите к пакету, который нужно выполнить.  
> 2.  Щелкните правой кнопкой мыши пакет и выберите команду **Выполнить**.  
> 3.  При необходимости задайте значения параметров, свойства диспетчера соединений и параметры на вкладке **Дополнительно** , например уровень ведения журнала.  
> 
>      Дополнительные сведения об уровнях ведения журнала см. в разделе [Включение ведения журналов при выполнении пакета на сервере служб SSIS](../../integration-services/performance/integration-services-ssis-logging.md#server_logging).  
> 4.  Перед нажатием кнопки **ОК** для выполнения пакета выберите пункт **Скрипт**. Код Transact-SQL откроется в окне редактора запросов среды [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)].  
  
### <a name="to-deploy-and-execute-a-package-using-stored-procedures"></a>Развертывание и выполнение пакета с помощью хранимых процедур  
  
1.  Вызовите [catalog.deploy_project (база данных SSISDB)](../../integration-services/system-stored-procedures/catalog-deploy-project-ssisdb-database.md), чтобы развернуть проект [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)], который содержит пакет, на сервере [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)].  
  
     Можно использовать инструкцию SELECT с функцией OPENROWSET и поставщиком больших наборов строк (BULK) для получения двоичного содержимого файла развертывания проекта [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] для параметра _\@project_stream_. Поставщик больших наборов строк позволяет считывать данные из файла. Аргумент SINGLE_BLOB для поставщика больших наборов строк возвращает содержимое файла данных в виде набора строк с одной строкой и одним столбцом типа varbinary(max). Дополнительные сведения см. в разделе [OPENROWSET (Transact-SQL)](../../t-sql/functions/openrowset-transact-sql.md).  
  
     В следующем примере проект SSISPackages_ProjectDeployment будет развернут в папке SSIS Packages на сервере [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] . Двоичные данные считываются из файла проекта (SSISPackage_ProjectDeployment.ispac) и сохраняются в параметре \@ProjectBinary с типом varbinary(max). Значение параметра _\@ProjectBinary_ присваивается параметру _\@project_stream_.  
  
    ```sql
    DECLARE @ProjectBinary as varbinary(max)  
    DECLARE @operation_id as bigint  
    Set @ProjectBinary = (SELECT * FROM OPENROWSET(BULK 'C:\MyProjects\ SSISPackage_ProjectDeployment.ispac', SINGLE_BLOB) as BinaryData)  
  
    Exec catalog.deploy_project @folder_name = 'SSIS Packages', @project_name = 'DeployViaStoredProc_SSIS', @Project_Stream = @ProjectBinary, @operation_id = @operation_id out  
  
    ```  
  
2.  Вызовите функцию[catalog.create_execution (база данных SSISDB)](../../integration-services/system-stored-procedures/catalog-create-execution-ssisdb-database.md), чтобы создать экземпляр выполнения пакета, и при необходимости вызовите функцию [catalog.set_execution_parameter_value (база данных SSISDB)](../../integration-services/system-stored-procedures/catalog-set-execution-parameter-value-ssisdb-database.md), чтобы задать значения параметров среды выполнения.  
  
     В следующем примере catalog.create_execution создает экземпляр для выполнения package.dtsx, содержащегося в проекте SSISPackage_ProjectDeployment. Проект располагается в папке SSIS Packages. Значение execution_id, возвращаемое хранимой процедурой, используется для вызова функции catalog.set_execution_parameter_value. Эта вторая хранимая процедура устанавливает параметр LOGGING_LEVEL равным 3 (подробный уровень ведения журнала) и задает параметру пакета Parameter1 значение 1.  
  
     Для таких параметров, как LOGGING_LEVEL, значение object_type равно 50. Для параметров пакета значение object_type равно 30.  
  
    ```sql
    Declare @execution_id bigint  
    EXEC [SSISDB].[catalog].[create_execution] @package_name=N'Package.dtsx', @execution_id=@execution_id OUTPUT, @folder_name=N'SSIS Packages', @project_name=N'SSISPackage_ProjectDeployment', @use32bitruntime=False, @reference_id=1  
  
    Select @execution_id  
    DECLARE @var0 smallint = 3  
    EXEC [SSISDB].[catalog].[set_execution_parameter_value] @execution_id,  @object_type=50, @parameter_name=N'LOGGING_LEVEL', @parameter_value=@var0  
  
    DECLARE @var1 int = 1  
    EXEC [SSISDB].[catalog].[set_execution_parameter_value] @execution_id,  @object_type=30, @parameter_name=N'Parameter1', @parameter_value=@var1  
  
    GO  
  
    ```  
  
3.  Вызовите функцию [catalog.start_execution (база данных SSISDB)](../../integration-services/system-stored-procedures/catalog-start-execution-ssisdb-database.md) для выполнения пакета.  
  
     В следующем примере вызов catalog.start_execution добавляется в Transact-SQL, чтобы можно было начать выполнение пакета. Используется значение execution_id, возвращаемое хранимой процедурой catalog.create_execution.  
  
    ```sql
    Declare @execution_id bigint  
    EXEC [SSISDB].[catalog].[create_execution] @package_name=N'Package.dtsx', @execution_id=@execution_id OUTPUT, @folder_name=N'SSIS Packages', @project_name=N'SSISPackage_ProjectDeployment', @use32bitruntime=False, @reference_id=1  
  
    Select @execution_id  
    DECLARE @var0 smallint = 3  
    EXEC [SSISDB].[catalog].[set_execution_parameter_value] @execution_id,  @object_type=50, @parameter_name=N'LOGGING_LEVEL', @parameter_value=@var0  
  
    DECLARE @var1 int = 1  
    EXEC [SSISDB].[catalog].[set_execution_parameter_value] @execution_id,  @object_type=30, @parameter_name=N'Parameter1', @parameter_value=@var1  
  
    EXEC [SSISDB].[catalog].[start_execution] @execution_id  
    GO  
  
    ```  
  
### <a name="to-deploy-a-project-from-server-to-server-using-stored-procedures"></a>Развертывание проекта из сервера на сервер с использованием хранимых процедур

 Проект можно развернуть из сервера на сервер с помощью хранимых процедур [catalog.get_project (база данных SSISDB)](../../integration-services/system-stored-procedures/catalog-get-project-ssisdb-database.md) и [catalog.deploy_project (база данных SSISDB)](../../integration-services/system-stored-procedures/catalog-deploy-project-ssisdb-database.md).  
  
 Необходимо выполнить следующие действия перед выполнением хранимых процедур.  
  
-   Создание связанного объекта сервера. Дополнительные сведения см. в разделе [(Создание связанных серверов (компонент SQL Server Database Engine))](../../relational-databases/linked-servers/create-linked-servers-sql-server-database-engine.md).  
  
     На странице **Параметры сервера** диалогового окна **Свойства связанного сервера** назначьте для **RPC** и **RPC Out** значения **True**. Кроме того, назначьте свойству **Разрешить продвижение распределенных транзакций для RPC** значение **False**.  
  
-   Включите динамические параметры для поставщика, выбранного для связанного сервера, разверните узел **Поставщики** и выберите **Связанные серверы** в обозревателе объектов, щелкните правой кнопкой мыши поставщик, затем выберите пункт **Свойства**. Нажмите кнопку **Включить** рядом с полем **Динамический параметр.**  
  
-   Убедитесь, что на обоих серверах запущен координатор распределенных транзакций (DTC).  
  
 Вызовите catalog.get_project для получения двоичных файлов проекта, а затем вызовите catalog.deploy_project. Значение, возвращаемое catalog.get_project, вставляется в табличную переменную типа varbinary(max). Связанный сервер не может возвращать результаты типа varbinary(max).  
  
 В следующем примере catalog.get_project возвращает двоичный результат для проекта SSISPackages на связанном сервере. Catalog.deploy_project развертывает проект на локальном сервере в папке с именем DestFolder.  
  
```sql
declare @resultsTableVar table (  
project_binary varbinary(max)  
)  
  
INSERT @resultsTableVar (project_binary)  
EXECUTE [MyLinkedServer].[SSISDB].[catalog].[get_project] 'Packages', 'SSISPackages'  
  
declare @project_binary varbinary(max)  
select @project_binary = project_binary from @resultsTableVar  
  
exec [SSISDB].[CATALOG].[deploy_project] 'DestFolder', 'SSISPackages', @project_binary  
  
```  

## <a name="integration-services-project-conversion-wizard"></a>Мастером преобразования проекта служб Integration Services
  **Мастер преобразования проекта служб Integration Services** преобразует проект в модель развертывания проекта.  
  
> [!NOTE]  
>  Если проект содержит один или более источников данных, то они будут удалены после завершения преобразования проекта. Для создания соединения с источником данных, который может совместно использоваться пакетами в проекте, добавьте диспетчер соединений на уровне проекта. Дополнительные сведения см. в статье [Добавление, удаление или совместное использование диспетчера соединений в пакете](/previous-versions/sql/sql-server-2016/ms140237(v=sql.130)).  
  
 **Выбор действия**  
  
-   [Открытие мастера преобразования проекта служб Integration Services](#open_dialog)  
  
-   [Задание параметров на странице «Поиск пакетов»](#locate)  
  
-   [Задание параметров на странице «Выбор пакетов»](#selectPackages)  
  
-   [Задание параметров на странице «Выбор назначения»](#destination)  
  
-   [Задание параметров на странице «Задание свойств проекта»](#projectProperties)  
  
-   [Задание параметров на странице «Обновление задачи выполнения пакета»](#executePackage)  
  
-   [Задание параметров на странице «Выбор конфигурации»](#configurations)  
  
-   [Задание параметров на странице «Создание параметров»](#createParameters)  
  
-   [Задание параметров на странице «Настройка параметров»](#configureParameters)  
  
-   [Задание параметров на странице «Просмотр»](#review)  
  
-   [Задание параметров на странице «Выполнение преобразования»](#conversion)  
  
###  <a name="open-the-integration-services-project-conversion-wizard"></a><a name="open_dialog"></a> Открытие мастера преобразования проекта служб Integration Services  
 Выполните одно из следующих действий, чтобы открыть мастер **преобразования проекта служб Integration Services** .  
  
-   Откройте проект в [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)], а затем в обозревателе решений щелкните его правой кнопкой мыши и выберите команду **Преобразовать в модель развертывания проекта**.  
  
-   В обозревателе объектов в среде [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)] щелкните правой кнопкой мыши узел **Проекты** в разделе **Каталог служб Integration Services** и выберите пункт **Импорт пакетов**.  
  
 В зависимости от того, запускается ли **Мастер преобразования проекта служб Integration Services** из [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)] или из среды [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)], он выполняет разные задачи по преобразованию.   
  
###  <a name="set-options-on-the-locate-packages-page"></a><a name="locate"></a> Задание параметров на странице «Поиск пакетов»  
  
> [!NOTE]  
>  Страница **Поиск пакетов** доступна только при запуске мастера из среды [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)].  
  
 При выборе пункта **Файловая система** в раскрывающемся списке **Источник** на странице отображается следующий параметр. Выберите этот параметр, если пакет размещен в файловой системе.  
  
 **Папка**  
 Введите путь к пакету или перейдите к пакету, нажав кнопку **Обзор**.  
  
 При выборе пункта **Хранилище пакетов служб SSIS** в раскрывающемся списке **Источник** на странице отображаются следующие параметры. Дополнительные сведения о хранилище пакетов см. в разделе [Управление пакетами (службы SSIS)](../../integration-services/service/package-management-ssis-service.md).  
  
 **Server**  
 Введите имя сервера или выберите сервер.  
  
 **Папка**  
 Введите путь к пакету или перейдите к пакету, нажав кнопку **Обзор**.  
  
 При выборе пункта **Microsoft SQL Server** в раскрывающемся списке **Источник** на странице отображаются следующие параметры. Выберите этот параметр, если пакет находится в Microsoft [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].  
  
 **Server**  
 Введите имя сервера или выберите сервер.  
  
 **Использовать проверку подлинности Windows**  
 Режим проверки подлинности Microsoft Windows позволяет подключаться с учетной записью пользователя Windows. При использовании проверки подлинности Windows не требуется ввод имени пользователя или пароля.  
  
 **Использовать проверку подлинности SQL Server**  
 При соединении пользователя с указанным именем и паролем из ненадежных соединений [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] выполняет проверку подлинности подключения посредством проверки настройки учетной записи входа [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] и проверки совпадения указанного пароля с ранее сохраненным. Если в службе [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] не задана учетная запись входа, проверка подлинности завершается ошибкой, о которой пользователь получит сообщение.  
  
 **User name**  
 При использовании проверки подлинности SQL Server укажите имя пользователя.  
  
 **Пароль**  
 Укажите пароль, если используется проверка подлинности SQL Server.  
  
 **Папка**  
 Введите путь к пакету или перейдите к пакету, нажав кнопку **Обзор**.  
  
###  <a name="set-options-on-the-select-packages-page"></a><a name="selectPackages"></a> Задание параметров на странице «Выбор пакетов»  
 **Имя пакета**  
 Выводит список файлов пакета.  
  
 **Состояние**  
 Указывает, готов ли пакет к преобразованию в модель развертывания проекта.  
  
 **Message**  
 Отображает сообщение, связанное с пакетом.  
  
 **Пароль**  
 Отображает пароль, связанный с пакетом. Текст пароля скрыт.  
  
 **Применить к выбранным объектам**  
 Нажмите эту кнопку для установки пароля в текстовом поле **Пароль** для выбранного пакета или пакетов.  
  
 **Обновить**  
 Обновляет список пакетов.  
  
###  <a name="set-options-on-the-select-destination-page"></a><a name="destination"></a> Задание параметров на странице «Выбор назначения»  
 На этой странице укажите имя и путь к новому файлу развертывания проекта (ISPAC) или выберите существующий файл.  
  
> [!NOTE]  
>  Страница **Выбор назначения** доступна только при запуске мастера из среды [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)].  
  
 **Путь для создаваемых файлов**  
 Введите путь к файлу развертывания или перейдите к файлу, нажав кнопку **Обзор**.  
  
 **Имя проекта**  
 Введите имя проекта.  
  
 **Уровень защиты**  
 Выберите уровень защиты. Дополнительные сведения см. в разделе [Access Control for Sensitive Data in Packages](../../integration-services/security/access-control-for-sensitive-data-in-packages.md).  
  
 **Описание проекта**  
 Введите необязательное описание для проекта.  
  
###  <a name="set-options-on-the-specify-project-properties-page"></a><a name="projectProperties"></a> Задание параметров на странице «Задание свойств проекта»  
  
> [!NOTE]  
>  Страница **Задание свойств проекта** доступна только при запуске мастера из среды [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)].  
  
 **Имя проекта**  
 Выводит список имен проекта.  
  
 **Уровень защиты**  
 Выбор уровня защиты для пакетов, содержащихся в проекте. Дополнительные сведения об уровнях защиты см. в разделе [Access Control for Sensitive Data in Packages](../../integration-services/security/access-control-for-sensitive-data-in-packages.md).  
  
 **Описание проекта**  
 Введите необязательное описание проекта.  
  
###  <a name="set-options-on-the-update-execute-package-task-page"></a><a name="executePackage"></a> Задание параметров на странице «Обновление задачи выполнения пакета»  
 Обновление задачи «Выполнение пакета» содержится в пакетах для использования ссылки на основе проектов. Дополнительные сведения см. в разделе [Execute Package Task Editor](../control-flow/execute-package-task.md).  
  
 **Родительский пакет**  
 Выводит список имен пакета, который выполняет дочерний пакет с помощью задачи «Выполнение пакета».  
  
 **Имя задачи**  
 Выводит список имен задачи «Выполнение пакета».  
  
 **Исходная ссылка**  
 Отображает текущий путь к дочернему пакету.  
  
 **Назначение ссылки**  
 Выбор дочернего пакета, хранящегося в этом проекте.  
  
###  <a name="set-options-on-the-select-configurations-page"></a><a name="configurations"></a> Задание параметров на странице «Выбор конфигурации»  
 Выберите конфигурации пакетов, которые требуется заменить параметрами.  
  
 **Пакет**  
 Выводит список файлов пакета.  
  
 **Тип**  
 Выводит список типов конфигурации, например XML-файл конфигурации.  
  
 **Строка конфигурации**  
 Отображает путь к файлу конфигурации.  
  
 **Состояние**  
 Отображает сообщение о состоянии конфигурации. Щелкните это сообщение для просмотра его содержимого.  
  
 **Добавление конфигураций**  
 Добавление конфигурации пакета, содержащейся в других проектах, в список доступных конфигураций, которые необходимо заменить параметрами. Вы можете выбрать конфигурации, которые хранятся в файловой системе или в SQL Server.  
  
 **Обновить**  
 Нажмите эту кнопку для обновления списка конфигураций.  
  
 **Удаление конфигураций из всех пакетов после преобразования**  
 Рекомендуется удалить все конфигурации из проекта, выбрав этот параметр.  
  
 Если не выбрать этот параметр, будут удалены только те конфигурации, которые требуется заменить параметрами.  
  
###  <a name="set-options-on-the-create-parameters-page"></a><a name="createParameters"></a> Задание параметров на странице «Создание параметров»  
 Выбор имени параметра и области каждого свойства конфигурации.  
  
 **Пакет**  
 Выводит список файлов пакета.  
  
 **Имя параметра**  
 Выводит список имен параметра.  
  
 **Область действия**  
 Выбор области параметра, пакета или проекта.  
  
###  <a name="set-options-on-the-configure-parameters-page"></a><a name="configureParameters"></a> Задание параметров на странице «Настройка параметров»  
 **имя**;  
 Выводит список имен параметра.  
  
 **Область действия**  
 Отображает область действия параметров.  
  
 **Значение**  
 Выводит список значений параметра.  
  
 Для настройки свойства параметра нажмите кнопку с многоточием рядом с полем значения.  
  
 В диалоговом окне **Задание сведений о параметре** вы можете изменить значение параметра. Вы можете также указать, необходимо ли при запуске пакета указывать значение параметра.  
  
 Изменить значение вы можете на странице **Параметры** диалогового окна **Настройка** в среде [!INCLUDE[ssManStudio](../../includes/ssmanstudio-md.md)], нажав кнопку обзора рядом с параметром. Отобразится диалоговое окно **Задание значения параметра** .  
  
 В диалоговом окне **Задание сведений о параметре** перечислены также типы данных значения параметра и его начальное значение.  
  
###  <a name="set-the-options-on-the-review-page"></a><a name="review"></a> Задание параметров на странице «Просмотр»  
 Подтвердить параметры, которые выбраны для преобразования проекта, можно на странице **Обзор**.  
  
 **Назад**  
 Нажмите эту кнопку для изменения параметра.  
  
 **Преобразовать**  
 Нажмите эту кнопу для преобразования проекта в модель развертывания проекта.  
  
###  <a name="set-the-options-on-the-perform-conversion"></a><a name="conversion"></a> Задание параметров на странице «Выполнение преобразования»  
 На странице «Выполнение преобразования» отображается состояние преобразования проекта.  
  
 **Действие**  
 Выводит список заданных шагов преобразования.  
  
 **Результат**  
 Отображает состояние каждого шага преобразования. Щелкните сообщение о состоянии для получения дополнительных сведений.  
  
 Преобразование проекта не сохраняется до тех пор, пока проект сохранен в [!INCLUDE[vsprvs](../../includes/vsprvs-md.md)].  
  
 **Сохранить отчет**  
 Нажмите эту кнопку, чтобы сохранить сводку по преобразованию проекта в XML-файл.