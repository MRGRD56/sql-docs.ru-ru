---
description: диспетчер соединений с кэшем
title: Диспетчер подключения кэша | Документы Майкрософт
ms.custom: ''
ms.date: 03/07/2017
ms.prod: sql
ms.prod_service: integration-services
ms.reviewer: ''
ms.technology: integration-services
ms.topic: conceptual
f1_keywords:
- sql13.dts.designer.cacheconnection.f1
helpviewer_keywords:
- Cache connection manager
ms.assetid: bdc92038-3720-4795-8a5c-79b963f2c952
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 074aa791a20eed06241aef1087f5ac355f8ea493
ms.sourcegitcommit: c7f40918dc3ecdb0ed2ef5c237a3996cb4cd268d
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/05/2020
ms.locfileid: "91725382"
---
# <a name="cache-connection-manager"></a>диспетчер соединений с кэшем

[!INCLUDE[sqlserver-ssis](../../includes/applies-to-version/sqlserver-ssis.md)]


  Диспетчер соединений с кэшем считывает данные из преобразования кэша или из файла кэша (CAW) и может сохранить эти данные в файле кэша. Данные всегда будут храниться в памяти, вне зависимости от того, был ли настроен диспетчер соединений с кэшем для использования файла кэша.  
  
 Преобразование «Преобразование кэша» записывает данные из подключенного источника данных в потоке данных в диспетчер соединений с кэшем. Преобразование «Уточняющий запрос» в пакете выполняет уточняющие запросы по данным.  
  
> [!NOTE]  
>  Диспетчер соединений с кэшем не поддерживает типы данных больших двоичных объектов: DT_TEXT, DT_NTEXT и DT_IMAGE. Если ссылочный набор данных содержит данные типа BLOB, то при попытке выполнения пакета компонент завершится сбоем. **Редактор диспетчера соединений с кэшем** можно использовать для изменения типов данных столбцов. Дополнительные сведения см. в разделе [Cache Connection Manager Editor]().  
  
> [!NOTE]  
>  Уровень защиты пакета не применяется к кэшируемому файлу. Если кэшируемый файл содержит важные данные, используйте список управления доступом (ACL), чтобы запретить доступ к расположению или папке, в которой хранится файл. Доступ следует разрешать только определенным учетным записям. Дополнительные сведения см. в разделе [Доступ к файлам, используемым пакетами](../../integration-services/security/security-overview-integration-services.md#files).  
  
## <a name="configuration-of-the-cache-connection-manager"></a>Настройка диспетчера соединений с кэшем  
 Диспетчер соединений с кэшем можно настроить следующими способами.  
  
-   Указать, следует ли использовать файл кэша.  
  
     Если выполнена настройка диспетчера соединений с кэшем для использования файла кэша, то диспетчер соединений выполняет одно из следующих действий.  
  
    -   Сохранить данные в файле, если преобразование «Конвертация данных кэш» настроено на запись данных из источника данных в потоке данных в диспетчер соединений с кэшем.  
  
    -   Считать данные из файла кэша.  
  
     Дополнительные сведения см. в разделе [Cache Transform](../../integration-services/data-flow/transformations/cache-transform.md).  
  
-   Изменить метаданные столбцов, хранящихся в кэше.  
  
-   Обновить имя файла кэша во время выполнения с помощью выражения для установки свойства ConnectionString. Дополнительные сведения см. в разделе [Использование выражений свойств в пакетах](../../integration-services/expressions/use-property-expressions-in-packages.md).  
  
 Значения свойств можно задавать с помощью конструктора [!INCLUDE[ssISnoversion](../../includes/ssisnoversion-md.md)] или программными средствами.  
  
 Дополнительные сведения о программной настройке диспетчера подключений см. в разделах <xref:Microsoft.SqlServer.Dts.Runtime.ConnectionManager> и [Добавление соединений программным образом](../../integration-services/building-packages-programmatically/adding-connections-programmatically.md).  
  
## <a name="cache-connection-manager-editor"></a>Редактор диспетчера соединений с кэшем
  Диспетчер соединений с кэшем читает эталонный набор данных из преобразования кэша или из файла кэша (CAW) и может сохранить эти данные в файле кэша. Данные всегда сохраняются в памяти.  
  
> [!NOTE]  
>  Диспетчер соединений с кэшем не поддерживает типы данных больших двоичных объектов: DT_TEXT, DT_NTEXT и DT_IMAGE. Если ссылочный набор данных содержит данные типа BLOB, то при попытке выполнения пакета компонент завершится сбоем. **Редактор диспетчера соединений с кэшем** можно использовать для изменения типов данных столбцов.  
  
 Преобразование «Уточняющий запрос» выполняет уточняющие запросы применительно к эталонному набору данных.  
  
 В диалоговом окне **Редактор диспетчера соединений с кэшем** находятся следующие вкладки.  
  
###  <a name="general-tab"></a><a name="generaltab"></a> Вкладка «Общие»  
 Используйте вкладку **Общие** диалогового окна **Редактор диспетчера соединений с кэшем** , чтобы указать, должно ли содержимое кэша быть прочитано из файла или сохранено в файле.  
  
#### <a name="options"></a>Параметры  
 **Имя диспетчера подключений**  
 Предоставьте уникальное имя для соединения с кэшем в рабочем процессе. Выбранное имя будет отображаться в конструкторе служб [!INCLUDE[ssIS](../../includes/ssis-md.md)] .  
  
 **Описание**  
 Опишите соединение. Рекомендуется описать цель соединения, чтобы пакеты самодокументировались и их проще было обслуживать.  
  
 **Использование файлового кэша**  
 Указать, следует ли использовать файл кэша.  
  
> [!NOTE]  
>  Уровень защиты пакета не применяется к кэшируемому файлу. Если кэшируемый файл содержит важные данные, используйте список управления доступом (ACL), чтобы запретить доступ к расположению или папке, в которой хранится файл. Доступ следует разрешать только определенным учетным записям. Дополнительные сведения см. в разделе [Доступ к файлам, используемым пакетами](../../integration-services/security/security-overview-integration-services.md#files).  
  
 Если выполнена настройка диспетчера соединений с кэшем для использования файла кэша, то диспетчер соединений выполняет одно из следующих действий.  
  
-   Сохранить данные в файле, если преобразование «Конвертация данных кэш» настроено на запись данных из источника данных в потоке данных в диспетчер соединений с кэшем. Дополнительные сведения см. в разделе [Cache Transform](../../integration-services/data-flow/transformations/cache-transform.md).  
  
-   Считать данные из файла кэша.  
  
 **Имя файла**  
 Введите путь и имя файла кэша.  
  
 **Обзор**  
 Найдите файл кэша.  
  
 **Обновление метаданных**  
 Удалите столбец метаданных в диспетчере соединений с кэшем и повторно заполните диспетчер соединений с кэшем метаданными столбца из выбранного файла кэша.  
  
###  <a name="columns-tab"></a><a name="columnstab"></a> Вкладка «Столбцы»  
 Вкладка **Столбцы** диалогового окна **Редактор диспетчера соединений с кэшем** используется для настройки свойств каждого из столбцов в кэше.  
  
#### <a name="options"></a>Параметры  
 **Столбец**  
 Указывает имя столбца.  
  
 **Значение индекса**  
 Указывает, какие столбцы являются индексными столбцами, задавая позицию в индексе каждого столбца. Индекс представляет собой коллекцию из одного или нескольких столбцов.  
  
 Для неиндексированных столбцов позиция индекса равна 0.  
  
 Для индексированных столбцов позиция индекса является положительным порядковым номером. Этот номер указывает порядок, в котором преобразование «Уточняющий запрос» сравнивает строки в ссылочном наборе данных со строками в источнике входных данных. Столбец с самыми уникальными значениями должен иметь наименьшую позицию индекса.  
  
> [!NOTE]  
>  Если преобразование «Уточняющий запрос» настроено для использования диспетчера соединений с кэшем, то только индексированные столбцы в ссылочном наборе данных могут быть сопоставлены с входными столбцами. Кроме того, все столбцы индекса должны быть сопоставлены.  
  
 **Тип**  
 Задает тип данных столбца.  
  
 **Длина**  
 Указывает тип данных столбца. Параметр **Length**можно изменить, если он применим к типу данных.  
  
 **Точность**  
 Задает точность для определенных типов данных столбца. Точность представляет собой количество цифр в числе. Параметр **Precision**можно изменить, если он применим к типу данных.  
  
 **Масштаб**  
 Задает масштаб для определенных типов данных столбца. Масштаб представляет собой количество цифр справа от десятичной запятой в числе. Параметр **Scale**можно изменить, если он применим к типу данных.  
  
 **Кодовая страница**  
 Задает кодовую страницу для столбца этого типа. Параметр **Code Page**можно изменить, если он применим к типу данных.  
  
## <a name="related-tasks"></a>Связанные задачи  
 [Реализация преобразования "Уточняющий запрос" в режиме полного кэширования с помощью преобразования диспетчера соединений с кэшем](lookup-transformation-full-cache-mode-cache-connection-manager.md)  
  
