---
description: Занятие 3–3. Тестирование развернутых пакетов
title: Шаг 3. Тестирование развернутых пакетов | Документы Майкрософт
ms.custom: ''
ms.date: 03/14/2017
ms.prod: sql
ms.prod_service: integration-services
ms.reviewer: ''
ms.technology: integration-services
ms.topic: tutorial
ms.assetid: 9159da3f-c9ca-4015-9e85-3bf4373a1349
author: chugugrace
ms.author: chugu
ms.openlocfilehash: 96a06d721c1ccbb4ce254705ceb676c1c338b68a
ms.sourcegitcommit: 917df4ffd22e4a229af7dc481dcce3ebba0aa4d7
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/10/2021
ms.locfileid: "100354930"
---
# <a name="lesson-3-3---testing-the-deployed-packages"></a>Занятие 3–3. Тестирование развернутых пакетов

[!INCLUDE[sqlserver-ssis](../includes/applies-to-version/sqlserver-ssis.md)]


В этой задаче вы проверите пакеты, развернутые на экземпляр [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)].  
  
В других учебниках по [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] вы выполняли пакеты в среде [!INCLUDE[ssBIDevStudioFull](../includes/ssbidevstudiofull-md.md)], среде разработки для [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)]при помощи параметра **Запустить отладку** в меню **Отладка** . В этот раз пакет будет выполнен по-другому.  
  
[!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] предоставляют несколько средств, которые можно использовать для выполнения пакетов в тестовой или рабочей среде: программу командной строки **dtexec** и служебную программу для запуска пакетов. Программа выполнения пакетов — это графическое средство, основанное на программе **dtexec**. Оба эти средства выполняют пакет немедленно. Кроме того, [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] предоставляет подсистему агента SQL Server, которая специально создана для планирования выполнения пакетов в качестве шага в задании агента SQL Server.  
  
Программа выполнения пакетов будет использоваться для выполнения развернутых пакетов. Пакеты будут использоваться как есть; следовательно, нет необходимости обновлять сведения на страницах в диалоговом окне. Пакеты будут выполняться со страницы "Общие", которая является первой страницей в программе выполнения пакетов. При желании можно посмотреть на другие страницы, чтобы иметь представление о содержащихся на них сведениях о пакетах.  
  
> [!NOTE]  
> Чтобы гарантировать успешное выполнение пакетов в рамках данного учебника, не нужно изменять никаких параметров.  
  
Перед выполнением пакетов в среде [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)] при помощи программы выполнения пакетов убедитесь, что службы Integration Services запущены. Службы Integration Services предоставляют поддержку для хранения и выполнения пакета. Если службы остановлены, не получится соединиться с [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] , и среда [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)] не предоставит список пакетов на выполнение. Также нужно иметь разрешения на выполнение пакета на экземпляре, где пакет был развернут. Дополнительные сведения см. в разделе [Роли служб Integration Services (службы SSIS)](../integration-services/security/integration-services-roles-ssis-service.md).  
  
Папки верхнего уровня в папке «Сохраненные пакеты» являются пользовательскими папками, за которыми следят службы Integration Services. Можно указать любое количество папок в файле MsDtsSrvr.ini.xml. В учебнике предполагается, что вы используете файл MsDtsSrvr.ini.xml по умолчанию и имена папок верхнего уровня папки "Сохраненные пакеты" таковы: "Файловая система" and "MSDB".  
  
### <a name="to-connect-to-integration-services-in-sql-server-management-studio"></a>Соединение со службами Integration Services в среде SQL Server Management Studio  
  
1.  Нажмите кнопку **Пуск**, укажите пункт **Все программы**, пункт **Microsoft SQL Server**, а затем выберите команду **Среда SQL Server Management Studio**.  
  
2.  В диалоговом окне **Соединение с сервером** выберите **Службы Integration Services** из списка **Тип сервера** , введите имя сервера в поле **Имя сервера** и нажмите **Соединить**.  
  
    > [!IMPORTANT]  
    > Если подключиться к [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)]не удается, возможно, что служба [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] не запущена. Чтобы узнать о состоянии службы, нажмите кнопку **Пуск** и последовательно выберите пункты **Все программы**, **Microsoft SQL Server**, **Средства настройки** и **Диспетчер конфигурации SQL Server**. На левой панели щелкните **Службы SQL Server**. На панели справа найдите службу [!INCLUDE[ssISnoversion](../includes/ssisnoversion-md.md)] . Если служба не запущена, запустите ее.  
  
    [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)] . По умолчанию окно обозревателя объектов открывается и помещается в правом верхнем углу студии. Если обозреватель объектов не открыт, выберите **Обозреватель объектов** в меню **Вид** .  
  
### <a name="to-run-the-packages-using-the-execute-package-utility"></a>Выполнение пакета с помощью программы выполнения пакетов  
  
1.  В обозревателе объектов разверните папку «Сохраненные пакеты».  
  
2.  Разверните папку "MSDB". Поскольку пакеты были развернуты на [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)], все развернутые пакеты хранятся в базе данных msdb [!INCLUDE[ssNoVersion](../includes/ssnoversion-md.md)] и все развернутые пакеты появляются в папке MSDB. Папка "Файловая систем" остается пустой, пока вы не развернете пакеты в файловую систему вне папки "Deployment Tutorial".  
  
3.  С начала списка пакетов щелкните правой кнопкой мыши пакет DataTransfer и выберите пункт **Выполнить пакет**.  
  
4.  В диалоговом окне **Программа выполнения пакетов** нажмите кнопку **Выполнить**.  
  
5.  В диалоговом окне **Программа выполнения пакетов** просмотрите ход и результаты выполнения пакета. Когда кнопка **Остановить** становится недоступной, что свидетельствует о том, что выполнение пакета завершено, нажмите кнопку **Закрыть**.  
  
    > [!IMPORTANT]  
    > При нажатии кнопки **Остановить** во время выполнения пакета выполнение не будет завершено.  
  
6.  В диалоговом окне **Программа выполнения пакетов** нажмите кнопку **Закрыть**.  
  
7.  Повторите шаги 3 – 6 для пакета «LoadXML».  
  
8.  В меню **Файл** выберите пункт **Выход**.  
  
### <a name="to-verify-the-results-of-the-datatransfer-package"></a>Проверка результатов выполнения пакета "DataTransfer"  
  
1.  На панели инструментов среды [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)]нажмите кнопку **Создать запрос**.  
  
2.  В диалоговом окне **Соединение с сервером** выберите **Компонент Database Engine** в списке **Тип сервера** , введите имя сервера, на котором установлен учебный пакет, или введите "(local)" в поле **Имя сервера** и выберите режим проверки подлинности. При использовании проверки подлинности SQL Server укажите имя пользователя и пароль.  
  
3.  Нажмите кнопку **Подключить**.  
  
4.  В окне запроса введите или вставьте следующую инструкцию SQL:  
  
    `USE AdventureWorks`  
  
    `SELECT * FROM HighIncomeCustomers`  
  
5.  Нажмите клавишу **F5** или щелкните значок "Выполнить" на панели инструментов.  
  
    Запрос возвращает 31 строку. Возвращаемый результат содержит все строки текстового файла Customers.txt, в которых значения в столбце YearlyIncome больше 100 000.  
  
6.  Перейдите в папку DeploymentTutorial, щелкните правой кнопкой мыши XML-файл журнала "Deployment Tutorial" и выберите пункт **Открыть**. Файл можно открыть при помощи приложения «Блокнот» или другим текстовым или XML-редактором.  
  
### <a name="to-verify-the-results-of-the-loadxmldata-package"></a>Проверка результатов выполнения пакета "LoadXMLData"  
  
1.  На панели инструментов среды [!INCLUDE[ssManStudioFull](../includes/ssmanstudiofull-md.md)]нажмите кнопку **Создать запрос**.  
  
2.  При повторном появлении запроса на подключение в диалоговом окне **Соединение с сервером** выберите **Компонент Database Engine** в списке **Тип сервера** , введите имя сервера, на котором установлены учебные пакеты, или введите "(local)" в поле **Имя сервера** и выберите режим проверки подлинности. При использовании проверки подлинности SQL Server укажите имя пользователя и пароль.  
  
3.  Нажмите кнопку **Подключить**.  
  
4.  В окне запроса введите или вставьте следующую инструкцию SQL:  
  
    `USE AdventureWorks`  
  
    `SELECT * FROM OrderDatesByCountryRegion`  
  
5.  Нажмите клавишу **F5** или щелкните значок "Выполнить" на панели инструментов.  
  
    Запрос возвращает 21 строку. Возвращаемый результат состоит из строк XML-файла данных, "orders.xml". Каждая строка является сводкой по стране или региону; в строке присутствуют данные про название страны или региона, про число заказов для каждой страны или региона и даты последнего и первого заказов.  
  
## <a name="see-also"></a>См. также  
[Программа dtexec](../integration-services/packages/dtexec-utility.md)  
  
  
  
