---
description: datetime (Transact-SQL)
title: datetime (Transact-SQL) | Документы Майкрософт
ms.custom: ''
ms.date: 07/23/2017
ms.prod: sql
ms.prod_service: database-engine, sql-database, sql-data-warehouse, pdw
ms.reviewer: ''
ms.technology: t-sql
ms.topic: reference
f1_keywords:
- datetime_TSQL
- datetime
dev_langs:
- TSQL
helpviewer_keywords:
- time [SQL Server], data types
- date and time [SQL Server], datetime
- dates [SQL Server], data types
- datetime data type [SQL Server]
- data types [SQL Server], date and time
ms.assetid: 9bd1cc5b-227b-4032-95d6-7581ddcc9924
author: MikeRayMSFT
ms.author: mikeray
monikerRange: '>=aps-pdw-2016||=azuresqldb-current||=azure-sqldw-latest||>=sql-server-2016||>=sql-server-linux-2017||=azuresqldb-mi-current'
ms.openlocfilehash: b7ce090d303fbdaeb5abacb0522c8ae4c6dc9f9c
ms.sourcegitcommit: 33f0f190f962059826e002be165a2bef4f9e350c
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/30/2021
ms.locfileid: "99172565"
---
# <a name="datetime-transact-sql"></a>datetime (Transact-SQL)
[!INCLUDE [sql-asdb-asdbmi-asa-pdw](../../includes/applies-to-version/sql-asdb-asdbmi-asa-pdw.md)]

Определяет дату, включающую время дня с долями секунды в 24-часовом формате.
  
> [!NOTE]  
>  Используйте для новых проектов типы данных **time**, **date**, **datetime2** и **datetimeoffset**. Эти типы соответствуют стандарту языка SQL. Их проще переносить на другие платформы. Типы **time**, **datetime2** и **datetimeoffset** обеспечивают большую точность секунд. **datetimeoffset** обеспечивает поддержку часовых поясов для приложений, развертываемых по всему миру.  
  
## <a name="datetime-description"></a>Описание типа данных datetime  
  
|Property (Свойство)|Значение|  
|---|---|
|Синтаксис|**datetime**|  
|Использование|DECLARE \@MyDatetime **datetime**<br /><br /> CREATE TABLE Таблица1 ( Столбец1 **datetime** )|  
|Форматы строковых литералов по умолчанию<br /><br /> (используется для клиента нижнего уровня)|Неприменимо|  
|Диапазон даты|С я января 1753 года до 31 декабря 9999 года|  
|Диапазон времени|От 00:00:00 до 23:59:590,997|  
|Диапазон смещения часового пояса|None|  
|Диапазоны элементов|ГГГГ — четырехзначное число от 1753 до 9999, представляющее год.<br /><br /> ММ обозначает 2 цифры, которые представляют месяц и принимают значения от 01 до 12.<br /><br /> Обозначение ДД состоит из двух цифр, представляющих день указанного месяца, и принимает значения от 01 до 31 в зависимости от месяца.<br /><br /> Обозначение чч состоит из двух цифр, представляющих час, и принимает значения от 00 до 23.<br /><br /> Обозначение мм состоит из двух цифр, представляющих минуту, и принимает значения от 00 до 59.<br /><br /> Обозначение сс состоит из двух цифр, представляющих секунду, и принимает значения от 00 до 59.<br /><br /> Обозначение n* может содержать от нуля до трех цифр, представляющих доли секунды, и принимает значения от 0 до 999.|  
|Длина в символах|Минимально 19 позиций, максимально — 23|  
|Объем памяти|8 байт|  
|Точность|Округлено до приращения 0,000, 0,003 или 0,007 секунд|  
|Значение по умолчанию|1900-01-01 00:00:00|  
|Календарь|Григорианский (включает полный диапазон лет)|  
|Определяемая пользователем точность в долях секунды|Нет|  
|Учет и сохранение смещения часового пояса|Нет|  
|Учет перехода на летнее время|Нет|  
  
## <a name="supported-string-literal-formats-for-datetime"></a>Поддерживаемые форматы строковых литералов для типа данных datetime  
В представленных ниже таблицах приводятся поддерживаемые форматы строковых литералов для типа данных **datetime**. За исключением ODBC, строковые литералы типа **datetime** заключаются в одинарные кавычки ('), например 'string_literaL'. Если язык среды не **us_english**, строковые литералы должны иметь формат N'string_literaL'.
  
|Числовой|Описание|  
|---|---|
|Форматы даты<br /><br /> [0]4/15/[19]96 -- (мдг)<br /><br /> [0]4-15-[19]96 -- (мдг)<br /><br /> [0]4.15.[19]96 -- (мдг)<br /><br /> [0]4/[19]96/15 -- (мгд)<br /><br /> 15/[0]4/[19]96 -- (дмг)<br /><br /> 15/[19]96/[0]4 -- (дгм)<br /><br /> [19]96/15/[0]4 -- (гдм)<br /><br /> [19]96/[0]4/15 -- (гмд)<br /><br /> Форматы времени<br /><br /> 14:30<br /><br /> 14:30[:20:999]<br /><br /> 14:30[:20.9]<br /><br /> 4am<br /><br /> 16:00:00|Месяц в датах может указываться в числовом формате. Например, 5/20/97 обозначает двадцатое мая 1997 года. Используя числовой формат дат, указывайте месяц, день и год в виде строки со знаками косой черты (/), дефисами (-) или точками (.) в качестве разделителей. Эта строчка должна выглядеть следующим образом:<br /><br /> *число разделитель число разделитель число [время] [время]*<br /><br /> <br /><br /> При использовании языковой настройки **us_english** порядком по умолчанию для даты является mdy (МДГ). Порядок даты можно изменить с помощью инструкции [SET DATEFORMAT](../../t-sql/statements/set-dateformat-transact-sql.md).<br /><br /> Установка для SET DATEFORMAT определяет, как будут интерпретированы значения дат. Если порядок не соответствует конфигурации, значения не обрабатываются как даты. Неупорядоченные даты могут неправильно интерпретироваться как даты за пределами диапазона или даты с неправильными значениями. Например, 12/10/08 может быть интерпретировано как одна из шести различных дат в зависимости от установки DATEFORMAT. Четырехзначный год интерпретируется как год.|  
  
|Алфавитный формат|Описание|  
|---|---|
|Apr[il] [15][,] 1996<br /><br /> Apr[il] 15[,] [19]96<br /><br /> Apr[il] 1996 [15]<br /><br /> [15] Apr[il][,] 1996<br /><br /> 15 Apr[il][,][19]96<br /><br /> 15 [19]96 apr[il]<br /><br /> [15] 1996 apr[il]<br /><br /> 1996 APR[IL] [15]<br /><br /> 1996 [15] APR[IL]|Можно указывать дату с полным именем месяца. Например, «апрель» или сокращение «Апр», заданное в текущем языке. Запятые не обязательны, регистр букв не учитывается.<br /><br /> Некоторые рекомендации по применению алфавитных форматов даты:<br /><br /> 1. Заключайте дату и время в одинарные кавычки ('). Для всех языков, кроме английского, используйте «N'».<br /><br /> 2. Символы, заключенные в квадратные скобки, являются необязательными.<br /><br /> 3. Если указать две последние цифры года, значения, меньшие двух последних цифр значения параметра конфигурации сервера [two digit year cutoff](../../database-engine/configure-windows/configure-the-two-digit-year-cutoff-server-configuration-option.md), будут относиться к столетию года усечения. Значения, большие или равные двум последним цифрам этого параметра, относятся к столетию, предшествующему столетию года усечения. Например, если значение параметра **two digit year cutoff** равно 2050 (по умолчанию), то год, обозначенный двумя цифрами 25, интерпретируется как 2025, а год, обозначенный двумя цифрами 50, — как 1950. Во избежание неоднозначности используйте четырехзначную запись года.<br /><br /> 4. Если не указано число месяца, подразумевается первое число месяца.<br /><br /> <br /><br /> Параметр сеанса SET DATEFORMAT не применяется, если месяц указывается в алфавитном формате.|  
  
|ISO 8601|Описание|  
|---|---|
|ГГГГ-ММ-ДДТчч:мм:сс[.ммм]<br /><br /> ГГГГММДД[ чч:мм:сс[.ммм]]|Примеры:<br /><br /> 1. 2004-05-23T14:25:10<br /><br /> 2. 2004-05-23T14:25:10.487<br /><br /> <br /><br /> Чтобы использовать формат ISO 8601, необходимо указать каждый элемент в этом формате, включая **T**, двоеточие (:) и точку (.), которые отображаются в этом формате.<br /><br /> Квадратные скобки показывают, что доли секунд не являются обязательными. Временной компонент указан в 24-часовом формате.<br /><br /> Символ T указывает на начало временной части значения **datetime**.<br /><br /> Преимущество формата ISO 8601 заключается в том, что он является международным стандартом с однозначным представлением. Кроме того, на этот формат не влияют настройки SET DATEFORMAT и [SET LANGUAGE](../../t-sql/statements/set-language-transact-sql.md).|  
  
|Без разделителей|Описание|  
|---|---|
|ГГГГММДД чч:мм:сс[.ммм]||  
  
|ODBC|Описание|  
|---|---|
|{ ts '1998-05-02 01:23:56.123' }<br /><br /> { d '1990-10-02' }<br /><br /> { t '13:33:41' }|Интерфейс API ODBC определяет управляющие последовательности, представляющие значения даты и времени, называемые в ODBC метками времени. Этот формат меток времени ODBC также поддерживается определением языка OLE DB (DBGUID-SQL), поддерживаемым поставщиком [!INCLUDE[msCoName](../../includes/msconame-md.md)] OLE DB для [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Приложения, использующие ADO, OLE DB или API-интерфейсы, основанные на ODBC, могут использовать этот формат отметок времени ODBC для представления даты и времени.<br /><br /> Escape-последовательности меток времени ODBC имеют следующий формат: { *literal_type* '*constant_value*' }:<br /><br /> <br /><br /> - *literal_type* определяет тип escape-последовательности. Метки времени имеют три описателя *literal_type*:<br />1) d = только дата<br />2) t = только время<br />3) ts = метка времени (время + дата)<br /><br /> <br /><br /> - '*constant_value*' является значением escape-последовательности. Значение *constant_value* должно соответствовать этим форматам для каждого *literal_type*.<br />d : гггг-мм-дд<br />t : чч:мм:сс[.fff]<br />ts : гггг-мм-дд чч:мм:сс[.fff]|  
  
## <a name="rounding-of-datetime-fractional-second-precision"></a>Округление типа данных datetime до долей секунды  
Значения типа **datetime** округляются в большую сторону до 0,000, 0,003 или 0,007 секунды, как показано в таблице, представленной ниже.
  
|Указанное пользователем значение|Значение, хранимое системой|  
|---|---|
|01/01/98 23:59:59.999|1998-01-02 00:00:00.000|  
|01/01/98 23:59:59.995<br /><br /> 01/01/98 23:59:59.996<br /><br /> 01/01/98 23:59:59.997<br /><br /> 01/01/98 23:59:59.998|1998-01-01 23:59:59.997|  
|01/01/98 23:59:59.992<br /><br /> 01/01/98 23:59:59.993<br /><br /> 01/01/98 23:59:59.994|1998-01-01 23:59:59.993|  
|01/01/98 23:59:59.990<br /><br /> 01/01/98 23:59:59.991|1998-01-01 23:59:59.990|  
  
## <a name="ansi-and-iso-8601-compliance"></a>Соответствие стандартам ANSI и ISO 8601  
**datetime** не удовлетворяет стандартам ANSI и ISO 8601.
  
##  <a name="converting-date-and-time-data"></a><a name="_datetime"></a> Преобразование данных типа Date и Time  
При преобразовании в типы данных даты и времени [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] отбрасывает все значения, которые не распознаются как значения даты или времени. Сведения об использовании функций CAST и CONVERT c данными типов даты и времени см. в статье [Функции CAST и CONVERT (Transact-SQL)](../../t-sql/functions/cast-and-convert-transact-sql.md).
  
### <a name="converting-other-date-and-time-types-to-the-datetime-data-type"></a>Преобразование других типов даты и времени в тип данных datetime 
В этом разделе описывается, что происходит при преобразовании других типов даты и времени в тип данных **datetime**.  
  
При преобразовании из типа **date** копируются год, месяц и день. Для компонента времени устанавливается значение 00:00:00.000. Следующий код демонстрирует результаты преобразования значения `date` в значение `datetime`.  
  
```sql
DECLARE @date date = '12-21-16';  
DECLARE @datetime datetime = @date;  
  
SELECT @datetime AS '@datetime', @date AS '@date';  
  
--Result  
--@datetime               @date  
------------------------- ----------  
--2016-12-21 00:00:00.000 2016-12-21  
```  
  
При преобразовании из **time(n)** компонент времени копируется, а для компонента даты устанавливается значение 1900-01-01. Если точность в долях секунды значения **time(n)** больше трех цифр, значение будет усечено. Следующий пример показывает результаты преобразования значения `time(4)` в значение `datetime`.  
  
```sql
DECLARE @time time(4) = '12:10:05.1237';  
DECLARE @datetime datetime = @time;  
  
SELECT @datetime AS '@datetime', @time AS '@time';  
  
--Result  
--@datetime               @time  
------------------------- -------------  
--1900-01-01 12:10:05.123 12:10:05.1237  
```  
  
При преобразовании из типа **smalldatetime** копируются часы и минуты. Секунды и доли секунд устанавливаются в значение 0. Следующий код демонстрирует результаты преобразования значения `smalldatetime` в значение `datetime`.  
  
```sql
DECLARE @smalldatetime smalldatetime = '12-01-16 12:32';  
DECLARE @datetime datetime = @smalldatetime;  
  
SELECT @datetime AS '@datetime', @smalldatetime AS '@smalldatetime';  
  
--Result  
--@datetime               @smalldatetime  
------------------------- -----------------------  
--2016-12-01 12:32:00.000 2016-12-01 12:32:00  
```  
  
При преобразовании из типа **datetimeoffset(n)** копируются компоненты даты и времени. Часовой пояс усекается. Если точность в долях секунды для значения **datetimeoffset(n)** превышает три разряда, значение будет усечено. Следующий пример показывает результаты преобразования значения `datetimeoffset(4)` в значение `datetime`.  
  
```sql
DECLARE @datetimeoffset datetimeoffset(4) = '1968-10-23 12:45:37.1234 +10:0';  
DECLARE @datetime datetime = @datetimeoffset;  
  
SELECT @datetime AS '@datetime', @datetimeoffset AS '@datetimeoffset';  
  
--Result  
--@datetime               @datetimeoffset  
------------------------- ------------------------------  
--1968-10-23 12:45:37.123 1968-10-23 12:45:37.1237 +01:0   
```  
  
При преобразовании из типа **datetime2(n)** копируются дата и время. Если точность в долях секунды для значения **datetime2(n)** превышает три разряда, значение будет усечено. Следующий пример показывает результаты преобразования значения `datetime2(4)` в значение `datetime`.  
  
```sql
DECLARE @datetime2 datetime2(4) = '1968-10-23 12:45:37.1237';  
DECLARE @datetime datetime = @datetime2;  
  
SELECT @datetime AS '@datetime', @datetime2 AS '@datetime2';  
  
--Result  
--@datetime               @datetime2  
------------------------- ------------------------  
--1968-10-23 12:45:37.123 1968-10-23 12:45:37.1237  
```  
  
## <a name="examples"></a>Примеры  
В приведенном ниже примере сравниваются результаты приведения строкового типа к каждому из типов данных **date** и **time**.
  
```sql
SELECT   
     CAST('2007-05-08 12:35:29. 1234567 +12:15' AS time(7)) AS 'time'   
    ,CAST('2007-05-08 12:35:29. 1234567 +12:15' AS date) AS 'date'   
    ,CAST('2007-05-08 12:35:29.123' AS smalldatetime) AS   
        'smalldatetime'   
    ,CAST('2007-05-08 12:35:29.123' AS datetime) AS 'datetime'   
    ,CAST('2007-05-08 12:35:29. 1234567 +12:15' AS datetime2(7)) AS   
        'datetime2'  
    ,CAST('2007-05-08 12:35:29.1234567 +12:15' AS datetimeoffset(7)) AS   
        'datetimeoffset';  
```  
  
[!INCLUDE[ssResult](../../includes/ssresult-md.md)]
  
|Тип данных|Выходные данные|  
|---|---|
|**time**|12:35:29. 1234567|  
|**date**|2007-05-08|  
|**smalldatetime**|2007-05-08 12:35:00|  
|**datetime**|2007-05-08 12:35:29.123|  
|**datetime2**|2007-05-08 12:35:29. 1234567|  
|**datetimeoffset**|2007-05-08 12:35:29.1234567 +12:15|  
  
## <a name="see-also"></a>См. также раздел
[Функции CAST и CONVERT (Transact-SQL)](../../t-sql/functions/cast-and-convert-transact-sql.md)
  
  
