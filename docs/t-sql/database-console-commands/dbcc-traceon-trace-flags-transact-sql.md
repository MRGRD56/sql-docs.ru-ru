---
description: DBCC TRACEON — флаги трассировки (Transact-SQL)
title: Флаги трассировки (Transact-SQL) | Документы Майкрософт
ms.custom: ''
ms.date: 03/27/2020
ms.prod: sql
ms.prod_service: sql-database
ms.reviewer: ''
ms.technology: t-sql
ms.topic: language-reference
dev_langs:
- TSQL
helpviewer_keywords:
- trace flags [SQL Server], about trace flags
- trace flags [SQL Server]
- global trace flags [SQL Server]
- flags [SQL Server]
- session trace flags [SQL Server]
- performance [SQL Server], trace
- debugging [SQL Server], trace flags
ms.assetid: b971b540-1ac2-435b-b191-24399eb88265
author: pmasl
ms.author: pelopes
ms.openlocfilehash: 91f0fc840d6e4f6925acde6499573ae5a4506463
ms.sourcegitcommit: f7c9e562d6048f89d203d71685ba86f127d8d241
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/12/2020
ms.locfileid: "90042745"
---
# <a name="dbcc-traceon---trace-flags-transact-sql"></a>DBCC TRACEON — флаги трассировки (Transact-SQL)

[!INCLUDE[tsql-appliesto-ss2012-asdbmi-xxxx-xxx-md](../../includes/tsql-appliesto-ss2012-asdbmi-xxxx-xxx-md.md)]

Флаги трассировки используются для установки определенных характеристик сервера или изменения определенного режима. Например, флаг трассировки 3226 часто используется при запуске; он подавляет сообщения об успешном выполнении резервного копирования в журнале ошибок. Флаги трассировки часто используются для диагностики проблем производительности либо для отладки хранимых процедур или сложных компьютерных систем, но они могут также быть рекомендованы службой поддержки корпорации Майкрософт для устранения поведения, которое отрицательно сказывается на конкретной рабочей нагрузке. Все описанные флаги трассировки и те из них, которые рекомендуются службой поддержки Майкрософт, полностью поддерживаются в рабочей среде при использовании в порядке, указанном выше. Обратите внимание на то, что к флагам трассировки в этом списке могут относиться дополнительные соображения, касающиеся их использования в определенном случае, поэтому рекомендуется тщательно изучить все рекомендации, приведенные здесь и предоставленные сотрудником службы поддержки. Кроме того, как и в случае изменения конфигурации в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], всегда тщательно проверяйте флаг в тестовой среде перед развертыванием.

## <a name="remarks"></a>Remarks  
 В [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] флаги трассировки могут работать в трех областях: запрос, сеанс и глобальная область. Флаги трассировки для запроса активны в контексте конкретного запроса. Флаги трассировки сеанса действуют во время данного соединения и доступны только для этого соединения. Глобальные флаги трассировки устанавливаются на уровне сервера и доступны для каждого соединения с этим сервером. Некоторые флаги могут быть включены только как глобальные, а некоторые и как глобальные, и как для сеанса.  
  
 Применяются следующие правила.  
-   Глобальный флаг трассировки должен быть включен глобально. В противном случае, флаг трассировки не повлияет на работу сервера. Мы рекомендуем вам активировать глобальные флаги трассировки при запуске, используя параметр командной строки **-T**. Таким образом, флаг трассировки останется активным после перезапуска сервера. Перезапустите SQL Server, чтобы применить флаг трассировки. 
-   Если флаг трассировки может использоваться в глобальной области или в области сеанса или запроса, его нужно включить в соответствующей области. Флаг трассировки, включенный на уровне сеанса, никогда не влияет на другой сеанс, и действие флага трассировки прекращается, если SPID, открывший сеанс, выполняет выход.  
  
Флаги трассировки устанавливаются и снимаются с помощью любого из следующих методов:
-   Использование команд DBCC TRACEON и DBCC TRACEOFF.  
     Например, чтобы включить флаг трассировки 2528 глобально, используйте [DBCC TRACEON](../../t-sql/database-console-commands/dbcc-traceon-transact-sql.md) с аргументом –1: `DBCC TRACEON (2528, -1)`. Эффект включения глобального флага трассировки с помощью DBCC TRACEON утрачивается при перезапуске сервера. Чтобы отключить флаг глобальной трассировки, используйте команду [DBCC TRACEOFF](../../t-sql/database-console-commands/dbcc-traceoff-transact-sql.md) с аргументом –1.  
-   Используйте параметр запуска **-T** для определения, что флаг трассировки будет настроен во время запуска.  
     Параметр запуска **-T** повсеместно активирует флаг трассировки. Невозможно включить флаг трассировки уровня сеанса с помощью параметра запуска. Таким образом, флаг трассировки останется активным после перезапуска сервера. Дополнительные сведения о параметрах запуска см. в разделе [Параметры запуска службы Database Engine](../../database-engine/configure-windows/database-engine-service-startup-options.md).
-   На уровне запроса используйте [указание запроса](https://support.microsoft.com/kb/2801413) QUERYTRACEON. Параметр QUERYTRACEON поддерживается только для флагов трассировки оптимизатора запросов, указанных в таблице ниже.
  
Использование команды `DBCC TRACESTATUS` для определения активных в данный момент флагов трассировки.

## <a name="trace-flags"></a>Флаги трассировки

В следующей таблице перечислены и описаны флаги трассировки, доступные в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. 

> [!NOTE]
> Управляемый экземпляр SQL Azure поддерживает следующие глобальные флаги трассировки: 460, 2301, 2389, 2390, 2453, 2467, 7471, 8207, 9389, 10316 и 11024. Флаги трассировки сеанса пока не поддерживаются в Управляемом экземпляре.
 
> [!NOTE]
> Некоторые флаги трассировки были представлены в определенных версиях [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Дополнительные сведения о соответствующей версии см. в статье службы поддержки Майкрософт о конкретном флаге трассировки.

> [!IMPORTANT]
> Поведение флага трассировки может не поддерживаться в следующих версиях [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. 
  
|Флаг трассировки|Описание|  
|---|---|
|**101**|Повышает детализацию для журнала агента репликации слиянием.<br /><br />**Важно!** Флаг трассировки 101 можно включить только для [агента слияния репликации](../../relational-databases/replication/agents/replication-merge-agent.md) с помощью параметра **-T** при выполнении **replmerg.exe** из командной строки.<br /><br />**ПРЕДУПРЕЖДЕНИЕ!** Флаг трассировки 101 не должен быть постоянно включен в рабочей среде. Используйте его только ограниченное время в целях устранения неполадок. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/2892633).<br /><br />**Область**. Только для агента слияния репликации|
|**102**|Повышает детализацию для журнала агента репликации слиянием и направляет его в таблицу *\<Distribution server>..msmerge_history*.<br /><br />**Важно!** Флаг трассировки 102 можно включить только для [агента слияния репликации](../../relational-databases/replication/agents/replication-merge-agent.md) с помощью параметра **-T** при выполнении **replmerg.exe** из командной строки.<br /><br />**ПРЕДУПРЕЖДЕНИЕ!** Флаг трассировки 102 не должен быть постоянно включен в рабочей среде. Используйте его только ограниченное время в целях устранения неполадок. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/2892633).<br /><br />**Область**. Только для агента слияния репликации|
|**139**| Исправляет семантику преобразования в области команд проверки DBCC, например [DBCC CHECKDB](../../t-sql/database-console-commands/dbcc-checkdb-transact-sql.md), [DBCC CHECKTABLE](../../t-sql/database-console-commands/dbcc-checktable-transact-sql.md) и [DBCC CHECKCONSTRAINTS](../../t-sql/database-console-commands/dbcc-checkconstraints-transact-sql.md), при анализе улучшенной логики точности и преобразования с уровнем совместимости 130 для определенного типа данных в базе данных с более низким уровнем совместимости. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/help/4010261).<br /><br />**Примечание.** Этот флаг трассировки применяется к [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] RTM с накопительным пакетом обновления 3 (CU3), [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] пакетом обновления 1 (SP1) и более поздней версии сборки.<br /><br />**ПРЕДУПРЕЖДЕНИЕ!** Флаг трассировки 139 не должен быть постоянно включен в рабочей среде. Используйте его исключительно для проверки базы данных, как описано в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/help/4010261). Отключите его сразу после завершения проверки.<br /><br />**Область**: только глобальная|
|**174**|Увеличивает число контейнеров в кэше планов [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] с 40 009 до 160 001 в 64-разрядных системах. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/3026083).<br /><br />**Примечание.** Тщательно протестируйте этот параметр, прежде чем развертывать его в рабочей среде.<br /><br />**Область**: только глобальная|
|**176**|Включает исправление ошибок адреса при перестроении секций в сети для таблиц, содержащих вычисляемый столбец секционирования. Дополнительные сведения см. в [этой](https://support.microsoft.com/kb/3213683) и [этой](https://support.microsoft.com/kb/4541096) статьях службы поддержки Майкрософт.<br /><br />**Область**: глобальная или сеанс|
|**205**|Вносит запись в журнал ошибок при повторной компиляции хранимой процедуры, зависящей от статистики, в результате автоматического обновления статистики. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/195565).<br /><br />**Примечание.** Для этого флага трассировки требуется, чтобы был включен флаг трассировки [3605](#3605).<br /><br />**Область**: только глобальная|
|**260**|Выводит сведения о версиях динамически загружаемых библиотек (DLL) расширенных хранимых процедур. Дополнительные сведения о **GetXpVersion()** см. в статье [Создание расширенных хранимых процедур](../../relational-databases/extended-stored-procedures-programming/creating-extended-stored-procedures.md).<br /><br />**Область:** глобальная или сеанс|
|**272**|Отключает предварительное распределение идентификаторов во избежание пропусков значений столбца идентификаторов в случаях, когда сервер неожиданно перезапускается или выполняет обработку отказа на сервер-получатель. Обратите внимание, что кэширование идентификаторов используется для повышения производительности инструкции INSERT в таблицах со столбцами идентификаторов.<br /><br />**Примечание.** Начиная с версии [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)] для выполнения этой задачи на уровне базы данных см. описание параметра IDENTITY_CACHE в разделе [ALTER DATABASE SCOPED CONFIGURATION (Transact-SQL)](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md).<br /><br />**Область**: только глобальная|
|**460**|Заменяет сообщение об усечении данных с идентификатором [8152](../../relational-databases/errors-events/database-engine-events-and-errors.md#errors-8000-to-8999) на сообщение с идентификатором [2628](../../relational-databases/errors-events/database-engine-events-and-errors.md#errors-2000-to-2999). Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/4468101).<br /><br />Начиная с [!INCLUDE[sql-server-2019](../../includes/sssqlv15-md.md)], эта задача выполняется на уровне базы данных в соответствии с инструкциями, которые можно найти в описании параметра VERBOSE_TRUNCATION_WARNINGS в статье [ALTER DATABASE SCOPED CONFIGURATION &#40;Transact-SQL&#41;](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md).<br /><br />**Примечание.** Этот флаг трассировки применяется к [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)] с накопительным пакетом обновления 12 и сборкам более поздних версий.<br /><br />**Примечание.** Начиная с уровня совместимости базы данных 150 идентификатор сообщения 2628 используется по умолчанию, и этот флаг трассировки не оказывает влияния.<br /><br />**Область**: глобальная или сеанс|
|**610**|Управляет вставками с минимальным протоколированием в индексированные таблицы. Этот флаг трассировки необязателен начиная с версии SQL Server 2016, поскольку минимальное протоколирование для индексированных таблиц включено по умолчанию. В [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], когда операция массовой загрузки вызывает выделение новой страницы, все строки, последовательно заполняющие эту новую страницу, имеют минимальное протоколирование, если выполняются остальные необходимые условия для минимального протоколирования. Строки, вставляемые в существующие страницы (без выделения новой страницы) для сохранения порядка индексов, по-прежнему протоколируются полностью, как и строки, перемещенные в результате разбиения страницы во время загрузки. Параметр ALLOW_PAGE_LOCKS должен иметь значение ON для индексов (используется по умолчанию), чтобы операция минимального протоколирования выполнялась, так как при выделении устанавливаются блокировки страниц и протоколируются только выделения страниц или экстентов. Дополнительные сведения см. в статье [Руководство по производительности загрузки данных](https://docs.microsoft.com/previous-versions/sql/sql-server-2008/dd425070(v=sql.100)).<br /><br />**Область**: глобальная или сеанс|
|**634**|Отключает фоновую задачу сжатия columnstore. [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] периодически выполняет фоновую задачу переноса кортежей, которая сжимает группы строк индекса columnstore с несжатыми данными, по одной такой группе строк за раз.<br /><br />Сжатие columnstore позволяет повысить производительность запросов, но при этом потребляются ресурсы системы. Время выполнения сжатия columnstore можно задавать вручную путем отключения фоновой задачи сжатия с помощью флага трассировки 634 с последующим явным вызовом ALTER INDEX...REORGANIZE или ALTER INDEX...REBUILD в нужное время.<br /><br />**Область:** только глобальная|
|**652**|Отключение проверок при предзагрузке страниц. Если включить флаг трассировки 652, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] больше не помещает страницы базы данных в буферный пул, прежде чем эти страницы базы данных будут использованы при проверках. В результате запросы, использующие функцию предварительного получения страниц, демонстрируют меньшую производительность. <br /><br />**Область**: глобальная или сеанс|
|**661**|Отключает процесс удаления фантомных записей. Флаг трассировки 661 отключает процесс удаления фантомных записей. Фантомная запись является результатом операции удаления. При удалении записи она сохраняется в виде фантомной записи. Позже удаленная запись очищается процессом удаления фантомных записей. При отключении этого процесса удаленная запись не очищается. Таким образом, пространство, занимаемое удаленной записью, не освобождается. Такое поведение негативно влияет на использование пространства и на производительность операций проверки. Дополнительные сведения см. в [руководстве по очистке фантомных записей](../../relational-databases/ghost-record-cleanup-process-guide.md). <br /><br />**Область**: только глобальная|
|**692**|Отключает быстрые операции вставки при массовой загрузке данных в кучу или кластеризованный индекс. Начиная с версии [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] быстрые операции вставки включены по умолчанию с минимальным протоколированием, когда база данных находится в простой модели восстановления или в модели восстановления с неполным протоколированием для оптимизации производительности вставки записей в новые страницы. С помощью быстрой вставки каждый пакет массовой загрузки получает новый экстент или экстенты в обход поиска распределения существующего экстента в доступном свободном пространстве для оптимизации производительности операции вставки.<br /><br /> При использовании операций быстрой вставки массовая загрузка с пакетом небольшого размера может привести к увеличению неиспользуемого пространства, занимаемого объектами, поэтому рекомендуется использовать пакеты большого размера для полного заполнения экстента. Если увеличить размер пакета невозможно, этот флаг трассировки поможет сократить неиспользуемое пространство, зарезервированное в ущерб производительности. <br /><br />**Примечание.** Этот флаг трассировки применяется к [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] RTM и более поздней версии сборки.<br /><br />**Область**: глобальная или сеанс|
|**715**|Включает блокировку таблицы для операций массовой загрузки в кучу без некластеризованных индексов. Если этот флаг трассировки включен, операции массовой загрузки получают блокировку массового обновления при выполнении массового копирования данных в таблицу. Блокировка массового обновления (BU) позволяет поддерживать несколько одновременных потоков массовой загрузки данных в одну и ту же таблицу и при этом запрещать доступ к таблице любым другим процессам, отличным от массовой загрузки данных.<br /><br />Это поведение аналогично тому, которое происходит при явном указании TABLOCK при выполнении массовой загрузки или при включении блокировки таблицы на массовую загрузку sp_tableoption для данной таблицы. Но если этот флаг трассировки включен, это становится поведением по умолчанию без изменения запроса или базы данных.<br /><br />**Область:** глобальная или сеанс|
|**818**|Включает дополнительную диагностику ввода-вывода для проверки потерянных или устаревших операций чтения во время файлового ввода-вывода. Флаг трассировки 818 включает кольцевой буфер в памяти, используемый для отслеживания последних 2048 успешных операций записи, выполненных [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], исключая сортировку и операции ввода-вывода рабочего файла. При возникновении таких ошибок, как 605, 823 или 3448, значение регистрационного номера транзакции в журнале (LSN) для входящего буфера сравнивается со списком последних операций записи. Если полученный номер LSN старше, чем тот, который указан во время операции записи, в журнале ошибок [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] регистрируется новое сообщение об ошибке. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/826433).<br /><br />**Примечание.** Начиная с версии [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)] этот флаг трассировки не действует.<br /><br />**Область**: только глобальная|
|**834**|Использует распределение больших страниц для буферного пула, columnstore и таблицы в памяти. Большой размер страницы зависит от аппаратной платформы, но размер страницы может составлять от 2 до 16 МБ. Большие страницы выделяются при запуске и сохраняются в течение всего времени существования процесса. Флаг трассировки 834 повышает производительность, повышая эффективность буфера TLB в ЦП. Иными словами, флаг трассировки 834 увеличивает эффективность управления преобразованием адресов физической памяти в виртуальную память, осуществляемым аппаратным обеспечением управления памятью. Сведения об SQL Server и больших страницах см. в следующем [блоге](https://techcommunity.microsoft.com/t5/sql-server-support/sql-server-and-large-pages-explained-8230/ba-p/315787).<br /><br />**Примечание.** Флаг трассировки 834 применим только к 64-разрядным версиям SQL Server. Чтобы включить флаг трассировки 834, необходимо иметь право пользователя "Блокировка страниц в памяти". Флаг трассировки 834 можно включить только при запуске. Флаг трассировки 834 может препятствовать запуску сервера, если память фрагментирована и не удается выделить большие страницы. Поэтому флаг трассировки 834 больше всего подходит для серверов, предназначенных для SQL Server.<br /><br />**Примечание.** Если флаг активирован, модель памяти для больших страниц предварительно выделяет всю память SQLOS при запуске экземпляра и не возвращает эту память в ОС. <br /><br />**Примечание.** Если вы используете компонент индекса Columnstore с [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] по [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], не рекомендуем включать флаг трассировки 834. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/3210239). При использовании [!INCLUDE[sql-server-2019](../../includes/sssqlv15-md.md)] и columnstore см. флаг трассировки [876](#876).<br /><br />**Область**: только глобальная|
|**836**|Используйте параметр max server memory для буферного пула. Флаг трассировки 836 приводит к тому, что SQL Server определяет размер буферного пула при запуске на основе значения параметра max server memory вместо общего объема физической памяти. Флаг трассировки 836 можно использовать, чтобы уменьшить число дескрипторов буфера, выделяемых при запуске в 32-битном режиме Address Windowing Extensions (AWE). <br /><br />**Примечание.** Флаг трассировки 836 применим только к 32-разрядным версиям SQL Server, для которых включено выделение AWE. Флаг трассировки 836 можно включить только при запуске. <br /><br />**Область**: только глобальная|
|**845**|Включает заблокированные страницы на стандартных номерах SKU [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], если в учетной записи службы для [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] включено разрешение на блокировку страниц в памяти. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/970070) и на странице документации в [параметрах конфигурации памяти сервера](../../database-engine/configure-windows/server-memory-server-configuration-options.md#lock-pages-in-memory-lpim).<br /><br />**Примечание.** Начиная с версии [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] эта реакция включена по умолчанию для стандартных SKU, и флаг трассировки 845 не нужно использовать.<br /><br />**Область**: только глобальная|
|**876**|<a name="876"></a>Использует выделения больших страниц для columnstore.<br /><br />**Примечание.** В отличие от флага трассировки 834 флаг трассировки 876 не приводит к предварительному распределению памяти SQLOS при запуске экземпляра, и неиспользуемая память может быть освобождена.<br /><br />**Примечание.** Этот флаг трассировки применяется к [!INCLUDE[sql-server-2019](../../includes/sssqlv15-md.md)] и более поздним версиям сборки.<br /><br />**Примечание.** Тщательно протестируйте этот параметр, прежде чем развертывать его в рабочей среде.<br /><br />**Область**: только глобальная|
|**902**|Пропускает выполнение скрипта обновления базы данных при установке накопительного пакета обновления или пакета обновления. Если в режиме обновления скрипта возникает ошибка, обратитесь в службу поддержки Microsoft SQL. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/2163980).<br /><br />**ПРЕДУПРЕЖДЕНИЕ!** Этот флаг трассировки предназначен для устранения сбоя обновлений в режиме обновления скрипта и не должен всегда быть включен в рабочей среде. Скрипты обновления базы данных должны успешно выполняться для полной установки накопительных пакетов обновления и пакетов обновления. В противном случае в экземпляре [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] могут возникнуть неожиданные ошибки.<br /><br />**Область**: только глобальная|
|**1117**|Если файл в файловой группе удовлетворяет требованиям порога автоматического увеличения, все файлы в файловой группе увеличиваются. Этот флаг трассировки влияет на все базы данных и рекомендуется, только если увеличение всех файлов в файловой группе в каждой базе данных является безопасным.<br /><br />**Примечание.** Начиная с версии [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] эта реакция управляется параметром AUTOGROW_SINGLE_FILE и AUTOGROW_ALL_FILES инструкции ALTER DATABASE, при этом флаг трассировки 1117 не оказывает никакого влияния. Дополнительные сведения см. в разделе [Параметры инструкции ALTER DATABASE (Transact-SQL) для файлов и файловых групп](../../t-sql/statements/alter-database-transact-sql-file-and-filegroup-options.md).<br /><br />**Область:** только глобальная|
|**1118**|Приводит к выделению страниц в однородных, а не смешанных экстентах, что уменьшает вероятность состязания на странице SGAM. При создании нового объекта по умолчанию выделяются первые восемь страниц из различных экстентов (смешанные экстенты). Затем в случае возникновения необходимости увеличения страниц они выделяются из этого же экстента (однородный экстент). Страница SGAM используется для отслеживания таких смешанных экстентов, так как это может быстро стать узким местом, если происходят многочисленные размещения смешанных страниц. Данный флаг трассировки размещает при создании новых объектов все восемь страниц из одного и того же экстента, что сводит к минимуму необходимость сканирования страницы SGAM. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/328551).<br /><br />**Примечание.** Начиная с версии [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] эта реакция управляется параметром SET MIXED_PAGE_ALLOCATION инструкции ALTER DATABASE, при этом флаг трассировки 1118 не оказывает никакого влияния. Дополнительные сведения см. в разделе [Параметры ALTER DATABASE SET (Transact-SQL)](../../t-sql/statements/alter-database-transact-sql-set-options.md).<br /><br />**Область:** только глобальная|  
|**1204**|Возвращает ресурсы и типы блокировки, участвующие во взаимоблокировке и текущую команду, на которую влияет взаимоблокировка. Дополнительные сведения о взаимоблокировках см. в [руководстве по блокировке и управлению версиями строк транзакций](../../relational-databases/sql-server-transaction-locking-and-row-versioning-guide.md#deadlocks).<br /><br />**Примечание.** Не используйте флаг трассировки 1204 в системах с большим объемом рабочих нагрузок, которые вызывают взаимоблокировки. Дополнительные сведения о других способах обнаружения взаимоблокировок см. в [руководстве по блокировке и управлению версиями строк транзакций](../../relational-databases/sql-server-transaction-locking-and-row-versioning-guide.md#deadlock_detection).<br /><br />**Область:** только глобальная|  
|**1211**|Отключает укрупнение блокировки, основанное на слишком активном использовании памяти или на количестве блокировок. Компонент [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] не будет повышать уровень блокировки с блокировки строки или страницы до блокировки таблицы.<br /><br />Использование этого флага трассировки может привести к слишком большому количеству блокировок. Если память блокировки станет достаточно большой, попытки выделить дополнительные блокировки для любого запроса могут завершиться сбоем. Это может привести к снижению производительности компонента [!INCLUDE[ssDE](../../includes/ssde-md.md)] или вызвать ошибки 1204 (невозможность выделить блокированный ресурс) из-за недостатка памяти.<br /><br />Если установлены оба флага трассировки 1211 и 1224, то флаг 1211 имеет приоритет. Однако так как флаг трассировки 1211 препятствует укрупнению во всех случаях, даже при слишком активном использовании памяти, рекомендуется вместо этого использовать флаг 1224. Это помогает избежать ошибок «отсутствия блокировок» при использовании большого числа блокировок.<br /><br />Дополнительные сведения о разрешении проблем, связанных с укрупнением блокировки в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], см. в [этой статье службы поддержки Майкрософт](https://support.microsoft.com/help/323630).<br /><br />**Область**: глобальная или сеанс|  
|**1222**|Возвращает ресурсы и типы блокировок, участвующих во взаимоблокировке, а также текущую команду, на которую влияет взаимоблокировка, в формате XML, не соответствующем ни одной XSD-схеме. Дополнительные сведения о взаимоблокировках см. в [руководстве по блокировке и управлению версиями строк транзакций](../../relational-databases/sql-server-transaction-locking-and-row-versioning-guide.md#deadlocks).<br /><br />**Примечание.** Не используйте флаг трассировки 1222 в системах с большим объемом рабочих нагрузок, которые вызывают взаимоблокировки. Дополнительные сведения о других способах обнаружения взаимоблокировок см. в [руководстве по блокировке и управлению версиями строк транзакций](../../relational-databases/sql-server-transaction-locking-and-row-versioning-guide.md#deadlock_detection).<br /><br />**Область**: только глобальная|  
|**1224**|Отключает укрупнение блокировок на основе количества блокировок. Однако слишком активное использование памяти может включить укрупнение блокировок. Компонент [!INCLUDE[ssDE](../../includes/ssde-md.md)] укрупняет блокировки строк или страниц до блокировок таблиц (или секций), если объем памяти, используемый блокированными объектами, превышает одно из следующих условий.<br /><ul><li>Сорок процентов памяти, которая используется компонентом [!INCLUDE[ssDE](../../includes/ssde-md.md)]. Применимо только в случае, если параметр **locks** процедуры sp_configure имеет значение 0. <li>Сорок процентов памяти блокировки, настроенной с помощью параметра **locks** процедуры sp_configure. Дополнительные сведения см. в разделе [Параметры конфигурации сервера (SQL Server)](../../database-engine/configure-windows/server-configuration-options-sql-server.md).</li></ul><br />Если установлены оба флага трассировки 1211 и 1224, то флаг 1211 имеет приоритет. Однако, так как флаг трассировки 1211 препятствует укрупнению во всех случаях, даже при слишком активном использовании памяти, рекомендуется использовать флаг 1224. Это помогает избежать ошибок «отсутствия блокировок» при использовании большого числа блокировок.<br /><br />**Примечание.** Укрупнением блокировки до уровня гранулярности таблицы или HoBT можно также управлять с помощью параметра LOCK_ESCALATION инструкции [ALTER TABLE](../../t-sql/statements/alter-table-transact-sql.md).<br /><br />Дополнительные сведения о разрешении проблем, связанных с укрупнением блокировки в [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], см. в [этой статье службы поддержки Майкрософт](https://support.microsoft.com/help/323630).<br /><br />**Область:** глобальная или сеанс|
|**1229**|Отключает все секционирование блокировок независимо от количества ЦП. По умолчанию [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] включает секционирование блокировок, когда сервер имеет 16 ЦП или более, чтобы улучшить масштабируемость крупных систем. Дополнительные сведения о секционировании блокировок см. в статье [Руководство по блокировке и управлению версиями строк транзакций](../../relational-databases/sql-server-transaction-locking-and-row-versioning-guide.md#lock_partitioning).<br /><br />**ПРЕДУПРЕЖДЕНИЕ!** Флаг трассировки 1229 может вызвать конфликт спин-блокировок и снижение производительности.<br /><br />**Область**: только глобальная|  
|**1236**|Включает секционирование блокировок базы данных. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/2926217).<br /><br />**Примечание.** Начиная с [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] с пакетом обновления 3 (SP3) и [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] с пакетом обновления 1 (SP1) эта реакция управляется подсистемой, и флаг трассировки 1236 не оказывает влияния.<br /><br />**Область**: только глобальная|
|**1237**|Позволяет инструкции ALTER PARTITION FUNCTION соблюдать приоритет определяемой пользователем взаимоблокировки текущего сеанса, а не быть жертвой взаимоблокировки по умолчанию. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/help/4025261).<br /><br />**Примечание.** Начиная с версии [!INCLUDE[ssSQLv14](../../includes/sssqlv14-md.md)] и базы данных с [уровнем совместимости](../../t-sql/statements/alter-database-transact-sql-compatibility-level.md) 140 эта реакция определена по умолчанию, и флаг трассировки 1237 не оказывает влияния.<br /><br />**Область**: глобальная, сеанс или запрос (QUERYTRACEON)|
|**1260**|Отключение дампов монитора планировщика.<br /><br />**Область**: только глобальная|   
|**1448**|Разрешает средству чтения журнала репликации перемещаться вперед даже в том случае, если асинхронные вторичные реплики не подтвердили получение изменения. Средство чтения журнала всегда ожидает синхронные вторичные реплики, даже если установлен флаг трассировки. Средство чтения журнала не будет превышать минимальное время ожидания для синхронных вторичных реплик. Флаг трассировки применяется к экземпляру [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], а не только к группе доступности, базе данных доступности или экземпляру средства чтения журнала. Вступает в силу немедленно без перезагрузки. Этот флаг трассировки не может быть активирован раньше времени или при сбое асинхронной вторичной реплики. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/937041).<br /><br />**Область**: только глобальная|   
|**1462**|Отключает сжатие потока журналов для асинхронных групп доступности. В асинхронных группах доступности эта функция включена по умолчанию для оптимизации пропускной способности сети. Дополнительные сведения см. в разделе [Tune compression for availability group](../../database-engine/availability-groups/windows/tune-compression-for-availability-group.md)(Настройка сжатия для группы доступности).<br /><br />**Область**: только глобальная| 
|**1800**|Включает оптимизацию [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], когда для первичной и вторичной реплики используются диски с разными размерами сектора в средах [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] AlwaysOn и доставки журналов. Этот флаг трассировки необходимо включать только для экземпляров [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] с файлом журнала транзакций, которые находятся на диске с размером сектора 512 байт. **Не** включайте его на диске с размером сектора 4 КБ. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/3009974).<br /><br />**Примечание.** Этот флаг трассировки применяется к [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] с пакетом обновления 1 (SP1) и накопительным пакетом обновления 13 (CU13), [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] с пакетом обновления 2 (SP2) и накопительным пакетом обновления 3 (CU3), [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] RTM с накопительным пакетом обновления 5 (CU5) и более поздним сборкам.<br /><br />**Область:** только глобальная|
| **1819**| Позволяет [резервное копирование на URL-адрес](../../relational-databases/backup-restore/sql-server-backup-to-url.md), чтобы использовать прокси-сервер при доступе к блочным BLOB-объектам Azure. В дополнение к этому флагу трассировки необходимо задать конфигурацию прокси-сервера WinHTTP на сервере одним из следующих способов. <br /><br />— Служебная программа [proxycfg.exe](/windows/win32/winhttp/proxycfg-exe--a-proxy-configuration-tool) в Windows XP, Windows Server 2003 и более ранних версиях. <br /> — Служебная программа [netsh.exe](/windows/win32/winsock/netsh-exe) в Windows Vista и Windows Server 2008 или более поздней версии. <br /><br />**Область**: глобальная, сеанс или запрос (QUERYTRACEON) |
|**1802**|Отключает изменение ACL и проверку олицетворенного доступа во время операций присоединения или отсоединения базы данных. Это может быть полезно при присоединении базы данных и обнаружении ошибок разрешений на доступ, например ошибки 5120.<br /><br />**Область**: только глобальная| 
|**2301**|Включите оптимизации расширенной поддержки принятия решений, относящиеся к запросам на поддержку принятия решений. Этот параметр применяется для обработки поддержки принятия решений для больших наборов данных.<br /><br />**Область**: глобальная, сеанс или запрос (QUERYTRACEON) |
|**2312**|Задает модель оценки кратности оптимизатора запросов в версиях [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] и выше в зависимости от уровня совместимости базы данных.<br /><br />**Примечание.** Если уровень совместимости базы данных ниже 120, включение флага трассировки 2312 приводит к использованию модели оценки кратности [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] (120). Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/2801413).<br /><br />Начиная с версии [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] с пакетом обновления 1 (SP1) для выполнения этой задачи на уровне запроса добавьте [указание запроса](../../t-sql/queries/hints-transact-sql-query.md) USE HINT 'FORCE_DEFAULT_CARDINALITY_ESTIMATION' вместо этого флага трассировки.<br /><br />**Область**: глобальная, сеанс или запрос (QUERYTRACEON)| 
|**2335**|Приводит к тому, что [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] предполагает наличие фиксированного объема памяти во время оптимизации запроса в ситуации, когда задано слишком большое значение [максимальной памяти сервера](../../database-engine/configure-windows/server-memory-server-configuration-options.md), в результате чего [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] создает неэффективный план для конкретного запроса. Не ограничивает объем памяти, который [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] предоставляет для выполнения запроса. Память, настроенная для [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], будет по-прежнему использоваться кэшем данных, выполнением запросов и другими объектами-получателями.<br /><br />**Примечание.** Тщательно протестируйте этот параметр, прежде чем развертывать его в рабочей среде.<br /><br />**Область**: глобальная, сеанс или запрос (QUERYTRACEON)|
|**2340**|Заставляет [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] не использовать операцию сортировки (сортировки пакетов) для оптимизации соединений вложенного цикла при формировании плана. По умолчанию [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] может использовать оптимизированное соединение вложенными циклами вместо полного сканирования или соединения вложенными циклами с явной сортировкой, если оптимизатор запросов заключает, что сортировка, скорее всего, не требуется, но все же возможна в случае неверной кратности или оценки затрат. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/2009160).<br /><br />Начиная с версии [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] с пакетом обновления 1 (SP1) для выполнения этой задачи на уровне запроса добавьте [указание запроса](../../t-sql/queries/hints-transact-sql-query.md) USE HINT 'DISABLE_OPTIMIZED_NESTED_LOOP' вместо этого флага трассировки.<br /><br />**Примечание.** Тщательно протестируйте этот параметр, прежде чем развертывать его в рабочей среде.<br /><br />**Область**: глобальная, сеанс или запрос (QUERYTRACEON)|
|**2371**|Изменяет порог фиксированного обновления статистики на порог линейного обновления статистики. Дополнительные сведения см. в описании этого [параметра AUTO_UPDATE_STATISTICS](../../relational-databases/statistics/statistics.md#auto_update_statistics-option).<br /><br />**Примечание.** Начиная с версии [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] и при [уровне совместимости базы данных](../../relational-databases/databases/view-or-change-the-compatibility-level-of-a-database.md) 130 или более высоком эта реакция управляется подсистемой, и флаг трассировки 2371 не оказывает влияния.<br /><br />**Область**: только глобальная|
|**2389**|Включает автоматическое создание быстрой статистики для ключей, сортированных по возрастанию (поправка для гистограммы). Если флаг трассировки 2389 включен и начальный столбец статистики упорядочен по возрастанию, гистограмма, используемая для оценки кратности, будет скорректирована во время компиляции запроса. <br /><br />**Примечание.** Тщательно протестируйте этот параметр, прежде чем развертывать его в рабочей среде.<br /><br />**Примечание.** Этот флаг трассировки не применяется к CE версии 120 или более поздней версии. Вместо него используйте флаг трассировки 4139.<br /><br />**Область**: глобальная, сеанс или запрос (QUERYTRACEON)|
|**2390**|Включает автоматическое создание быстрой статистики для ключей, сортированных по возрастанию, или неизвестных ключей (поправка для гистограммы). Если флаг трассировки 2390 включен и начальный столбец статистики упорядочен по возрастанию или помечен как неизвестный, гистограмма, используемая для оценки кратности, будет скорректирована во время компиляции запроса. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/2801413).<br /><br />**Примечание.** Тщательно протестируйте этот параметр, прежде чем развертывать его в рабочей среде.<br /><br />**Примечание.** Этот флаг трассировки не применяется к CE версии 120 или более поздней версии. Вместо него используйте флаг трассировки 4139.<br /><br />**Область**: глобальная, сеанс или запрос (QUERYTRACEON)|
|**2422**|Позволяет [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] прервать запрос, если превышено максимальное время, заданное конфигурацией REQUEST_MAX_CPU_TIME_SEC. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/help/4038419).<br /><br />**Примечание.** Этот флаг трассировки применяется к [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] с пакетом обновления 2 (SP2), [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)] с накопительным пакетом обновления 3 (CU3) и более поздним сборкам.<br /><br />**Область**: глобальная|
|**2430**|Включает альтернативную очистку класса блокировки. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/2754301).<br /><br />**Область**: только глобальная| 
|**2451**|Включает эквивалент последнего действительного плана выполнения в sys.dm_exec_query_plan_stats.<br /><br />**Примечание.** Этот флаг трассировки применяется к [!INCLUDE[sql-server-2019](../../includes/sssqlv15-md.md)] и более поздним версиям сборки.<br /><br />**Примечание.** Начиная [!INCLUDE[sql-server-2019](../../includes/sssqlv15-md.md)], эта задача выполняется на уровне базы данных в соответствии с инструкциями, которые можно найти в описании параметра LAST_QUERY_PLAN_STATS в статье [ALTER DATABASE SCOPED CONFIGURATION &#40;Transact-SQL&#41;](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md).<br /><br />**Область**: только глобальная|  
|**2453**|Позволяет табличной переменной вызывать перекомпиляцию после изменения достаточного числа строк. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/2952444).<br /><br />**Примечание.** Тщательно протестируйте этот параметр, прежде чем развертывать его в рабочей среде.<br /><br />**Область**: глобальная, сеанс или запрос (QUERYTRACEON)|
|**2467**|Включает альтернативную политику распределения параллельных рабочих потоков на основе узлов, на которых есть минимальное число распределенных потоков. См. дополнительные сведения о [параллельной обработке запросов](../../relational-databases/query-processing-architecture-guide.md#parallel-query-processing). См. дополнительные сведения о [настройке параметра конфигурации сервера максимального числа рабочих потоков](../../database-engine/configure-windows/configure-the-max-worker-threads-server-configuration-option.md).<br /><br />**Примечание.** Для использования этой альтернативной политики степень параллелизма для запросов должна быть соразмерной одному узлу. В противном случае используется политика распределения потоков по умолчанию. При использовании этого флага трассировки не рекомендуется выполнять запросы, определяющие степень параллелизма на основе большего числа планировщиков на одном узле, потому что они могут конфликтовать с запросами, определяющими степень параллелизма на основе фактического или меньшего числа планировщиков на одном узле.<br /><br />**Примечание.** Тщательно протестируйте этот параметр, прежде чем развертывать его в рабочей среде.<br /><br />**Область**: только глобальная|
|**2469**|Позволяет заменить `INSERT INTO ... SELECT` на секционированный индекс columnstore. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/3204769).<br /><br />**Область**: глобальная, сеанс или запрос (QUERYTRACEON)|
|**2528**|Отключает параллельную проверку объектов с помощью инструкций DBCC CHECKDB, DBCC CHECKFILEGROUP и DBCC CHECKTABLE. По умолчанию степень параллелизма определяется обработчиком запросов автоматически. Максимальная степень параллелизма настраивается так же, как и параллельные запросы. Дополнительные сведения см. в разделе [Настройка параметра конфигурации сервера max degree of parallelism](../../database-engine/configure-windows/configure-the-max-degree-of-parallelism-server-configuration-option.md).<br /><br />**Примечание.** Должны быть включены параллельные проверки DBCC (по умолчанию). Обработчик запросов повторно оценивает и автоматически корректирует параллелизм в каждой таблице или пакете таблиц, которые проверяет DBCC CHECKDB.<br /><br />Типичное применение — когда системный администратор знает, что до завершения инструкции DBCC CHECKDB увеличится нагрузка на сервер, и решает вручную уменьшить или отключить параллелизм, чтобы увеличить параллелизм с рабочей нагрузкой других пользователей. Однако если параллельные проверки в DBCC CHECKDB отключены, операция может занимать больше времени.<br /><br />**Примечание.** Если DBCC CHECKDB выполняется при помощи параметра TABLOCK, а параллелизм отключен, таблицы могут дольше оставаться заблокированными.<br /><br />**Примечание.** Начиная с [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] с пакетом обновления 2 (SP2) параметр MAXDOP может переопределять параметр максимальной степени параллелизма хранимой процедуры sp_configure для инструкций DBCC.<br /><br />**Область**: глобальная или сеанс|
|**2549**|Выполняет команду DBCC CHECKDB с предположением, что каждый файл базы данных находится на уникальном диске, но расценивая разные физические файлы как один логический. Команда DBCC CHECKDB создает внутренний список страниц для чтения для каждого уникального диска для всех файлов базы данных. Эта логика определяет уникальные диски по букве диска в имени физического файла.<br /><br />**Примечание.** Не используйте этот флаг трассировки, если не уверены, что каждый файл находится на уникальном физическом диске.<br /><br />**Примечание.** Хотя этот флаг трассировки повышает производительность команд DBCC CHECKDB, направленных на использование параметра PHYSICAL_ONLY, некоторые пользователи могут не заметить улучшение. Хотя этот флаг трассировки улучшает использование ресурсов дискового ввода-вывода, базовая производительность дисковых ресурсов может ограничивать общую производительность команды DBCC CHECKDB. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/2634571).<br /><br />**Область**: только глобальная| 
|**2562**|Выполняет команду DBCC CHECKDB в едином "пакете" независимо от количества индексов в базе данных. По умолчанию команда DBCC CHECKDB пытается свести к минимуму ресурсы базы данных tempdb, ограничивая количество индексов или "фактов", которые она создает, используя концепцию "пакетов". Однако этот флаг трассировки принудительно сводит всю обработку в один пакет.<br /><br />Одно из последствий использования этого флага трассировки — возможное увеличение необходимого пространства для tempdb. База данных tempdb может увеличиваться на 5 % или более по сравнению с пользовательской базой данных, которая обрабатывается с помощью команды DBCC CHECKDB.<br /><br />**Примечание.** Хотя этот флаг трассировки повышает производительность команд DBCC CHECKDB, направленных на использование параметра PHYSICAL_ONLY, некоторые пользователи могут не заметить улучшение. Хотя этот флаг трассировки улучшает использование ресурсов дискового ввода-вывода, базовая производительность дисковых ресурсов может ограничивать общую производительность команды DBCC CHECKDB. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/2634571).<br /><br />**Область**: только глобальная|
|**2566**|Выполняет команду DBCC CHECKDB без проверки чистоты данных, если не указан параметр `DATA_PURITY`.<br /><br />**Примечание.** Проверки целостности значений столбцов включены по умолчанию, и для них не требуется указывать параметр DATA_PURITY. Для баз данных, обновленных с предыдущих версий SQL Server, проверка значений столбцов по умолчанию не будет включена, пока в базе данных хотя бы один раз не будет выполнена без ошибок инструкция `DBCC CHECKDB WITH DATA_PURITY`. После этого инструкция DBCC CHECKDB проверяет целостность данных в столбцах по умолчанию. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/945770).<br /><br />**Область**: только глобальная|
|**2592**|<a name="2592"></a>Включает разрешение символов в дампах стека при установке *средств отладки для Windows*. Например, для использования флага трассировки 3656 требуется, чтобы был включен флаг трассировки 2592. <br /><br />**ПРЕДУПРЕЖДЕНИЕ!** Это флаг трассировки отладки. Он не предназначен для рабочих сред.<br /><br />**Примечание.** Этот флаг трассировки применяется к [!INCLUDE[sql-server-2019](../../includes/sssqlv15-md.md)] и более поздним версиям сборки. <br/><br/>**Область:** глобальная и сеанс|
|**3023**|Включает параметр CHECKSUM по умолчанию для команды BACKUP. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/2656988).<br /><br />**Примечание.** Начиная с версии [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] эта реакция управляется параметром конфигурации **резервной контрольной суммы по умолчанию**. Дополнительные сведения см. в разделе [Параметры конфигурации сервера (SQL Server)](../../database-engine/configure-windows/server-configuration-options-sql-server.md).<br /><br />**Область:** глобальная и сеанс|
|**3042**|Обходит используемый по умолчанию алгоритм сжатия резервных копий с предварительным выделением места на диске, чтобы файл резервной копии увеличивался до своего конечного размера по мере необходимости. Этот флаг трассировки полезен для экономии пространства, так как выделяется только фактическое пространство, необходимое для резервной копии со сжатием. Но при этом его использование может немного снизить производительность (повысится продолжительность операции резервного копирования). Дополнительные сведения об алгоритме предварительного выделения см. в разделе [Сжатие резервной копии (SQL Server)](../../relational-databases/backup-restore/backup-compression-sql-server.md).<br /><br />**Область**: только глобальная|
|**3051**|Включает запись сведений о резервном копировании по URL-адресу [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] в определенный файл журнала ошибок. Дополнительные сведения см. в разделе [Резервное копирование в SQL Server по URL-адресу — рекомендации и устранение неполадок](../../relational-databases/backup-restore/sql-server-backup-to-url-best-practices-and-troubleshooting.md).<br /><br />**Область**: только глобальная|  
|**3205**|По умолчанию инструкция DUMP или BACKUP использует аппаратное сжатие для накопителей на магнитной ленте, поддерживающих этот режим. С помощью этого флага трассировки можно отменить аппаратное сжатие для накопителей на магнитной ленте. Это полезно, если нужно обмениваться лентами с другими рабочими местами или накопителями на магнитной ленте.<br /><br />**Область**: глобальная или сеанс|  
|**3226**|По умолчанию каждая успешная операция резервного копирования добавляет запись в журнал ошибок служб [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] и в журнал системных событий. При частом выполнении резервного копирования журнала такие сообщения об успешном выполнении быстро накапливаются, в результате чего создаются огромные журналы ошибок, в которых трудно найти другие сообщения.<br /><br />С помощью этого флага трассировки можно подавить такие записи журнала. Это может быть полезным при частом выполнении резервного копирования журнала и в случае, если ни один из используемых скриптов не зависит от этих записей.<br /><br />**Область**: только глобальная|   
|**3427**|Позволяет решить проблему в ситуации, когда много последовательных транзакций, вставляющих данные во временные таблицы в [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] где эта операция потребляет больше ресурсов ЦП, чем в [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/help/3216543)<br /><br />**Примечание.** Этот флаг трассировки применяется к [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] накопительного пакета обновления 2 (CU2) с пакетом обновления 1 (SP1) через накопительный пакет обновления 2 (CU2) с пакетом обновления 2 (SP2) [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)]. Начиная с версии [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP2 CU3 и [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)] этот флаг трассировки не действует.<br /><br />**Область**: только глобальная|  
|**3459**|Отключает параллельные повторы действий. Дополнительные сведения см. в [этой](https://support.microsoft.com/help/3200975) и [этой](https://support.microsoft.com/help/4101554) статьях службы поддержки Майкрософт.<br /><br />**Примечание.** Этот флаг трассировки применяется к [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)] и более поздним версиям сборки.<br /><br />**Область**: только глобальная| 
|**3468**|Отключает [косвенные контрольные точки](../../relational-databases/logs/database-checkpoints-sql-server.md#IndirectChkpt) в TempDB.<br /><br />**Примечание.** Этот флаг трассировки применяется к [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] с пакетом обновления 1 (SP1) и накопительным пакетом обновления 5 (CU5), к [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)] с накопительным пакетом обновления 1 (CU1) и более поздним версиям сборок.<br /><br />**Область**: только глобальная|  
|**3605**|<a name="3605"></a>Перенаправляет сообщения трассировки в журнал ошибок [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Например, для использования флага трассировки 205 и 8721 требуется, чтобы был включен флаг трассировки 3605.<br /><br />**ПРЕДУПРЕЖДЕНИЕ!** Это флаг трассировки отладки. Он не должен быть постоянно включенным в рабочей среде.<br /><br />**Область**: глобальная или сеанс|  
|**3608**|Запрещает автоматический запуск [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] и восстановление любых баз данных, кроме базы данных **master**. Если инициируются действия, для которых требуется **tempdb**, то **модель** восстанавливается и создается **tempdb**. Другие базы данных будут запущены и восстановлены при открытии. Могут не работать некоторые функции, например изоляция моментального снимка и изоляция зафиксированной операции чтения с моментальным снимком. Используйте для [перемещения системных баз данных](../../relational-databases/databases/move-system-databases.md) и [перемещения пользовательских баз данных](../../relational-databases/databases/move-user-databases.md).<br /><br />**Примечание.** Не используйте при обычной работе.<br /><br />**Область**: только глобальная|   
|**3625**|Ограничивает объем сведений, возвращаемый пользователям, которые не являются членами предопределенной роли сервера sysadmin, маскируя параметры некоторых сообщений об ошибках символами '\*\*\*\*\*\*'. Это поможет предотвратить раскрытие конфиденциальных сведений.<br /><br />**Область**: только глобальная|  
|**3656**|Включает разрешение символов в дампах стека при установке средств отладки для Windows. <br /><br />**ПРЕДУПРЕЖДЕНИЕ!** Это флаг трассировки отладки. Он не предназначен для рабочих сред.<br /><br />**Примечание.** Начиная с [!INCLUDE[sql-server-2019](../../includes/sssqlv15-md.md)], флаг трассировки [2592](#2592) должен быть включен в сочетании с флагом трассировки 3656, чтобы включить разрешение символов. <br/><br/>**Область:** глобальная и сеанс|
|**3924**|Активирует автоматическое удаление потерянных транзакций DTC с SPID=-2, что вызывает проблемы при использовании некоторых мониторов транзакций сторонних производителей. Дополнительные сведения см. в [этой](https://support.microsoft.com/help/4519668) и [этой](https://support.microsoft.com/help/4511816) статьях службы поддержки Майкрософт.<br /><br />**Область**: только глобальная|  
|**4136**|Отключает сканирование параметров, если не используется OPTION(RECOMPILE), WITH RECOMPILE или OPTIMIZE FOR \<value>. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/980653).<br /><br />Начиная с версии [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] эта задача выполняется на уровне базы данных в соответствии с инструкциями, которые можно найти в описании параметра PARAMETER_SNIFFING в статье [ALTER DATABASE SCOPED CONFIGURATION (Transact-SQL)](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md).<br /><br />Для получения аналогичного результата на уровне запроса добавьте [указание запроса](../../t-sql/queries/hints-transact-sql-query.md) OPTIMIZE FOR UNKNOWN. Указание OPTIMIZE FOR UNKNOWN не отключает механизм сканирования параметров, а обходит его, что дает тот же результат.<br />Начиная с версии [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] с пакетом обновления 1 (SP1) существует второй вариант выполнения этой задачи на уровне запроса — добавьте [указание запроса](../../t-sql/queries/hints-transact-sql-query.md) USE HINT 'DISABLE_PARAMETER_SNIFFING' вместо этого флага трассировки.<br /><br />**Примечание.** Тщательно протестируйте этот параметр, прежде чем развертывать его в рабочей среде.<br /><br />**Область**: глобальная или сеанс|  
|**4137**|Предписывает [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] создать план, используя минимальную избирательность, при оценке предикатов AND для фильтров с поправкой на частичную корреляцию вместо независимости в рамках модели оценки кратности оптимизатора запросов [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] и более ранних версий (70). Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/2658214).<br /><br />Начиная с [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] с пакетом обновления 1 (SP1) для выполнения этой задачи на уровне запроса добавьте [указание запроса](../../t-sql/queries/hints-transact-sql-query.md) USE HINT 'ASSUME_MIN_SELECTIVITY_FOR_FILTER_ESTIMATES' вместо использования этого флага трассировки в CE 70.<br /><br />**Примечание.** Тщательно протестируйте этот параметр, прежде чем развертывать его в рабочей среде.<br /><br />**Примечание.** Этот флаг трассировки не применяется к CE версии 120 или более поздней версии. Вместо него используйте флаг трассировки 9471.<br /><br />**Область**: глобальная, сеанс или запрос (QUERYTRACEON)| 
|**4138**|Побуждает [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] создать план без использования корректировок цели строки с запросами, содержащими ключевые слова TOP, OPTION (FAST N), IN или EXISTS. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/2667211).<br /><br />Начиная с версии [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] с пакетом обновления 1 (SP1) для выполнения этой задачи на уровне запроса добавьте [указание запроса](../../t-sql/queries/hints-transact-sql-query.md) USE HINT 'DISABLE_OPTIMIZER_ROWGOAL' вместо этого флага трассировки.<br /><br />**Примечание.** Тщательно протестируйте этот параметр, прежде чем развертывать его в рабочей среде.<br /><br />**Область**: глобальная, сеанс или запрос (QUERYTRACEON)| 
|**4139**|Включает автоматическое создание быстрой статистики (поправка для гистограммы) независимо от состояния ключевого столбца. Если флаг трассировки 4139 включен, независимо от состояния начального столбца статистики (по возрастанию, по убыванию, стационарный), гистограмма, используемая для оценки кратности, будет скорректирована во время компиляции запроса. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/2952101).<br /><br />Начиная с версии [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] с пакетом обновления 1 (SP1) для выполнения этой задачи на уровне запроса добавьте [указание запроса](../../t-sql/queries/hints-transact-sql-query.md) USE HINT 'ENABLE_HIST_AMENDMENT_FOR_ASC_KEYS' вместо этого флага трассировки.<br /><br />**Примечание.** Тщательно протестируйте этот параметр, прежде чем развертывать его в рабочей среде.<br /><br />**Примечание.** Этот флаг трассировки не применяется в CE версии 70. Вместо этого используйте флаги трассировки 2389 и 2390.<br /><br />**Область**: глобальная, сеанс или запрос (QUERYTRACEON)|
|**4199**|<a name="4199"></a>Включает изменения в оптимизаторе запросов, выпущенные в накопительных пакетах обновления и пакетах обновления [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].<br /><br />Изменения в оптимизаторе запросов, внесенные в предыдущих версиях [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], включены по умолчанию при последнем [уровне совместимости](../../t-sql/statements/alter-database-transact-sql-compatibility-level.md) базы данных в определенном выпуске продукта без включенного флага трассировки 4199.<br /><br />В следующей таблице приводится сводка реакций на события при использовании определенных уровней совместимости базы данных и флага трассировки 4199. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/974006).<br /><br /><table border="1" frame="void" width="550"><tr valign="middle" align="center"><td>**Версия ядра СУБД**</td><td>**Уровень совместимости базы данных**</td><td>**TF 4199**</td><td>**Изменения в оптимизаторе запросов из всех предыдущих уровней совместимости базы данных**</td><td>**Изменения в оптимизаторе запросов для версии ядра СУБД после RTM**</td></tr><tr valign="middle" align="center"><td rowspan="4">**13** ([!INCLUDE[ssSQL15](../../includes/sssql15-md.md)])</td><td rowspan="2">**100–120**</td><td>Выкл.</td><td>Выключено</td><td>Выключено</td></tr><tr valign="middle" align="center"><td>С</td><td>Активировано</td><td>Активировано</td></tr><tr valign="middle" align="center"><td rowspan="2">**130** (по умолчанию)</td><td>Выкл.</td><td>Активировано</td><td>Выключено</td></tr><tr valign="middle" align="center"><td>С</td><td>Активировано</td><td>Активировано</td></tr><tr valign="middle" align="center"><td rowspan="6">**14** ([!INCLUDE[ssSQL17](../../includes/sssql17-md.md)])</td><td rowspan="2">**100–120**</td><td>Выкл.</td><td>Выключено</td><td>Выключено</td></tr><tr valign="middle" align="center"><td>С</td><td>Активировано</td><td>Активировано</td></tr><tr valign="middle" align="center"><td rowspan="2">**130**</td><td>Выкл.</td><td>Активировано</td><td>Выключено</td></tr><tr valign="middle" align="center"><td>С</td><td>Активировано</td><td>Активировано</td></tr><tr valign="middle" align="center"><td rowspan="2">**140** (по умолчанию)</td><td>Выкл.</td><td>Активировано</td><td>Выключено</td></tr><tr valign="middle" align="center"><td>С</td><td>Активировано</td><td>Активировано</td></tr><tr valign="middle" align="center"><td rowspan="6">**15** ([!INCLUDE[sql-server-2019](../../includes/sssqlv15-md.md)]) и **12** ([!INCLUDE[ssSDSfull](../../includes/sssdsfull-md.md)])</td><td rowspan="2">**100–120**</td><td>Выкл.</td><td>Выключено</td><td>Выключено</td></tr><tr valign="middle" align="center"><td>С</td><td>Активировано</td><td>Активировано</td></tr><tr valign="middle" align="center"><td rowspan="2">**130–140**</td><td>Выкл.</td><td>Активировано</td><td>Выключено</td></tr><tr valign="middle" align="center"><td>С</td><td>Активировано</td><td>Активировано</td></tr><tr valign="middle" align="center"><td rowspan="2">**150** (по умолчанию)</td><td>Выкл.</td><td>Активировано</td><td>Выключено</td></tr><tr valign="middle" align="center"><td>С</td><td>Активировано</td><td>Активировано</td></tr></table><br /><br />Начиная с версии [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], эта задача выполняется на уровне базы данных в соответствии с инструкциями, которые можно найти в описании параметра QUERY_OPTIMIZER_HOTFIXES в статье [ALTER DATABASE SCOPED CONFIGURATION (Transact-SQL)](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md).<br /><br />Начиная с версии [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] с пакетом обновления 1 (SP1) для выполнения этой задачи на уровне запроса добавьте [указание запроса](../../t-sql/queries/hints-transact-sql-query.md) USE HINT 'ENABLE_QUERY_OPTIMIZER_HOTFIXES' вместо этого флага трассировки.<br /><br />**Внимание!** Исправления оптимизатора запросов, которые устраняют неверные результаты или ошибки нарушения прав доступа, не включаются флагом трассировки 4199. Эти исправления не считаются необязательными и включаются по умолчанию после установки пакета обновления.<br /><br />**Область**: глобальная, сеанс или запрос (QUERYTRACEON)|
|**4610**|Увеличивает размер хэш-таблицы, в которой хранятся записи кэша, в 8 раз. При использовании вместе с флагом трассировки 4618 увеличивает количество записей в хранилище кэша TokenAndPermUserStore до 8192. Дополнительные сведения см. в [этой](https://support.microsoft.com/kb/959823) и [этой](https://support.microsoft.com/kb/955644) статьях службы поддержки Майкрософт.<br /><br />**Область:** только глобальная|
|**4616**|Делает метаданные уровня сервера видимыми ролям приложений. В [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] роль приложения не может получать доступ к метаданным за пределами собственной базы данных, так как роли приложений не связаны с участником уровня сервера. Это поведение было изменено по сравнению с предыдущими версиями [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Установка этого глобального флага отключает новые ограничения и позволяет ролям приложений получать доступ к метаданным уровня сервера.<br /><br />**Область**: только глобальная|
|**4618**|Ограничивает число записей в хранилище кэша TokenAndPermUserStore до 1024. При использовании вместе с флагом трассировки 4610 увеличивает количество записей в хранилище кэша TokenAndPermUserStore до 8192. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/959823).<br /><br />**Область:** только глобальная|
|**4621**|Ограничивает число записей в хранилище кэша TokenAndPermUserStore до числа, указанного пользователем в разделе реестра. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/959823).<br /><br />**Область:** только глобальная|
|**5004**|Приостанавливает проверку шифрования TDE и принуждает рабочую роль сканирования шифрования выйти без выполнения действий. База данных останется в зашифрованном состоянии (в состоянии выполнения шифрования). Чтобы возобновить проверку повторного шифрования, отключите флаг 5004 и выполните ALTER DATABASE <database_name> SET ENCRYPTION ON. <br /><br />**Область:** только глобальная|
|**6498**|Предоставляет нескольким компиляциям больших запросов доступ к большому шлюзу, если памяти недостаточно. Этот флаг трассировки можно использовать с целью контроля использования памяти для компиляции входящих запросов, чтобы избежать ожидания компиляции больших параллельно выполняемых запросов. Он основан на 80 процентах целевой памяти SQL Server и допускает одну компиляцию большого запроса на 25 гигабайт (ГБ) памяти. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/3024815).<br /><br />**Примечание.** Начиная с [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] с пакетом обновления 2 (SP2) и [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] эта реакция управляется подсистемой, и флаг трассировки 6498 не оказывает влияния.<br /><br />**Область**: только глобальная|
|**6527**|Отключается создание дампа памяти при первом возникновении исключения «Нехватка памяти» при интеграции со средой CLR. По умолчанию [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] создает небольшой дамп памяти при первом возникновении исключения "Нехватка памяти" в CLR. Режим работы флага трассировки следующий.<br /><ul><li>Если используется как флаг трассировки при запуске, то дамп памяти никогда не создается. Однако если используются другие флаги трассировки, то дамп памяти может быть создан. <li>Если этот флаг трассировки включен на запущенном сервере, то дамп памяти будет автоматически создан, начиная с этой точки. Однако если дамп памяти был уже создан из-за возникновения исключения, связанного с нехваткой памяти, в CLR, то этот флаг трассировки никак не повлияет на работу системы.</li></ul><br />**Область**: только глобальная|
|**6532**|Включает улучшение производительности операций запросов с пространственными типами данных в [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] и [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]. Увеличение производительности зависит от конфигурации, типов запросов и объектов. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/3107399).<br /><br />**Примечание.** Начиная с версии [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] эта реакция управляется подсистемой, и флаг трассировки 6532 не оказывает влияния.<br /><br />**Область:** глобальная и сеанс|
|**6533**|Включает улучшение производительности операций запросов с пространственными типами данных в [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] и [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]. Увеличение производительности зависит от конфигурации, типов запросов и объектов. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/3107399).<br /><br />**Примечание.** Начиная с версии [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] эта реакция управляется подсистемой, и флаг трассировки 6533 не оказывает влияния.<br /><br />**Область:** глобальная и сеанс| 
|**6534**|Включает улучшение производительности операций запросов с пространственными типами данных в [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)], [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] и [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)]. Увеличение производительности зависит от конфигурации, типов запросов и объектов. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/3107399).<br /><br />**Область**: только глобальная|   
|**6545**|Активирует режим строгой безопасности в среде CLR. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/4018930).<br /><br />**Примечание.** Этот флаг трассировки применяется к [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] с пакетом обновления 3 (SP3) и накопительным пакетом обновления 10 (CU10), [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] с пакетом обновления 2 (SP2) и накопительным пакетом обновления 6 (CU6), [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] RTM с накопительным пакетом обновления 7 (CU7), [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] с пакетом обновления 1 (SP1) и накопительным пакетом обновления 4 (CU4) и более поздним сборкам. Начиная с [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)] эта функция включена по умолчанию, и флаг трассировки 6545 не оказывает влияния.<br /><br />**Область**: только глобальная|
|**7314**|Обеспечивает обработку значений NUMBER с неизвестной точностью или масштабом как двойных значений в поставщике OLE DB. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/3051993).<br /><br />**Область:** глобальная и сеанс|  
|**7412**|Включает инфраструктуру профилирования статистики выполнения упрощенных запросов. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/3170113).<br /><br />**Примечание.** Этот флаг трассировки применяется к [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] с пакетом обновления 1 (SP1) и более поздним версиям сборки. Начиная с версии [!INCLUDE[sql-server-2019](../../includes/sssqlv15-md.md)], этот флаг трассировки утрачивает влияние, так как упрощенное профилирование включено по умолчанию.<br /><br />**Область**: только глобальная|
|**7470**|Включает дополнительные вычисления для временно предоставляемых буферов памяти, необходимых для операций сортировки. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/3088480).<br /><br />**Примечание.** Этот флаг трассировки применяется к [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] с пакетом обновления 2 (SP2) и накопительным пакетом обновления 8 (CU8), [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] RTM с накопительным пакетом обновления 10 (CU10), [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] с пакетом обновления 1 (SP1) и накопительным пакетом обновления 3 (CU3) и более поздним сборкам.<br /><br />**ПРЕДУПРЕЖДЕНИЕ!** Флаг трассировки 7470 повышает требования к памяти для запросов, использующих операторы сортировки, и может влиять на доступность памяти для других параллельных запросов.<br /><br />**Область**: глобальная, сеанс или запрос (QUERYTRACEON)|
|**7471**|Включает выполнение нескольких инструкций [UPDATE STATISTICS](../../t-sql/statements/update-statistics-transact-sql.md) для разных статистик в одной таблице одновременно. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/3156157).<br /><br />**Примечание.** Этот флаг трассировки применяется к [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] с пакетом обновления 1 (SP1) и более поздним версиям сборки.<br /><br />**Область**: только глобальная|
|**7745**|Запрещает хранилищу запросов записывать данные на диск при завершении работы базы данных.<br /><br />**Примечание.** Использование этой трассировки может привести к утере ранее не записанных на диск данных хранилища запросов в случае завершения работы. В случае завершения работы [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] используйте вместо этого флага трассировки команду SHUTDOWN WITH NOWAIT, чтобы запустить немедленное завершение работы.<br /><br />**Область**: только глобальная|
|**7752**|Включает асинхронную загрузку хранилища запросов.<br /><br />**Примечание.** Используйте этот флаг трассировки, если у [!INCLUDE[ssNoVersion](../../includes/ssNoVersion-md.md)] большое число ожиданий QDS_LOADDB, связанных с синхронной загрузкой хранилища запросов (реакция по умолчанию для восстановления базы данных).<br /><br />**Примечание.** Начиная с версии [!INCLUDE[sql-server-2019](../../includes/sssqlv15-md.md)] эта реакция управляется подсистемой и флаг трассировки 7752 не оказывает влияния.<br /><br />**Область**: только глобальная|
|**7806**|Включает применение выделенных административных соединений (DAC) в [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)]. По умолчанию ресурсы приложения уровня данных не зарезервированы в [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)]. Дополнительные сведения см. в разделе [Диагностическое соединение для администраторов баз данных](../../database-engine/configure-windows/diagnostic-connection-for-database-administrators.md).<br /><br />**Область**: только глобальная|  
|**8011**|Отключает кольцевой буфер для монитора ресурсов. Диагностические данные в этом кольцевом буфере можно использовать для диагностики условий нехватки памяти. Таким образом, если используется этот флаг трассировки, значительно сокращается объем доступных данных для диагностики проблем производительности и функциональных проблем [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Флаг трассировки 8011 всегда применяется на всем сервере и имеет глобальную область действия. Флаг трассировки 8011 можно включить при запуске или в сеансе пользователя.<br /><br />**Область**: глобальная|
|**8012**|Отключает кольцевой буфер для планировщиков. [!INCLUDE[ssNoVersion](../../includes/ssNoVersion-md.md)] записывает событие в кольцевой буфер расписания каждый раз, когда происходит одно из следующих событий. <br/> — Планировщик переключает контекст на другой рабочий процесс. <br/> — Рабочая роль приостанавливается. <br/> — Рабочая роль возобновляется. <br/> — Рабочая роль переходит в режим с вытеснением или без него. <br/><br/> Диагностические данные в этом кольцевом буфере можно использовать для анализа проблем с расписанием. Например, сведения в этом кольцевом буфере можно использовать для устранения неполадок, когда [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] перестает отвечать на запросы. Флаг трассировки 8012 отключает запись событий для планировщиков. Флаг трассировки 8012 можно включить только при запуске.<br /><br />**ПРЕДУПРЕЖДЕНИЕ!** Если используется этот флаг трассировки, значительно сокращается объем доступных данных для диагностики проблем производительности и функциональных проблем [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].<br /><br />**Область**: только глобальная|
|**8015**|Отключает автоматическое обнаружение и установку NUMA. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/2813214).<br /><br />**Область**: только глобальная|
|**8018**|Отключает кольцевой буфер исключений. Кольцевой буфер исключений записывает последние 256 исключений, возникающих на узле. Каждая запись содержит некоторую информацию об ошибке и трассировку стека. Запись добавляется в кольцевой буфер при возникновении исключения. Флаг трассировки 8018 отключает создание кольцевого буфера, а сведения об исключениях не записываются. Флаг трассировки 8019 отключает сбор стеков во время создания записей. <br /><br />**ПРЕДУПРЕЖДЕНИЕ!** Если используется этот флаг трассировки, значительно сокращается объем доступных данных для диагностики проблем производительности и функциональных проблем [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. <br /><br />**Область**: только глобальная|
|**8019**|Отключает сбор стеков для кольцевого буфера исключений. Флаг трассировки 8019 не действует, если включен флаг трассировки 8018.<br /><br />**ПРЕДУПРЕЖДЕНИЕ!** Если используется этот флаг трассировки, значительно сокращается объем доступных данных для диагностики проблем производительности и функциональных проблем [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].<br /><br />**Область**: только глобальная|
|**8020**|Отключает мониторинг рабочего набора. [!INCLUDE[ssNoVersion](../../includes/ssNoVersion-md.md)] использует размер рабочего набора, когда получает глобальные сигналы состояния памяти от операционной системы. Флаг трассировки 8020 убирает размер памяти рабочего набора из рассмотрения, когда [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] интерпретирует глобальные сигналы состояния памяти. При неправильном использовании этого флага трассировки может иметь место активная подкачка, а производительность может быть снижена. Поэтому перед включением флага трассировки 8020 обратитесь в службу поддержки Майкрософт. Флаг трассировки 8020 можно включить только при запуске. <br /><br />**Область**: только глобальная|
|**8032**|Восстанавливает параметры предела кэша до значения в RTM-версии [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)], что обычно позволяет увеличить размер кэша. Используйте этот параметр, если часто используемые повторно записи кэша не помещаются в кэш и параметру конфигурации сервера [Оптимизировать для нерегламентированной рабочей нагрузки](../../database-engine/configure-windows/optimize-for-ad-hoc-workloads-server-configuration-option.md) не удалось разрешить эту проблему с помощью кэша планов.<br /><br />**ПРЕДУПРЕЖДЕНИЕ!** Применение флага трассировки 8032 может привести к снижению производительности, если увеличение кэша приводит к уменьшению объема памяти, доступной для других потребителей памяти, например для буферного пула.<br /><br />**Область**: только глобальная|   
|**8048**|Преобразует объекты памяти, секционированные по NUMA, в секционированные по ЦП. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/2809338).<br /><br />**Примечание.** Начиная с [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] с пакетом обновления 2 (SP2) и [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], эта реакция является динамической и управляется подсистемой.<br /><br />**Область**: только глобальная|  
|**8075**|Снижает степень фрагментации [виртуального адресного пространства](../../relational-databases/memory-management-architecture-guide.md#changes-to-memory-management-starting-2012-11x-gm) при получении ошибок выделения страниц в памяти в 64-разрядной среде [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] или [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/3074434).<br /><br />**Примечание.** Этот флаг трассировки применяется к [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)], [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] RTM с накопительным пакетом обновления 10 (CU10), а также к версии [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] с пакетом обновления 1 (SP1) и накопительным пакетом обновления 3 (CU3). Начиная с версии [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] эта реакция управляется подсистемой, и флаг трассировки 8075 не оказывает влияния.<br /><br />**Область**: только глобальная|
|**8079**|Позволяет [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] с пакетом обновления 2 (SP2) запрашивать структуру оборудования и автоматически настраивать Soft-NUMA в системах с 8 или более ЦП на одном узле NUMA. Автоматическая реализация Soft-NUMA учитывает многопоточность (потоки/логические процессоры). Секционирование и создание дополнительных узлов позволяет масштабировать фоновую обработку за счет увеличения числа прослушивателей и масштаба вычислений, а также расширения возможностей сети и шифрования.<br /><br />**Примечание.** Этот флаг трассировки применяется к [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] и SP2. Начиная с версии [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] эта реакция управляется подсистемой, и флаг трассировки 8079 не оказывает влияния.<br /><br />**Область**: только глобальная| 
|**8099**|Активирует исправление конфликтов спин-блокировок для высокопроизводительных систем [!INCLUDE[sql-server-2019](../../includes/sssqlv15-md.md)], одновременно обслуживающих множество пользователей.<br /><br />**Примечание.** Этот флаг трассировки применяется к [!INCLUDE[sql-server-2019](../../includes/sssqlv15-md.md)] с накопительным пакетом обновления 2 (CU2) и более поздним сборкам. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/4538688).<br /><br />**Область**: только глобальная| 
|**8207**|Включает отдельные обновления для репликации транзакций и CDC. Обновления для подписчиков можно реплицировать как пары инструкций DELETE и INSERT. Это может не удовлетворять бизнес-правилам, например для срабатывания триггера UPDATE. С флагом трассировки 8207 обновление в уникальном столбце, затрагивающее только одну строку (одноэлементное обновление), реплицируется как инструкция UPDATE, а не как пара инструкций DELETE или INSERT. Если обновление затрагивает столбец, для которого существует уникальное ограничение, или если обновление затрагивает несколько строк, то обновление будет реплицировано как пара инструкций DELETE или INSERT. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/302341).<br /><br />**Область**: только глобальная|
|**8721**|Делает запись в журнале ошибок при выполнении автоматического обновления статистики. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/195565).<br /><br />**Примечание.** Для этого флага трассировки требуется, чтобы был включен флаг трассировки [3605](#3605).<br /><br />**Область**: только глобальная|
|**8744**|Отключает предварительное получение для оператора [вложенных циклов](../../relational-databases/performance/joins.md#nested_loops).<br /><br />**ПРЕДУПРЕЖДЕНИЕ!** Неправильное использование этого флага трассировки может привести к дополнительным физическим операциям чтения, когда [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] выполняет планы, содержащие оператор вложенных циклов.<br /><br />**Область:** глобальная и сеанс|
|**9024**|Преобразует объект памяти пула глобального журнала в объект памяти, секционированный по узлу NUMA. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/2809338).<br /><br />**Примечание.** Начиная с [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] с пакетом обновления 3 (SP3) и [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] с пакетом обновления 1 (SP1) эта реакция управляется подсистемой, и флаг трассировки 9024 не оказывает влияния.<br /><br />**Область**: только глобальная|
|**9347**|Отключает пакетный режим для оператора sort. [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] вводит новый оператор sort в пакетном режиме, который повышает производительность для многих аналитических запросов. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/3172787).<br /><br />**Область**: глобальная, сеанс или запрос (QUERYTRACEON)|
|**9349**|Отключает пакетный режим для оператора top N sort. [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] вводит новый оператор top sort в пакетном режиме, который повышает производительность для многих аналитических запросов.<br /><br />**Область**: глобальная, сеанс или запрос (QUERYTRACEON)|
|**9389**|Включает дополнительный динамический временно предоставляемый буфер памяти для операторов пакетного режима. Если запрос не получает всю необходимую память, он передает данные в базу данных tempdb, что приводит к дополнительным операциям ввода-вывода и может повлиять на производительность запроса. Если включен флаг трассировки для динамического временно предоставляемого буфера памяти, оператор пакетного режима может запросить дополнительную память и избежать переноса данных в tempdb, если дополнительная память доступна. Дополнительные сведения см. в разделе *Последствия изменения минимального объема памяти на запрос* в [руководстве по архитектуре управления памятью](../../relational-databases/memory-management-architecture-guide.md#effects-of-min-memory-per-query).<br /><br />**Область**: глобальная или сеанс| 
|**9398**|Отключает оператор [Adaptive Join](../../relational-databases/performance/intelligent-query-processing.md#batch-mode-adaptive-joins), который позволяет отложить выбор метода [хэш-соединения или соединения вложенными циклами](../../relational-databases/performance/joins.md) до завершения сканирования первых входных данных, как было представлено в [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)]. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/4099126).<br /><br />**Примечание.** Тщательно протестируйте этот параметр, прежде чем развертывать его в рабочей среде.<br /><br />**Область**: глобальная, сеанс или запрос (QUERYTRACEON)|
|**9453**|Отключает выполнение в пакетном режиме. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/help/4016902).<br /><br />**Примечание.** Тщательно протестируйте этот параметр, прежде чем развертывать его в рабочей среде.<br /><br />**Область**: глобальная, сеанс или запрос (QUERYTRACEON)|
|**9471**|Побуждает [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] создать план с минимальной избирательностью для однотабличных фильтров в модели оценки кратности оптимизатора запросов версий [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] и выше.<br /><br />Начиная с [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] с пакетом обновления 1 (SP1) для выполнения этой задачи на уровне запроса добавьте [указание запроса](../../t-sql/queries/hints-transact-sql-query.md) USE HINT 'ASSUME_MIN_SELECTIVITY_FOR_FILTER_ESTIMATES' вместо использования этого флага трассировки.<br /><br />**Примечание.** Тщательно протестируйте этот параметр, прежде чем развертывать его в рабочей среде.<br /><br />**Примечание.** Этот флаг трассировки не применяется в CE версии 70. Вместо него используйте флаг трассировки 4137.<br /><br />**Область**: глобальная, сеанс или запрос (QUERYTRACEON)| 
|**9476**|Побуждает [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] создать план с допущением простого вложения вместо допущения базового вложения по умолчанию в модели оценки кратности оптимизатора запросов версий [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] и выше. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/3189675).<br /><br />Начиная с [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] с пакетом обновления 1 (SP1) для выполнения этой задачи на уровне запроса добавьте [указание запроса](../../t-sql/queries/hints-transact-sql-query.md) USE HINT 'ASSUME_JOIN_PREDICATE_DEPENDS_ON_FILTERS' вместо использования этого флага трассировки.<br /><br />**Примечание.** Тщательно протестируйте этот параметр, прежде чем развертывать его в рабочей среде.<br /><br />**Область**: глобальная, сеанс или запрос (QUERYTRACEON)| 
|**9481**|Позволяет указывать модель оценки кратности оптимизатора запросов в версии [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] и более ранних версиях независимо от уровня совместимости базы данных. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/2801413).<br /><br />Начиная с версии [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] эта задача выполняется на уровне базы данных в соответствии с инструкциями, которые можно найти в описании параметра LEGACY_CARDINALITY_ESTIMATION в статье [ALTER DATABASE SCOPED CONFIGURATION (Transact-SQL)](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md).<br /><br />Начиная с версии [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] с пакетом обновления 1 (SP1) для выполнения этой задачи на уровне запроса добавьте [указание запроса](../../t-sql/queries/hints-transact-sql-query.md) USE HINT 'FORCE_LEGACY_CARDINALITY_ESTIMATION' вместо этого флага трассировки.<br /><br />**Область**: глобальная, сеанс или запрос (QUERYTRACEON)|  
|**9485**|Запрет разрешения SELECT для DBCC SHOW_STATISTICS.<br /><br />**Область**: только глобальная|
|**9488**|<a name="9488"></a>Устанавливает для фиксированной оценки функций с табличным значением значение по умолчанию 1 (соответствующее значению по умолчанию в модели оценки кратности оптимизатора запросов в [!INCLUDE[ssKilimanjaro](../../includes/ssKilimanjaro-md.md)] и более ранних версиях) при использовании модели оценки кратности оптимизатора запросов версий [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] и выше.<br /><br />**Область**: глобальная, сеанс или запрос (QUERYTRACEON)|
|**9495**|Отключает параллелизм во время вставки для операций INSERT...SELECT и применяется к пользовательским и временным таблицам. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/3180087)<br /><br />**Область**: глобальная или сеанс| 
|**9567**|Включает сжатие потока данных для групп доступности AlwaysOn во время автоматического заполнения. Во время автоматического заполнения сжатие может значительно сократить время передачи и увеличит загрузку ЦП. Дополнительные сведения см. в разделах [Автоматическая инициализация группы доступности AlwaysOn](../../database-engine/availability-groups/windows/automatically-initialize-always-on-availability-group.md) и [Настройка сжатия для группы доступности](../../database-engine/availability-groups/windows/tune-compression-for-availability-group.md).<br /><br />**Область**: глобальная или сеанс|
|**9571**|Отключает автоматическое первоначальное заполнение пути базы данных по умолчанию для групп доступности. См. дополнительные сведения о [разметке диска](../../database-engine/availability-groups/windows/automatic-seeding-secondary-replicas.md).<br /><br />**Область**: глобальная или сеанс| 
|**9591**|Отключает сжатие блока журнала в группах доступности AlwaysOn. Сжатие блока журнала является реакцией по умолчанию, используемой с синхронными и асинхронными репликами в [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] и [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]. В [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] сжатие используется только с асинхронной репликой. <br /><br />**Область**: глобальная или сеанс|
|**9592**|Включает сжатие потока журналов для синхронных групп доступности. В синхронных группах доступности эта функция отключена по умолчанию, поскольку сжатие приводит к увеличению задержки. Дополнительные сведения см. в разделе [Tune compression for availability group](../../database-engine/availability-groups/windows/tune-compression-for-availability-group.md)(Настройка сжатия для группы доступности).<br /><br />**Область**: глобальная или сеанс| 
|**9929**|Сокращает файлы контрольных точек в памяти до 1 МБ для каждого файла. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/3147012).<br /><br />**Область**: только глобальная|  
|**9939**|Включает параллельные планы и параллельное сканирование таблиц, оптимизированных для памяти, и табличных переменных в операциях DML, которые ссылаются на таблицы, оптимизированные для памяти, или табличные переменные, при условии, что они не являются целевым объектом операции DML в [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)]. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/4013877).<br /><br />**Примечание.** Флаг трассировки 9939 не требуется, если флаг трассировки 4199 явным образом включен.<br /><br />**Область**: глобальная, сеанс или запрос (QUERYTRACEON)|   
|**10204**|Отключает слияние и повторное сжатие во время реорганизации индекса columnstore. В [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] при реорганизации индекса columnstore можно использовать новую функцию, которая автоматически объединяет малые сжатые группы строк в большие сжатые группы строк, а также повторно сжимает группы строк с большим количеством удаленных строк.<br /><br />**Примечание.** Флаг трассировки 10204 не применяется к индексам columnstore, которые создаются в таблицах, оптимизированных для памяти.<br /><br />**Область**: глобальная или сеанс|   
|**10316**|Включает создание дополнительных индексов во [внутренних промежуточных темпоральных таблицах, оптимизированных для памяти](../../relational-databases/tables/system-versioned-temporal-tables-with-memory-optimized-tables.md), помимо индекса по умолчанию. Если у вас есть определенный шаблон запроса, включающий в себя столбцы, к которым не относится индекс по умолчанию, вы можете добавить дополнительные индексы.<br /><br />**Примечание.** Темпоральные таблицы с системным управлением версиями для таблиц, оптимизированных для памяти, призваны обеспечить высокую скорость обработки транзакций. Имейте в виду, что создание дополнительных индексов может привести к издержкам для операций DML, которые обновляют или удаляют строки в текущей таблице. Используя дополнительные индексы, постарайтесь найти баланс между производительностью темпоральных запросов и дополнительными издержками DML.<br /><br />**Область**: глобальная или сеанс|
|**11023**|Отключает использование последней сохраненной частоты выборки для всех последующих обновлений статистики, где частота выборки не указана явно в инструкции [UPDATE STATISTICS](../../t-sql/statements/update-statistics-transact-sql.md). Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/4039284).<br /><br />**Область**: только глобальная|    
|**11024**|Включает запуск автоматического обновления статистики, когда число изменений любого раздела превышает локальное [пороговое значение](../../relational-databases/statistics/statistics.md#AutoUpdateStats). Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/4041811).<br /><br />**Примечание.** Этот флаг трассировки применяется к [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] с пакетом обновления 2 (SP2), [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)] с накопительным пакетом обновления 3 (CU3) и более поздним сборкам.<br /><br />**Область**: только глобальная| 
|**11047**|Применяет время ожидания по умолчанию, заданное `query wait (s)`, или конфигурацию Resource Governor `REQUEST_MEMORY_GRANT_TIMEOUT_SEC` для операций построения индекса columnstore. Дополнительные сведения см. в этой [статье службы поддержки Майкрософт](https://support.microsoft.com/kb/4480641).<br /><br />**Примечание.** Этот флаг трассировки применяется к [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] с пакетом обновления 2 (SP2), накопительным пакетом обновления 5 (CU5), [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)] с накопительным пакетом обновления 14 (CU14) и более поздним сборкам.<br /><br />**Область**: только глобальная| 
|**11064**|Повышает масштабируемость операций загрузки данных в индексы columnstore путем оптимизации распределения памяти между операторами `SELECT` и `INSERT`. Дополнительные сведения о загрузке данных в индекс columnstore см. в разделе [Индексы columnstore. Руководство по загрузке данных](../../relational-databases/indexes/columnstore-indexes-data-loading-guidance.md).<br /><br />**Примечание.** Этот флаг трассировки применяется к [!INCLUDE[sql-server-2019](../../includes/sssqlv15-md.md)] и более поздним версиям сборки.<br /><br />**Область**: только глобальная| 
|**11068**|Использует настроенное значение максимальной степени параллелизма (MAXDOP) сервера, базы данных или пула ресурсов для операций вставки индекса columnstore. Дополнительные сведения об изменении степени параллелизма см. в статье [Руководство по архитектуре обработки запросов](../../relational-databases/query-processing-architecture-guide.md#overriding-degrees-of-parallelism).<br /><br />**Внимание!** Этот флаг трассировки действует только в том случае, если включен флаг трассировки 11064.<br /><br />**Внимание!** Используйте этот флаг трассировки, если высокая скорость загрузки данных предпочтительнее, чем качество обслуживания [сегмента columnstore](../../relational-databases/indexes/columnstore-indexes-overview.md#column-segment). Например, использование этого флага трассировки при загрузке 1 048 577 строк в columnstore может привести к образованию нескольких сжатых групп строк, если операция вставки выполняется в параллельном режиме. Без этого флага трассировки операция вставки приведет к появлению одной сжатой группы строк.<br /><br />**Примечание.** Этот флаг трассировки применяется к [!INCLUDE[sql-server-2019](../../includes/sssqlv15-md.md)] и более поздним версиям сборки.<br /><br />**Область**: только глобальная| 
  
## <a name="examples"></a>Примеры  
 В следующем примере флаг трассировки 3205 включается для всех сеансов на уровне сервера с помощью команды DBCC TRACEON.  
  
```sql  
DBCC TRACEON (3205,-1);  
```

Можно включить все исправления, влияющие на план, которыми управляют флаги трассировки 4199 и 4137 для конкретного запроса.
  
```sql
SELECT x FROM correlated WHERE f1 = 0 AND f2 = 1 OPTION (QUERYTRACEON 4199, QUERYTRACEON 4137)
``` 
 
## <a name="see-also"></a>См. также:  
[Типы данных (Transact-SQL)](../../t-sql/data-types/data-types-transact-sql.md)  
[DBCC INPUTBUFFER (Transact-SQL)](../../t-sql/database-console-commands/dbcc-inputbuffer-transact-sql.md)  
[DBCC OUTPUTBUFFER (Transact-SQL)](../../t-sql/database-console-commands/dbcc-outputbuffer-transact-sql.md)  
[DBCC TRACEOFF (Transact-SQL)](../../t-sql/database-console-commands/dbcc-traceoff-transact-sql.md)  
[DBCC TRACEON (Transact-SQL)](../../t-sql/database-console-commands/dbcc-traceon-transact-sql.md)  
[DBCC TRACESTATUS (Transact-SQL)](../../t-sql/database-console-commands/dbcc-tracestatus-transact-sql.md)  
[EXECUTE (Transact-SQL)](../../t-sql/language-elements/execute-transact-sql.md)  
[SELECT (Transact-SQL)](../../t-sql/queries/select-transact-sql.md)  
[SET NOCOUNT (Transact-SQL)](../../t-sql/statements/set-nocount-transact-sql.md)  
[Параметры ALTER DATABASE SET &#40;Transact-SQL&#41;](../../t-sql/statements/alter-database-transact-sql-set-options.md)  
[ALTER DATABASE SCOPED CONFIGURATION &#40;Transact-SQL&#41;](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md)  
[Указания запросов (Transact-SQL)](../../t-sql/queries/hints-transact-sql-query.md)
