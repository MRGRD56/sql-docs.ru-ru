---
description: Выражения куба и вложенного куба
title: Использование выражений Cube и Cube | Документация Майкрософт
ms.date: 06/04/2018
ms.prod: sql
ms.technology: analysis-services
ms.custom: mdx
ms.topic: reference
ms.author: owend
ms.reviewer: owend
author: minewiskan
ms.openlocfilehash: 37f23c75d8a947e52daf47ef9648ccbd1587b9a8
ms.sourcegitcommit: cfa04a73b26312bf18d8f6296891679166e2754d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/19/2020
ms.locfileid: "92192304"
---
# <a name="using-cube-and-subcube-expressions"></a>Выражения куба и вложенного куба


  Выражения куба и вложенного куба используются в инструкциях многомерных выражений для определения данных, управления данными и извлечения данных из куба или вложенного куба.  
  
## <a name="cube-expressions"></a>Выражения куба  
 Выражение куба содержит идентификатор куба или ключевое слово CURRENTCUBE и поэтому может быть только простым выражением. Ключевое слово CURRENTCUBE позволяет ссылаться на контекст текущего куба, не указывая его идентификатор в явном виде.  
  
 Идентификатор куба отображается как *Cube_Name* в описаниях нотации BNF в ИНСТРУКЦИЯх многомерных выражений.  
  
 Выражения куба могут встречаться в нескольких местах. В инструкции SELECT многомерных выражений они указывают куб, из которого должны быть получены данные. В следующем примере запроса выражение [Adventure Works] ссылается на куб с этим именем:  
  
 `SELECT [Measures].[Internet Sales Amount] ON COLUMNS`  
  
 `FROM [Adventure Works]`  
  
 В инструкции CREATE MEMBER выражение куба задает куб, в котором появится создаваемый вычисляемый элемент. В следующем примере инструкция создает вычисляемую меру в измерения мер куба Adventure Works:  
  
 `CREATE MEMBER [Adventure Works].[Measures].[Test] AS 1`  
  
 Если инструкция CREATE MEMBER используется в скрипте многомерных выражений, то имя куба может быть заменено ключевым словом CURRENTCUBE, так как куб, в котором будет создан вычисляемый элемент, должен совпадать с кубом, которому принадлежит скрипт многомерных выражений, как показано в следующем примере:  
  
 `CREATE MEMBER CURRENTCUBE.[Measures].[Test] AS 1;`  
  
 В результате становится проще копировать и вставлять определения вычисляемого элемента из одного куба в другой, так как имя куба не задано жестко.  
  
## <a name="subcube-expressions"></a>Выражения вложенного куба  
 Выражение вложенного куба может содержать идентификатор вложенного куба или инструкцию многомерных выражений, возвращающую вложенный куб. Если выражение вложенного куба содержит идентификатор вложенного куба, то это будет простое выражение. Если оно содержит инструкцию многомерных выражений, которая возвращает вложенный куб, то это сложная инструкция. Например, инструкция многомерных выражений SELECT возвращает вложенный куб и может использоваться там, где допустимы выражения вложенного куба, как показано в следующем примере:  
  
 `SELECT [Measures].MEMBERS ON COLUMNS,`  
  
 `[Date].[Calendar Year].MEMBERS ON ROWS`  
  
 `FROM`  
  
 `(SELECT [Measures].[Internet Sales Amount] ON COLUMNS,`  
  
 `[Date].[Calendar Year].&[2004] ON ROWS`  
  
 `FROM [Adventure Works])`  
  
 Такое использование инструкции SELECT в предложении FROM называется также подзапросом выборки.  
  
 Другой типичный скрипт, где встречаются выражения вложенного куба, — это назначения с указанием области в скрипте многомерных выражений. В следующем примере используется инструкция SCOPE, чтобы ограничить назначение вложенным кубом, состоящим из [Measures].[Internet Sales Amount]:  
  
 `SCOPE([Measures].[Internet Sales Amount]);`  
  
 `This=1;`  
  
 `END SCOPE;`  
  
 Идентификатор вложенного куба отображается как *Subcube_Name*. в описаниях инструкций многомерных выражений в форме Бэкуса-Наура.  
  
## <a name="see-also"></a>См. также:  
 [Базовый запрос многомерных выражений &#40;многомерные выражения&#41;](/analysis-services/multidimensional-models/mdx/mdx-query-the-basic-query)   
 [Создание вложенных кубов в многомерных выражениях &#40;многомерных выражениях&#41;](/analysis-services/multidimensional-models/mdx/building-subcubes-in-mdx-mdx)   
 [Инструкция CREATE CUBE &#40;&#41;многомерных выражений ](../mdx/mdx-data-definition-create-subcube.md)   
 [Выражения &#40;&#41;многомерных выражений ](../mdx/expressions-mdx.md)   
 [Инструкция SCOPE (многомерные выражения)](../mdx/mdx-scripting-scope.md)  
  
